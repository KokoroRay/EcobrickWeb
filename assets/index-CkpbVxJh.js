var e=Object.create,t=Object.defineProperty,n=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,i=Object.getPrototypeOf,a=Object.prototype.hasOwnProperty,o=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),s=(e,i,o,s)=>{if(i&&typeof i==`object`||typeof i==`function`)for(var c=r(i),l=0,u=c.length,d;l<u;l++)d=c[l],!a.call(e,d)&&d!==o&&t(e,d,{get:(e=>i[e]).bind(null,d),enumerable:!(s=n(i,d))||s.enumerable});return e},c=(n,r,a)=>(a=n==null?{}:e(i(n)),s(r||!n||!n.__esModule?t(a,`default`,{value:n,enumerable:!0}):a,n));(function(){let e=document.createElement(`link`).relList;if(e&&e.supports&&e.supports(`modulepreload`))return;for(let e of document.querySelectorAll(`link[rel="modulepreload"]`))n(e);new MutationObserver(e=>{for(let t of e)if(t.type===`childList`)for(let e of t.addedNodes)e.tagName===`LINK`&&e.rel===`modulepreload`&&n(e)}).observe(document,{childList:!0,subtree:!0});function t(e){let t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin===`use-credentials`?t.credentials=`include`:e.crossOrigin===`anonymous`?t.credentials=`omit`:t.credentials=`same-origin`,t}function n(e){if(e.ep)return;e.ep=!0;let n=t(e);fetch(e.href,n)}})();var l=o((e=>{var t=Symbol.for(`react.transitional.element`),n=Symbol.for(`react.portal`),r=Symbol.for(`react.fragment`),i=Symbol.for(`react.strict_mode`),a=Symbol.for(`react.profiler`),o=Symbol.for(`react.consumer`),s=Symbol.for(`react.context`),c=Symbol.for(`react.forward_ref`),l=Symbol.for(`react.suspense`),u=Symbol.for(`react.memo`),d=Symbol.for(`react.lazy`),f=Symbol.for(`react.activity`),p=Symbol.iterator;function m(e){return typeof e!=`object`||!e?null:(e=p&&e[p]||e[`@@iterator`],typeof e==`function`?e:null)}var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,_={};function v(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||h}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if(typeof e!=`object`&&typeof e!=`function`&&e!=null)throw Error(`takes an object of state variables to update or a function which returns an object of state variables.`);this.updater.enqueueSetState(this,e,t,`setState`)},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,`forceUpdate`)};function y(){}y.prototype=v.prototype;function b(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||h}var x=b.prototype=new y;x.constructor=b,g(x,v.prototype),x.isPureReactComponent=!0;var S=Array.isArray;function C(){}var w={H:null,A:null,T:null,S:null},T=Object.prototype.hasOwnProperty;function E(e,n,r){var i=r.ref;return{$$typeof:t,type:e,key:n,ref:i===void 0?null:i,props:r}}function D(e,t){return E(e.type,t,e.props)}function O(e){return typeof e==`object`&&!!e&&e.$$typeof===t}function k(e){var t={"=":`=0`,":":`=2`};return`$`+e.replace(/[=:]/g,function(e){return t[e]})}var ee=/\/+/g;function A(e,t){return typeof e==`object`&&e&&e.key!=null?k(``+e.key):t.toString(36)}function te(e){switch(e.status){case`fulfilled`:return e.value;case`rejected`:throw e.reason;default:switch(typeof e.status==`string`?e.then(C,C):(e.status=`pending`,e.then(function(t){e.status===`pending`&&(e.status=`fulfilled`,e.value=t)},function(t){e.status===`pending`&&(e.status=`rejected`,e.reason=t)})),e.status){case`fulfilled`:return e.value;case`rejected`:throw e.reason}}throw e}function ne(e,r,i,a,o){var s=typeof e;(s===`undefined`||s===`boolean`)&&(e=null);var c=!1;if(e===null)c=!0;else switch(s){case`bigint`:case`string`:case`number`:c=!0;break;case`object`:switch(e.$$typeof){case t:case n:c=!0;break;case d:return c=e._init,ne(c(e._payload),r,i,a,o)}}if(c)return o=o(e),c=a===``?`.`+A(e,0):a,S(o)?(i=``,c!=null&&(i=c.replace(ee,`$&/`)+`/`),ne(o,r,i,``,function(e){return e})):o!=null&&(O(o)&&(o=D(o,i+(o.key==null||e&&e.key===o.key?``:(``+o.key).replace(ee,`$&/`)+`/`)+c)),r.push(o)),1;c=0;var l=a===``?`.`:a+`:`;if(S(e))for(var u=0;u<e.length;u++)a=e[u],s=l+A(a,u),c+=ne(a,r,i,s,o);else if(u=m(e),typeof u==`function`)for(e=u.call(e),u=0;!(a=e.next()).done;)a=a.value,s=l+A(a,u++),c+=ne(a,r,i,s,o);else if(s===`object`){if(typeof e.then==`function`)return ne(te(e),r,i,a,o);throw r=String(e),Error(`Objects are not valid as a React child (found: `+(r===`[object Object]`?`object with keys {`+Object.keys(e).join(`, `)+`}`:r)+`). If you meant to render a collection of children, use an array instead.`)}return c}function re(e,t,n){if(e==null)return e;var r=[],i=0;return ne(e,r,``,``,function(e){return t.call(n,e,i++)}),r}function ie(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(t){(e._status===0||e._status===-1)&&(e._status=1,e._result=t)},function(t){(e._status===0||e._status===-1)&&(e._status=2,e._result=t)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var j=typeof reportError==`function`?reportError:function(e){if(typeof window==`object`&&typeof window.ErrorEvent==`function`){var t=new window.ErrorEvent(`error`,{bubbles:!0,cancelable:!0,message:typeof e==`object`&&e&&typeof e.message==`string`?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process==`object`&&typeof process.emit==`function`){process.emit(`uncaughtException`,e);return}console.error(e)},M={map:re,forEach:function(e,t,n){re(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return re(e,function(){t++}),t},toArray:function(e){return re(e,function(e){return e})||[]},only:function(e){if(!O(e))throw Error(`React.Children.only expected to receive a single React element child.`);return e}};e.Activity=f,e.Children=M,e.Component=v,e.Fragment=r,e.Profiler=a,e.PureComponent=b,e.StrictMode=i,e.Suspense=l,e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=w,e.__COMPILER_RUNTIME={__proto__:null,c:function(e){return w.H.useMemoCache(e)}},e.cache=function(e){return function(){return e.apply(null,arguments)}},e.cacheSignal=function(){return null},e.cloneElement=function(e,t,n){if(e==null)throw Error(`The argument must be a React element, but you passed `+e+`.`);var r=g({},e.props),i=e.key;if(t!=null)for(a in t.key!==void 0&&(i=``+t.key),t)!T.call(t,a)||a===`key`||a===`__self`||a===`__source`||a===`ref`&&t.ref===void 0||(r[a]=t[a]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var o=Array(a),s=0;s<a;s++)o[s]=arguments[s+2];r.children=o}return E(e.type,i,r)},e.createContext=function(e){return e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:o,_context:e},e},e.createElement=function(e,t,n){var r,i={},a=null;if(t!=null)for(r in t.key!==void 0&&(a=``+t.key),t)T.call(t,r)&&r!==`key`&&r!==`__self`&&r!==`__source`&&(i[r]=t[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var s=Array(o),c=0;c<o;c++)s[c]=arguments[c+2];i.children=s}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return E(e,a,i)},e.createRef=function(){return{current:null}},e.forwardRef=function(e){return{$$typeof:c,render:e}},e.isValidElement=O,e.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:ie}},e.memo=function(e,t){return{$$typeof:u,type:e,compare:t===void 0?null:t}},e.startTransition=function(e){var t=w.T,n={};w.T=n;try{var r=e(),i=w.S;i!==null&&i(n,r),typeof r==`object`&&r&&typeof r.then==`function`&&r.then(C,j)}catch(e){j(e)}finally{t!==null&&n.types!==null&&(t.types=n.types),w.T=t}},e.unstable_useCacheRefresh=function(){return w.H.useCacheRefresh()},e.use=function(e){return w.H.use(e)},e.useActionState=function(e,t,n){return w.H.useActionState(e,t,n)},e.useCallback=function(e,t){return w.H.useCallback(e,t)},e.useContext=function(e){return w.H.useContext(e)},e.useDebugValue=function(){},e.useDeferredValue=function(e,t){return w.H.useDeferredValue(e,t)},e.useEffect=function(e,t){return w.H.useEffect(e,t)},e.useEffectEvent=function(e){return w.H.useEffectEvent(e)},e.useId=function(){return w.H.useId()},e.useImperativeHandle=function(e,t,n){return w.H.useImperativeHandle(e,t,n)},e.useInsertionEffect=function(e,t){return w.H.useInsertionEffect(e,t)},e.useLayoutEffect=function(e,t){return w.H.useLayoutEffect(e,t)},e.useMemo=function(e,t){return w.H.useMemo(e,t)},e.useOptimistic=function(e,t){return w.H.useOptimistic(e,t)},e.useReducer=function(e,t,n){return w.H.useReducer(e,t,n)},e.useRef=function(e){return w.H.useRef(e)},e.useState=function(e){return w.H.useState(e)},e.useSyncExternalStore=function(e,t,n){return w.H.useSyncExternalStore(e,t,n)},e.useTransition=function(){return w.H.useTransition()},e.version=`19.2.4`})),u=o(((e,t)=>{t.exports=l()})),d=o((e=>{function t(e,t){var n=e.length;e.push(t);a:for(;0<n;){var r=n-1>>>1,a=e[r];if(0<i(a,t))e[r]=t,e[n]=a,n=r;else break a}}function n(e){return e.length===0?null:e[0]}function r(e){if(e.length===0)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;a:for(var r=0,a=e.length,o=a>>>1;r<o;){var s=2*(r+1)-1,c=e[s],l=s+1,u=e[l];if(0>i(c,n))l<a&&0>i(u,c)?(e[r]=u,e[l]=n,r=l):(e[r]=c,e[s]=n,r=s);else if(l<a&&0>i(u,n))e[r]=u,e[l]=n,r=l;else break a}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return n===0?e.id-t.id:n}if(e.unstable_now=void 0,typeof performance==`object`&&typeof performance.now==`function`){var a=performance;e.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();e.unstable_now=function(){return o.now()-s}}var c=[],l=[],u=1,d=null,f=3,p=!1,m=!1,h=!1,g=!1,_=typeof setTimeout==`function`?setTimeout:null,v=typeof clearTimeout==`function`?clearTimeout:null,y=typeof setImmediate<`u`?setImmediate:null;function b(e){for(var i=n(l);i!==null;){if(i.callback===null)r(l);else if(i.startTime<=e)r(l),i.sortIndex=i.expirationTime,t(c,i);else break;i=n(l)}}function x(e){if(h=!1,b(e),!m)if(n(c)!==null)m=!0,S||(S=!0,O());else{var t=n(l);t!==null&&A(x,t.startTime-e)}}var S=!1,C=-1,w=5,T=-1;function E(){return g?!0:!(e.unstable_now()-T<w)}function D(){if(g=!1,S){var t=e.unstable_now();T=t;var i=!0;try{a:{m=!1,h&&(h=!1,v(C),C=-1),p=!0;var a=f;try{b:{for(b(t),d=n(c);d!==null&&!(d.expirationTime>t&&E());){var o=d.callback;if(typeof o==`function`){d.callback=null,f=d.priorityLevel;var s=o(d.expirationTime<=t);if(t=e.unstable_now(),typeof s==`function`){d.callback=s,b(t),i=!0;break b}d===n(c)&&r(c),b(t)}else r(c);d=n(c)}if(d!==null)i=!0;else{var u=n(l);u!==null&&A(x,u.startTime-t),i=!1}}break a}finally{d=null,f=a,p=!1}i=void 0}}finally{i?O():S=!1}}}var O;if(typeof y==`function`)O=function(){y(D)};else if(typeof MessageChannel<`u`){var k=new MessageChannel,ee=k.port2;k.port1.onmessage=D,O=function(){ee.postMessage(null)}}else O=function(){_(D,0)};function A(t,n){C=_(function(){t(e.unstable_now())},n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error(`forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported`):w=0<e?Math.floor(1e3/e):5},e.unstable_getCurrentPriorityLevel=function(){return f},e.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},e.unstable_requestPaint=function(){g=!0},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},e.unstable_scheduleCallback=function(r,i,a){var o=e.unstable_now();switch(typeof a==`object`&&a?(a=a.delay,a=typeof a==`number`&&0<a?o+a:o):a=o,r){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return s=a+s,r={id:u++,callback:i,priorityLevel:r,startTime:a,expirationTime:s,sortIndex:-1},a>o?(r.sortIndex=a,t(l,r),n(c)===null&&r===n(l)&&(h?(v(C),C=-1):h=!0,A(x,a-o))):(r.sortIndex=s,t(c,r),m||p||(m=!0,S||(S=!0,O()))),r},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}})),f=o(((e,t)=>{t.exports=d()})),p=o((e=>{var t=u();function n(e){var t=`https://react.dev/errors/`+e;if(1<arguments.length){t+=`?args[]=`+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+=`&args[]=`+encodeURIComponent(arguments[n])}return`Minified React error #`+e+`; visit `+t+` for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`}function r(){}var i={d:{f:r,r:function(){throw Error(n(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for(`react.portal`);function o(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:r==null?null:``+r,children:e,containerInfo:t,implementation:n}}var s=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){if(e===`font`)return``;if(typeof t==`string`)return t===`use-credentials`?t:``}e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,e.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(n(299));return o(e,t,null,r)},e.flushSync=function(e){var t=s.T,n=i.p;try{if(s.T=null,i.p=2,e)return e()}finally{s.T=t,i.p=n,i.d.f()}},e.preconnect=function(e,t){typeof e==`string`&&(t?(t=t.crossOrigin,t=typeof t==`string`?t===`use-credentials`?t:``:void 0):t=null,i.d.C(e,t))},e.prefetchDNS=function(e){typeof e==`string`&&i.d.D(e)},e.preinit=function(e,t){if(typeof e==`string`&&t&&typeof t.as==`string`){var n=t.as,r=c(n,t.crossOrigin),a=typeof t.integrity==`string`?t.integrity:void 0,o=typeof t.fetchPriority==`string`?t.fetchPriority:void 0;n===`style`?i.d.S(e,typeof t.precedence==`string`?t.precedence:void 0,{crossOrigin:r,integrity:a,fetchPriority:o}):n===`script`&&i.d.X(e,{crossOrigin:r,integrity:a,fetchPriority:o,nonce:typeof t.nonce==`string`?t.nonce:void 0})}},e.preinitModule=function(e,t){if(typeof e==`string`)if(typeof t==`object`&&t){if(t.as==null||t.as===`script`){var n=c(t.as,t.crossOrigin);i.d.M(e,{crossOrigin:n,integrity:typeof t.integrity==`string`?t.integrity:void 0,nonce:typeof t.nonce==`string`?t.nonce:void 0})}}else t??i.d.M(e)},e.preload=function(e,t){if(typeof e==`string`&&typeof t==`object`&&t&&typeof t.as==`string`){var n=t.as,r=c(n,t.crossOrigin);i.d.L(e,n,{crossOrigin:r,integrity:typeof t.integrity==`string`?t.integrity:void 0,nonce:typeof t.nonce==`string`?t.nonce:void 0,type:typeof t.type==`string`?t.type:void 0,fetchPriority:typeof t.fetchPriority==`string`?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy==`string`?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet==`string`?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes==`string`?t.imageSizes:void 0,media:typeof t.media==`string`?t.media:void 0})}},e.preloadModule=function(e,t){if(typeof e==`string`)if(t){var n=c(t.as,t.crossOrigin);i.d.m(e,{as:typeof t.as==`string`&&t.as!==`script`?t.as:void 0,crossOrigin:n,integrity:typeof t.integrity==`string`?t.integrity:void 0})}else i.d.m(e)},e.requestFormReset=function(e){i.d.r(e)},e.unstable_batchedUpdates=function(e,t){return e(t)},e.useFormState=function(e,t,n){return s.H.useFormState(e,t,n)},e.useFormStatus=function(){return s.H.useHostTransitionStatus()},e.version=`19.2.4`})),m=o(((e,t)=>{function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>`u`||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!=`function`))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}n(),t.exports=p()})),h=o((e=>{var t=f(),n=u(),r=m();function i(e){var t=`https://react.dev/errors/`+e;if(1<arguments.length){t+=`?args[]=`+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+=`&args[]=`+encodeURIComponent(arguments[n])}return`Minified React error #`+e+`; visit `+t+` for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`}function a(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function o(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function s(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function c(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function l(e){if(o(e)!==e)throw Error(i(188))}function d(e){var t=e.alternate;if(!t){if(t=o(e),t===null)throw Error(i(188));return t===e?e:null}for(var n=e,r=t;;){var a=n.return;if(a===null)break;var s=a.alternate;if(s===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===n)return l(a),e;if(s===r)return l(a),t;s=s.sibling}throw Error(i(188))}if(n.return!==r.return)n=a,r=s;else{for(var c=!1,u=a.child;u;){if(u===n){c=!0,n=a,r=s;break}if(u===r){c=!0,r=a,n=s;break}u=u.sibling}if(!c){for(u=s.child;u;){if(u===n){c=!0,n=s,r=a;break}if(u===r){c=!0,r=s,n=a;break}u=u.sibling}if(!c)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(n.tag!==3)throw Error(i(188));return n.stateNode.current===n?e:t}function p(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=p(e),t!==null)return t;e=e.sibling}return null}var h=Object.assign,g=Symbol.for(`react.element`),_=Symbol.for(`react.transitional.element`),v=Symbol.for(`react.portal`),y=Symbol.for(`react.fragment`),b=Symbol.for(`react.strict_mode`),x=Symbol.for(`react.profiler`),S=Symbol.for(`react.consumer`),C=Symbol.for(`react.context`),w=Symbol.for(`react.forward_ref`),T=Symbol.for(`react.suspense`),E=Symbol.for(`react.suspense_list`),D=Symbol.for(`react.memo`),O=Symbol.for(`react.lazy`),k=Symbol.for(`react.activity`),ee=Symbol.for(`react.memo_cache_sentinel`),A=Symbol.iterator;function te(e){return typeof e!=`object`||!e?null:(e=A&&e[A]||e[`@@iterator`],typeof e==`function`?e:null)}var ne=Symbol.for(`react.client.reference`);function re(e){if(e==null)return null;if(typeof e==`function`)return e.$$typeof===ne?null:e.displayName||e.name||null;if(typeof e==`string`)return e;switch(e){case y:return`Fragment`;case x:return`Profiler`;case b:return`StrictMode`;case T:return`Suspense`;case E:return`SuspenseList`;case k:return`Activity`}if(typeof e==`object`)switch(e.$$typeof){case v:return`Portal`;case C:return e.displayName||`Context`;case S:return(e._context.displayName||`Context`)+`.Consumer`;case w:var t=e.render;return e=e.displayName,e||=(e=t.displayName||t.name||``,e===``?`ForwardRef`:`ForwardRef(`+e+`)`),e;case D:return t=e.displayName||null,t===null?re(e.type)||`Memo`:t;case O:t=e._payload,e=e._init;try{return re(e(t))}catch{}}return null}var ie=Array.isArray,j=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ae={pending:!1,data:null,method:null,action:null},oe=[],N=-1;function se(e){return{current:e}}function ce(e){0>N||(e.current=oe[N],oe[N]=null,N--)}function le(e,t){N++,oe[N]=e.current,e.current=t}var ue=se(null),de=se(null),fe=se(null),pe=se(null);function me(e,t){switch(le(fe,t),le(de,e),le(ue,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Ud(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Ud(t),e=Wd(t,e);else switch(e){case`svg`:e=1;break;case`math`:e=2;break;default:e=0}}ce(ue),le(ue,e)}function he(){ce(ue),ce(de),ce(fe)}function ge(e){e.memoizedState!==null&&le(pe,e);var t=ue.current,n=Wd(t,e.type);t!==n&&(le(de,e),le(ue,n))}function _e(e){de.current===e&&(ce(ue),ce(de)),pe.current===e&&(ce(pe),$f._currentValue=ae)}var ve,ye;function be(e){if(ve===void 0)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);ve=t&&t[1]||``,ye=-1<e.stack.indexOf(`
    at`)?` (<anonymous>)`:-1<e.stack.indexOf(`@`)?`@unknown:0:0`:``}return`
`+ve+e+ye}var P=!1;function xe(e,t){if(!e||P)return``;P=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,`props`,{set:function(){throw Error()}}),typeof Reflect==`object`&&Reflect.construct){try{Reflect.construct(n,[])}catch(e){var r=e}Reflect.construct(e,[],n)}else{try{n.call()}catch(e){r=e}e.call(n.prototype)}}else{try{throw Error()}catch(e){r=e}(n=e())&&typeof n.catch==`function`&&n.catch(function(){})}}catch(e){if(e&&r&&typeof e.stack==`string`)return[e.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName=`DetermineComponentFrameRoot`;var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,`name`);i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,`name`,{value:`DetermineComponentFrameRoot`});var a=r.DetermineComponentFrameRoot(),o=a[0],s=a[1];if(o&&s){var c=o.split(`
`),l=s.split(`
`);for(i=r=0;r<c.length&&!c[r].includes(`DetermineComponentFrameRoot`);)r++;for(;i<l.length&&!l[i].includes(`DetermineComponentFrameRoot`);)i++;if(r===c.length||i===l.length)for(r=c.length-1,i=l.length-1;1<=r&&0<=i&&c[r]!==l[i];)i--;for(;1<=r&&0<=i;r--,i--)if(c[r]!==l[i]){if(r!==1||i!==1)do if(r--,i--,0>i||c[r]!==l[i]){var u=`
`+c[r].replace(` at new `,` at `);return e.displayName&&u.includes(`<anonymous>`)&&(u=u.replace(`<anonymous>`,e.displayName)),u}while(1<=r&&0<=i);break}}}finally{P=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:``)?be(n):``}function Se(e,t){switch(e.tag){case 26:case 27:case 5:return be(e.type);case 16:return be(`Lazy`);case 13:return e.child!==t&&t!==null?be(`Suspense Fallback`):be(`Suspense`);case 19:return be(`SuspenseList`);case 0:case 15:return xe(e.type,!1);case 11:return xe(e.type.render,!1);case 1:return xe(e.type,!0);case 31:return be(`Activity`);default:return``}}function Ce(e){try{var t=``,n=null;do t+=Se(e,n),n=e,e=e.return;while(e);return t}catch(e){return`
Error generating stack: `+e.message+`
`+e.stack}}var we=Object.prototype.hasOwnProperty,Te=t.unstable_scheduleCallback,Ee=t.unstable_cancelCallback,De=t.unstable_shouldYield,Oe=t.unstable_requestPaint,ke=t.unstable_now,Ae=t.unstable_getCurrentPriorityLevel,je=t.unstable_ImmediatePriority,Me=t.unstable_UserBlockingPriority,F=t.unstable_NormalPriority,Ne=t.unstable_LowPriority,Pe=t.unstable_IdlePriority,Fe=t.log,Ie=t.unstable_setDisableYieldValue,Le=null,Re=null;function I(e){if(typeof Fe==`function`&&Ie(e),Re&&typeof Re.setStrictMode==`function`)try{Re.setStrictMode(Le,e)}catch{}}var ze=Math.clz32?Math.clz32:He,Be=Math.log,Ve=Math.LN2;function He(e){return e>>>=0,e===0?32:31-(Be(e)/Ve|0)|0}var Ue=256,We=262144,Ge=4194304;function Ke(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function qe(e,t,n){var r=e.pendingLanes;if(r===0)return 0;var i=0,a=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var s=r&134217727;return s===0?(s=r&~a,s===0?o===0?n||(n=r&~e,n!==0&&(i=Ke(n))):i=Ke(o):i=Ke(s)):(r=s&~a,r===0?(o&=s,o===0?n||(n=s&~e,n!==0&&(i=Ke(n))):i=Ke(o)):i=Ke(r)),i===0?0:t!==0&&t!==i&&(t&a)===0&&(a=i&-i,n=t&-t,a>=n||a===32&&n&4194048)?t:i}function Je(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Ye(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xe(){var e=Ge;return Ge<<=1,!(Ge&62914560)&&(Ge=4194304),e}function Ze(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Qe(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function $e(e,t,n,r,i,a){var o=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,c=e.expirationTimes,l=e.hiddenUpdates;for(n=o&~n;0<n;){var u=31-ze(n),d=1<<u;s[u]=0,c[u]=-1;var f=l[u];if(f!==null)for(l[u]=null,u=0;u<f.length;u++){var p=f[u];p!==null&&(p.lane&=-536870913)}n&=~d}r!==0&&L(e,r,0),a!==0&&i===0&&e.tag!==0&&(e.suspendedLanes|=a&~(o&~t))}function L(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-ze(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|n&261930}function et(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ze(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function tt(e,t){var n=t&-t;return n=n&42?1:nt(n),(n&(e.suspendedLanes|t))===0?n:0}function nt(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function rt(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function it(){var e=M.p;return e===0?(e=window.event,e===void 0?32:$(e.type)):e}function at(e,t){var n=M.p;try{return M.p=e,t()}finally{M.p=n}}var ot=Math.random().toString(36).slice(2),st=`__reactFiber$`+ot,ct=`__reactProps$`+ot,lt=`__reactContainer$`+ot,ut=`__reactEvents$`+ot,dt=`__reactListeners$`+ot,ft=`__reactHandles$`+ot,pt=`__reactResources$`+ot,mt=`__reactMarker$`+ot;function R(e){delete e[st],delete e[ct],delete e[ut],delete e[dt],delete e[ft]}function ht(e){var t=e[st];if(t)return t;for(var n=e.parentNode;n;){if(t=n[lt]||n[st]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ff(e);e!==null;){if(n=e[st])return n;e=ff(e)}return t}e=n,n=e.parentNode}return null}function gt(e){if(e=e[st]||e[lt]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function _t(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(i(33))}function vt(e){var t=e[pt];return t||=e[pt]={hoistableStyles:new Map,hoistableScripts:new Map},t}function z(e){e[mt]=!0}var yt=new Set,bt={};function xt(e,t){St(e,t),St(e+`Capture`,t)}function St(e,t){for(bt[e]=t,e=0;e<t.length;e++)yt.add(t[e])}var Ct=RegExp(`^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$`),wt={},Tt={};function Et(e){return we.call(Tt,e)?!0:we.call(wt,e)?!1:Ct.test(e)?Tt[e]=!0:(wt[e]=!0,!1)}function Dt(e,t,n){if(Et(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case`undefined`:case`function`:case`symbol`:e.removeAttribute(t);return;case`boolean`:var r=t.toLowerCase().slice(0,5);if(r!==`data-`&&r!==`aria-`){e.removeAttribute(t);return}}e.setAttribute(t,``+n)}}function Ot(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case`undefined`:case`function`:case`symbol`:case`boolean`:e.removeAttribute(t);return}e.setAttribute(t,``+n)}}function kt(e,t,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case`undefined`:case`function`:case`symbol`:case`boolean`:e.removeAttribute(n);return}e.setAttributeNS(t,n,``+r)}}function At(e){switch(typeof e){case`bigint`:case`boolean`:case`number`:case`string`:case`undefined`:return e;case`object`:return e;default:return``}}function jt(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()===`input`&&(t===`checkbox`||t===`radio`)}function Mt(e,t,n){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&r!==void 0&&typeof r.get==`function`&&typeof r.set==`function`){var i=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=``+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=``+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function B(e){if(!e._valueTracker){var t=jt(e)?`checked`:`value`;e._valueTracker=Mt(e,t,``+e[t])}}function V(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r=``;return e&&(r=jt(e)?e.checked?`true`:`false`:e.value),e=r,e===n?!1:(t.setValue(e),!0)}function H(e){if(e||=typeof document<`u`?document:void 0,e===void 0)return null;try{return e.activeElement||e.body}catch{return e.body}}var Nt=/[\n"\\]/g;function Pt(e){return e.replace(Nt,function(e){return`\\`+e.charCodeAt(0).toString(16)+` `})}function Ft(e,t,n,r,i,a,o,s){e.name=``,o!=null&&typeof o!=`function`&&typeof o!=`symbol`&&typeof o!=`boolean`?e.type=o:e.removeAttribute(`type`),t==null?o!==`submit`&&o!==`reset`||e.removeAttribute(`value`):o===`number`?(t===0&&e.value===``||e.value!=t)&&(e.value=``+At(t)):e.value!==``+At(t)&&(e.value=``+At(t)),t==null?n==null?r!=null&&e.removeAttribute(`value`):Lt(e,o,At(n)):Lt(e,o,At(t)),i==null&&a!=null&&(e.defaultChecked=!!a),i!=null&&(e.checked=i&&typeof i!=`function`&&typeof i!=`symbol`),s!=null&&typeof s!=`function`&&typeof s!=`symbol`&&typeof s!=`boolean`?e.name=``+At(s):e.removeAttribute(`name`)}function It(e,t,n,r,i,a,o,s){if(a!=null&&typeof a!=`function`&&typeof a!=`symbol`&&typeof a!=`boolean`&&(e.type=a),t!=null||n!=null){if(!(a!==`submit`&&a!==`reset`||t!=null)){B(e);return}n=n==null?``:``+At(n),t=t==null?n:``+At(t),s||t===e.value||(e.value=t),e.defaultValue=t}r??=i,r=typeof r!=`function`&&typeof r!=`symbol`&&!!r,e.checked=s?e.checked:!!r,e.defaultChecked=!!r,o!=null&&typeof o!=`function`&&typeof o!=`symbol`&&typeof o!=`boolean`&&(e.name=o),B(e)}function Lt(e,t,n){t===`number`&&H(e.ownerDocument)===e||e.defaultValue===``+n||(e.defaultValue=``+n)}function U(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t[`$`+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty(`$`+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=``+At(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Rt(e,t,n){if(t!=null&&(t=``+At(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n==null?``:``+At(n)}function zt(e,t,n,r){if(t==null){if(r!=null){if(n!=null)throw Error(i(92));if(ie(r)){if(1<r.length)throw Error(i(93));r=r[0]}n=r}n??=``,t=n}n=At(t),e.defaultValue=n,r=e.textContent,r===n&&r!==``&&r!==null&&(e.value=r),B(e)}function Bt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Vt=new Set(`animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp`.split(` `));function Ht(e,t,n){var r=t.indexOf(`--`)===0;n==null||typeof n==`boolean`||n===``?r?e.setProperty(t,``):t===`float`?e.cssFloat=``:e[t]=``:r?e.setProperty(t,n):typeof n!=`number`||n===0||Vt.has(t)?t===`float`?e.cssFloat=n:e[t]=(``+n).trim():e[t]=n+`px`}function Ut(e,t,n){if(t!=null&&typeof t!=`object`)throw Error(i(62));if(e=e.style,n!=null){for(var r in n)!n.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf(`--`)===0?e.setProperty(r,``):r===`float`?e.cssFloat=``:e[r]=``);for(var a in t)r=t[a],t.hasOwnProperty(a)&&n[a]!==r&&Ht(e,a,r)}else for(var o in t)t.hasOwnProperty(o)&&Ht(e,o,t[o])}function Wt(e){if(e.indexOf(`-`)===-1)return!1;switch(e){case`annotation-xml`:case`color-profile`:case`font-face`:case`font-face-src`:case`font-face-uri`:case`font-face-format`:case`font-face-name`:case`missing-glyph`:return!1;default:return!0}}var Gt=new Map([[`acceptCharset`,`accept-charset`],[`htmlFor`,`for`],[`httpEquiv`,`http-equiv`],[`crossOrigin`,`crossorigin`],[`accentHeight`,`accent-height`],[`alignmentBaseline`,`alignment-baseline`],[`arabicForm`,`arabic-form`],[`baselineShift`,`baseline-shift`],[`capHeight`,`cap-height`],[`clipPath`,`clip-path`],[`clipRule`,`clip-rule`],[`colorInterpolation`,`color-interpolation`],[`colorInterpolationFilters`,`color-interpolation-filters`],[`colorProfile`,`color-profile`],[`colorRendering`,`color-rendering`],[`dominantBaseline`,`dominant-baseline`],[`enableBackground`,`enable-background`],[`fillOpacity`,`fill-opacity`],[`fillRule`,`fill-rule`],[`floodColor`,`flood-color`],[`floodOpacity`,`flood-opacity`],[`fontFamily`,`font-family`],[`fontSize`,`font-size`],[`fontSizeAdjust`,`font-size-adjust`],[`fontStretch`,`font-stretch`],[`fontStyle`,`font-style`],[`fontVariant`,`font-variant`],[`fontWeight`,`font-weight`],[`glyphName`,`glyph-name`],[`glyphOrientationHorizontal`,`glyph-orientation-horizontal`],[`glyphOrientationVertical`,`glyph-orientation-vertical`],[`horizAdvX`,`horiz-adv-x`],[`horizOriginX`,`horiz-origin-x`],[`imageRendering`,`image-rendering`],[`letterSpacing`,`letter-spacing`],[`lightingColor`,`lighting-color`],[`markerEnd`,`marker-end`],[`markerMid`,`marker-mid`],[`markerStart`,`marker-start`],[`overlinePosition`,`overline-position`],[`overlineThickness`,`overline-thickness`],[`paintOrder`,`paint-order`],[`panose-1`,`panose-1`],[`pointerEvents`,`pointer-events`],[`renderingIntent`,`rendering-intent`],[`shapeRendering`,`shape-rendering`],[`stopColor`,`stop-color`],[`stopOpacity`,`stop-opacity`],[`strikethroughPosition`,`strikethrough-position`],[`strikethroughThickness`,`strikethrough-thickness`],[`strokeDasharray`,`stroke-dasharray`],[`strokeDashoffset`,`stroke-dashoffset`],[`strokeLinecap`,`stroke-linecap`],[`strokeLinejoin`,`stroke-linejoin`],[`strokeMiterlimit`,`stroke-miterlimit`],[`strokeOpacity`,`stroke-opacity`],[`strokeWidth`,`stroke-width`],[`textAnchor`,`text-anchor`],[`textDecoration`,`text-decoration`],[`textRendering`,`text-rendering`],[`transformOrigin`,`transform-origin`],[`underlinePosition`,`underline-position`],[`underlineThickness`,`underline-thickness`],[`unicodeBidi`,`unicode-bidi`],[`unicodeRange`,`unicode-range`],[`unitsPerEm`,`units-per-em`],[`vAlphabetic`,`v-alphabetic`],[`vHanging`,`v-hanging`],[`vIdeographic`,`v-ideographic`],[`vMathematical`,`v-mathematical`],[`vectorEffect`,`vector-effect`],[`vertAdvY`,`vert-adv-y`],[`vertOriginX`,`vert-origin-x`],[`vertOriginY`,`vert-origin-y`],[`wordSpacing`,`word-spacing`],[`writingMode`,`writing-mode`],[`xmlnsXlink`,`xmlns:xlink`],[`xHeight`,`x-height`]]),Kt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function qt(e){return Kt.test(``+e)?`javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')`:e}function W(){}var Jt=null;function G(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Yt=null,Xt=null;function Zt(e){var t=gt(e);if(t&&(e=t.stateNode)){var n=e[ct]||null;a:switch(e=t.stateNode,t.type){case`input`:if(Ft(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type===`radio`&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll(`input[name="`+Pt(``+t)+`"][type="radio"]`),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=r[ct]||null;if(!a)throw Error(i(90));Ft(r,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name)}}for(t=0;t<n.length;t++)r=n[t],r.form===e.form&&V(r)}break a;case`textarea`:Rt(e,n.value,n.defaultValue);break a;case`select`:t=n.value,t!=null&&U(e,!!n.multiple,t,!1)}}}var Qt=!1;function $t(e,t,n){if(Qt)return e(t,n);Qt=!0;try{return e(t)}finally{if(Qt=!1,(Yt!==null||Xt!==null)&&(yu(),Yt&&(t=Yt,e=Xt,Xt=Yt=null,Zt(t),e)))for(t=0;t<e.length;t++)Zt(e[t])}}function en(e,t){var n=e.stateNode;if(n===null)return null;var r=n[ct]||null;if(r===null)return null;n=r[t];a:switch(t){case`onClick`:case`onClickCapture`:case`onDoubleClick`:case`onDoubleClickCapture`:case`onMouseDown`:case`onMouseDownCapture`:case`onMouseMove`:case`onMouseMoveCapture`:case`onMouseUp`:case`onMouseUpCapture`:case`onMouseEnter`:(r=!r.disabled)||(e=e.type,r=!(e===`button`||e===`input`||e===`select`||e===`textarea`)),e=!r;break a;default:e=!1}if(e)return null;if(n&&typeof n!=`function`)throw Error(i(231,t,typeof n));return n}var tn=!(typeof window>`u`||window.document===void 0||window.document.createElement===void 0),nn=!1;if(tn)try{var rn={};Object.defineProperty(rn,`passive`,{get:function(){nn=!0}}),window.addEventListener(`test`,rn,rn),window.removeEventListener(`test`,rn,rn)}catch{nn=!1}var an=null,on=null,sn=null;function cn(){if(sn)return sn;var e,t=on,n=t.length,r,i=`value`in an?an.value:an.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var o=n-e;for(r=1;r<=o&&t[n-r]===i[a-r];r++);return sn=i.slice(e,1<r?1-r:void 0)}function ln(e){var t=e.keyCode;return`charCode`in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function un(){return!0}function dn(){return!1}function fn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(i.defaultPrevented==null?!1===i.returnValue:i.defaultPrevented)?un:dn,this.isPropagationStopped=dn,this}return h(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():typeof e.returnValue!=`unknown`&&(e.returnValue=!1),this.isDefaultPrevented=un)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():typeof e.cancelBubble!=`unknown`&&(e.cancelBubble=!0),this.isPropagationStopped=un)},persist:function(){},isPersistent:un}),t}var pn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mn=fn(pn),hn=h({},pn,{view:0,detail:0}),gn=fn(hn),_n,vn,yn,K=h({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return`movementX`in e?e.movementX:(e!==yn&&(yn&&e.type===`mousemove`?(_n=e.screenX-yn.screenX,vn=e.screenY-yn.screenY):vn=_n=0,yn=e),_n)},movementY:function(e){return`movementY`in e?e.movementY:vn}}),q=fn(K),bn=fn(h({},K,{dataTransfer:0})),xn=fn(h({},hn,{relatedTarget:0})),Sn=fn(h({},pn,{animationName:0,elapsedTime:0,pseudoElement:0})),Cn=fn(h({},pn,{clipboardData:function(e){return`clipboardData`in e?e.clipboardData:window.clipboardData}})),wn=fn(h({},pn,{data:0})),Tn={Esc:`Escape`,Spacebar:` `,Left:`ArrowLeft`,Up:`ArrowUp`,Right:`ArrowRight`,Down:`ArrowDown`,Del:`Delete`,Win:`OS`,Menu:`ContextMenu`,Apps:`ContextMenu`,Scroll:`ScrollLock`,MozPrintableKey:`Unidentified`},En={8:`Backspace`,9:`Tab`,12:`Clear`,13:`Enter`,16:`Shift`,17:`Control`,18:`Alt`,19:`Pause`,20:`CapsLock`,27:`Escape`,32:` `,33:`PageUp`,34:`PageDown`,35:`End`,36:`Home`,37:`ArrowLeft`,38:`ArrowUp`,39:`ArrowRight`,40:`ArrowDown`,45:`Insert`,46:`Delete`,112:`F1`,113:`F2`,114:`F3`,115:`F4`,116:`F5`,117:`F6`,118:`F7`,119:`F8`,120:`F9`,121:`F10`,122:`F11`,123:`F12`,144:`NumLock`,145:`ScrollLock`,224:`Meta`},Dn={Alt:`altKey`,Control:`ctrlKey`,Meta:`metaKey`,Shift:`shiftKey`};function On(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Dn[e])?!!t[e]:!1}function kn(){return On}var An=fn(h({},hn,{key:function(e){if(e.key){var t=Tn[e.key]||e.key;if(t!==`Unidentified`)return t}return e.type===`keypress`?(e=ln(e),e===13?`Enter`:String.fromCharCode(e)):e.type===`keydown`||e.type===`keyup`?En[e.keyCode]||`Unidentified`:``},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(e){return e.type===`keypress`?ln(e):0},keyCode:function(e){return e.type===`keydown`||e.type===`keyup`?e.keyCode:0},which:function(e){return e.type===`keypress`?ln(e):e.type===`keydown`||e.type===`keyup`?e.keyCode:0}})),jn=fn(h({},K,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Mn=fn(h({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),J=fn(h({},pn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=fn(h({},K,{deltaX:function(e){return`deltaX`in e?e.deltaX:`wheelDeltaX`in e?-e.wheelDeltaX:0},deltaY:function(e){return`deltaY`in e?e.deltaY:`wheelDeltaY`in e?-e.wheelDeltaY:`wheelDelta`in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),Pn=fn(h({},pn,{newState:0,oldState:0})),Fn=[9,13,27,32],In=tn&&`CompositionEvent`in window,Ln=null;tn&&`documentMode`in document&&(Ln=document.documentMode);var Rn=tn&&`TextEvent`in window&&!Ln,zn=tn&&(!In||Ln&&8<Ln&&11>=Ln),Bn=` `,Vn=!1;function Hn(e,t){switch(e){case`keyup`:return Fn.indexOf(t.keyCode)!==-1;case`keydown`:return t.keyCode!==229;case`keypress`:case`mousedown`:case`focusout`:return!0;default:return!1}}function Un(e){return e=e.detail,typeof e==`object`&&`data`in e?e.data:null}var Wn=!1;function Gn(e,t){switch(e){case`compositionend`:return Un(t);case`keypress`:return t.which===32?(Vn=!0,Bn):null;case`textInput`:return e=t.data,e===Bn&&Vn?null:e;default:return null}}function Kn(e,t){if(Wn)return e===`compositionend`||!In&&Hn(e,t)?(e=cn(),sn=on=an=null,Wn=!1,e):null;switch(e){case`paste`:return null;case`keypress`:if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case`compositionend`:return zn&&t.locale!==`ko`?null:t.data;default:return null}}var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t===`input`?!!qn[e.type]:t===`textarea`}function Yn(e,t,n,r){Yt?Xt?Xt.push(r):Xt=[r]:Yt=r,t=Dd(t,`onChange`),0<t.length&&(n=new mn(`onChange`,`change`,null,n,r),e.push({event:n,listeners:t}))}var Xn=null,Zn=null;function Qn(e){yd(e,0)}function $n(e){if(V(_t(e)))return e}function er(e,t){if(e===`change`)return t}var tr=!1;if(tn){var nr;if(tn){var rr=`oninput`in document;if(!rr){var ir=document.createElement(`div`);ir.setAttribute(`oninput`,`return;`),rr=typeof ir.oninput==`function`}nr=rr}else nr=!1;tr=nr&&(!document.documentMode||9<document.documentMode)}function ar(){Xn&&(Xn.detachEvent(`onpropertychange`,or),Zn=Xn=null)}function or(e){if(e.propertyName===`value`&&$n(Zn)){var t=[];Yn(t,Zn,e,G(e)),$t(Qn,t)}}function sr(e,t,n){e===`focusin`?(ar(),Xn=t,Zn=n,Xn.attachEvent(`onpropertychange`,or)):e===`focusout`&&ar()}function cr(e){if(e===`selectionchange`||e===`keyup`||e===`keydown`)return $n(Zn)}function lr(e,t){if(e===`click`)return $n(t)}function ur(e,t){if(e===`input`||e===`change`)return $n(t)}function dr(e,t){return e===t&&(e!==0||1/e==1/t)||e!==e&&t!==t}var fr=typeof Object.is==`function`?Object.is:dr;function pr(e,t){if(fr(e,t))return!0;if(typeof e!=`object`||!e||typeof t!=`object`||!t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!we.call(t,i)||!fr(e[i],t[i]))return!1}return!0}function mr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function hr(e,t){var n=mr(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}a:{for(;n;){if(n.nextSibling){n=n.nextSibling;break a}n=n.parentNode}n=void 0}n=mr(n)}}function gr(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?gr(e,t.parentNode):`contains`in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function _r(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=H(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href==`string`}catch{n=!1}if(n)e=t.contentWindow;else break;t=H(e.document)}return t}function vr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t===`input`&&(e.type===`text`||e.type===`search`||e.type===`tel`||e.type===`url`||e.type===`password`)||t===`textarea`||e.contentEditable===`true`)}var yr=tn&&`documentMode`in document&&11>=document.documentMode,br=null,xr=null,Sr=null,Cr=!1;function wr(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Cr||br==null||br!==H(r)||(r=br,`selectionStart`in r&&vr(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Sr&&pr(Sr,r)||(Sr=r,r=Dd(xr,`onSelect`),0<r.length&&(t=new mn(`onSelect`,`select`,null,t,n),e.push({event:t,listeners:r}),t.target=br)))}function Tr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n[`Webkit`+e]=`webkit`+t,n[`Moz`+e]=`moz`+t,n}var Er={animationend:Tr(`Animation`,`AnimationEnd`),animationiteration:Tr(`Animation`,`AnimationIteration`),animationstart:Tr(`Animation`,`AnimationStart`),transitionrun:Tr(`Transition`,`TransitionRun`),transitionstart:Tr(`Transition`,`TransitionStart`),transitioncancel:Tr(`Transition`,`TransitionCancel`),transitionend:Tr(`Transition`,`TransitionEnd`)},Dr={},Or={};tn&&(Or=document.createElement(`div`).style,`AnimationEvent`in window||(delete Er.animationend.animation,delete Er.animationiteration.animation,delete Er.animationstart.animation),`TransitionEvent`in window||delete Er.transitionend.transition);function kr(e){if(Dr[e])return Dr[e];if(!Er[e])return e;var t=Er[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Or)return Dr[e]=t[n];return e}var Ar=kr(`animationend`),jr=kr(`animationiteration`),Mr=kr(`animationstart`),Nr=kr(`transitionrun`),Pr=kr(`transitionstart`),Fr=kr(`transitioncancel`),Ir=kr(`transitionend`),Lr=new Map,Rr=`abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel`.split(` `);Rr.push(`scrollEnd`);function zr(e,t){Lr.set(e,t),xt(t,[e])}var Br=typeof reportError==`function`?reportError:function(e){if(typeof window==`object`&&typeof window.ErrorEvent==`function`){var t=new window.ErrorEvent(`error`,{bubbles:!0,cancelable:!0,message:typeof e==`object`&&e&&typeof e.message==`string`?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process==`object`&&typeof process.emit==`function`){process.emit(`uncaughtException`,e);return}console.error(e)},Vr=[],Hr=0,Ur=0;function Wr(){for(var e=Hr,t=Ur=Hr=0;t<e;){var n=Vr[t];Vr[t++]=null;var r=Vr[t];Vr[t++]=null;var i=Vr[t];Vr[t++]=null;var a=Vr[t];if(Vr[t++]=null,r!==null&&i!==null){var o=r.pending;o===null?i.next=i:(i.next=o.next,o.next=i),r.pending=i}a!==0&&Jr(n,i,a)}}function Gr(e,t,n,r){Vr[Hr++]=e,Vr[Hr++]=t,Vr[Hr++]=n,Vr[Hr++]=r,Ur|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function Kr(e,t,n,r){return Gr(e,t,n,r),Yr(e)}function qr(e,t){return Gr(e,null,null,t),Yr(e)}function Jr(e,t,n){e.lanes|=n;var r=e.alternate;r!==null&&(r.lanes|=n);for(var i=!1,a=e.return;a!==null;)a.childLanes|=n,r=a.alternate,r!==null&&(r.childLanes|=n),a.tag===22&&(e=a.stateNode,e===null||e._visibility&1||(i=!0)),e=a,a=a.return;return e.tag===3?(a=e.stateNode,i&&t!==null&&(i=31-ze(n),e=a.hiddenUpdates,r=e[i],r===null?e[i]=[t]:r.push(t),t.lane=n|536870912),a):null}function Yr(e){if(50<uu)throw uu=0,du=null,Error(i(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Xr={};function Zr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qr(e,t,n,r){return new Zr(e,t,n,r)}function $r(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ei(e,t){var n=e.alternate;return n===null?(n=Qr(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function ti(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function ni(e,t,n,r,a,o){var s=0;if(r=e,typeof e==`function`)$r(e)&&(s=1);else if(typeof e==`string`)s=Wf(e,n,ue.current)?26:e===`html`||e===`head`||e===`body`?27:5;else a:switch(e){case k:return e=Qr(31,n,t,a),e.elementType=k,e.lanes=o,e;case y:return ri(n.children,a,o,t);case b:s=8,a|=24;break;case x:return e=Qr(12,n,t,a|2),e.elementType=x,e.lanes=o,e;case T:return e=Qr(13,n,t,a),e.elementType=T,e.lanes=o,e;case E:return e=Qr(19,n,t,a),e.elementType=E,e.lanes=o,e;default:if(typeof e==`object`&&e)switch(e.$$typeof){case C:s=10;break a;case S:s=9;break a;case w:s=11;break a;case D:s=14;break a;case O:s=16,r=null;break a}s=29,n=Error(i(130,e===null?`null`:typeof e,``)),r=null}return t=Qr(s,n,t,a),t.elementType=e,t.type=r,t.lanes=o,t}function ri(e,t,n,r){return e=Qr(7,e,r,t),e.lanes=n,e}function ii(e,t,n){return e=Qr(6,e,null,t),e.lanes=n,e}function ai(e){var t=Qr(18,null,null,0);return t.stateNode=e,t}function oi(e,t,n){return t=Qr(4,e.children===null?[]:e.children,e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var si=new WeakMap;function ci(e,t){if(typeof e==`object`&&e){var n=si.get(e);return n===void 0?(t={value:e,source:t,stack:Ce(t)},si.set(e,t),t):n}return{value:e,source:t,stack:Ce(t)}}var li=[],ui=0,di=null,fi=0,pi=[],mi=0,hi=null,gi=1,_i=``;function vi(e,t){li[ui++]=fi,li[ui++]=di,di=e,fi=t}function yi(e,t,n){pi[mi++]=gi,pi[mi++]=_i,pi[mi++]=hi,hi=e;var r=gi;e=_i;var i=32-ze(r)-1;r&=~(1<<i),n+=1;var a=32-ze(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,gi=1<<32-ze(t)+i|n<<i|r,_i=a+e}else gi=1<<a|n<<i|r,_i=e}function bi(e){e.return!==null&&(vi(e,1),yi(e,1,0))}function xi(e){for(;e===di;)di=li[--ui],li[ui]=null,fi=li[--ui],li[ui]=null;for(;e===hi;)hi=pi[--mi],pi[mi]=null,_i=pi[--mi],pi[mi]=null,gi=pi[--mi],pi[mi]=null}function Si(e,t){pi[mi++]=gi,pi[mi++]=_i,pi[mi++]=hi,gi=t.id,_i=t.overflow,hi=e}var Ci=null,wi=null,Ti=!1,Ei=null,Di=!1,Oi=Error(i(519));function ki(e){throw Fi(ci(Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?`text`:`HTML`,``)),e)),Oi}function Ai(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[st]=e,t[ct]=r,n){case`dialog`:bd(`cancel`,t),bd(`close`,t);break;case`iframe`:case`object`:case`embed`:bd(`load`,t);break;case`video`:case`audio`:for(n=0;n<_d.length;n++)bd(_d[n],t);break;case`source`:bd(`error`,t);break;case`img`:case`image`:case`link`:bd(`error`,t),bd(`load`,t);break;case`details`:bd(`toggle`,t);break;case`input`:bd(`invalid`,t),It(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case`select`:bd(`invalid`,t);break;case`textarea`:bd(`invalid`,t),zt(t,r.value,r.defaultValue,r.children)}n=r.children,typeof n!=`string`&&typeof n!=`number`&&typeof n!=`bigint`||t.textContent===``+n||!0===r.suppressHydrationWarning||Nd(t.textContent,n)?(r.popover!=null&&(bd(`beforetoggle`,t),bd(`toggle`,t)),r.onScroll!=null&&bd(`scroll`,t),r.onScrollEnd!=null&&bd(`scrollend`,t),r.onClick!=null&&(t.onclick=W),t=!0):t=!1,t||ki(e,!0)}function ji(e){for(Ci=e.return;Ci;)switch(Ci.tag){case 5:case 31:case 13:Di=!1;return;case 27:case 3:Di=!0;return;default:Ci=Ci.return}}function Mi(e){if(e!==Ci)return!1;if(!Ti)return ji(e),Ti=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!==`form`&&n!==`button`)||Gd(e.type,e.memoizedProps)),n=!n),n&&wi&&ki(e),ji(e),t===13){if(e=e.memoizedState,e=e===null?null:e.dehydrated,!e)throw Error(i(317));wi=df(e)}else if(t===31){if(e=e.memoizedState,e=e===null?null:e.dehydrated,!e)throw Error(i(317));wi=df(e)}else t===27?(t=wi,Qd(e.type)?(e=uf,uf=null,wi=e):wi=t):wi=Ci?lf(e.stateNode.nextSibling):null;return!0}function Ni(){wi=Ci=null,Ti=!1}function Pi(){var e=Ei;return e!==null&&(Xl===null?Xl=e:Xl.push.apply(Xl,e),Ei=null),e}function Fi(e){Ei===null?Ei=[e]:Ei.push(e)}var Ii=se(null),Li=null,Ri=null;function zi(e,t,n){le(Ii,t._currentValue),t._currentValue=n}function Bi(e){e._currentValue=Ii.current,ce(Ii)}function Vi(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)===t?r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t):(e.childLanes|=t,r!==null&&(r.childLanes|=t)),e===n)break;e=e.return}}function Hi(e,t,n,r){var a=e.child;for(a!==null&&(a.return=e);a!==null;){var o=a.dependencies;if(o!==null){var s=a.child;o=o.firstContext;a:for(;o!==null;){var c=o;o=a;for(var l=0;l<t.length;l++)if(c.context===t[l]){o.lanes|=n,c=o.alternate,c!==null&&(c.lanes|=n),Vi(o.return,n,e),r||(s=null);break a}o=c.next}}else if(a.tag===18){if(s=a.return,s===null)throw Error(i(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),Vi(s,n,e),s=null}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===e){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}}function Ui(e,t,n,r){e=null;for(var a=t,o=!1;a!==null;){if(!o){if(a.flags&524288)o=!0;else if(a.flags&262144)break}if(a.tag===10){var s=a.alternate;if(s===null)throw Error(i(387));if(s=s.memoizedProps,s!==null){var c=a.type;fr(a.pendingProps.value,s.value)||(e===null?e=[c]:e.push(c))}}else if(a===pe.current){if(s=a.alternate,s===null)throw Error(i(387));s.memoizedState.memoizedState!==a.memoizedState.memoizedState&&(e===null?e=[$f]:e.push($f))}a=a.return}e!==null&&Hi(t,e,n,r),t.flags|=262144}function Wi(e){for(e=e.firstContext;e!==null;){if(!fr(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Gi(e){Li=e,Ri=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ki(e){return Ji(Li,e)}function qi(e,t){return Li===null&&Gi(e),Ji(e,t)}function Ji(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Ri===null){if(e===null)throw Error(i(308));Ri=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Ri=Ri.next=t;return n}var Yi=typeof AbortController<`u`?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Xi=t.unstable_scheduleCallback,Zi=t.unstable_NormalPriority,Qi={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $i(){return{controller:new Yi,data:new Map,refCount:0}}function ea(e){e.refCount--,e.refCount===0&&Xi(Zi,function(){e.controller.abort()})}var ta=null,na=0,ra=0,ia=null;function aa(e,t){if(ta===null){var n=ta=[];na=0,ra=dd(),ia={status:`pending`,value:void 0,then:function(e){n.push(e)}}}return na++,t.then(oa,oa),t}function oa(){if(--na===0&&ta!==null){ia!==null&&(ia.status=`fulfilled`);var e=ta;ta=null,ra=0,ia=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function sa(e,t){var n=[],r={status:`pending`,value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status=`fulfilled`,r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status=`rejected`,r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}var ca=j.S;j.S=function(e,t){$l=ke(),typeof t==`object`&&t&&typeof t.then==`function`&&aa(e,t),ca!==null&&ca(e,t)};var la=se(null);function ua(){var e=la.current;return e===null?Pl.pooledCache:e}function da(e,t){t===null?le(la,la.current):le(la,t.pool)}function fa(){var e=ua();return e===null?null:{parent:Qi._currentValue,pool:e}}var pa=Error(i(460)),ma=Error(i(474)),ha=Error(i(542)),ga={then:function(){}};function _a(e){return e=e.status,e===`fulfilled`||e===`rejected`}function va(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(W,W),t=n),t.status){case`fulfilled`:return t.value;case`rejected`:throw e=t.reason,Sa(e),e;default:if(typeof t.status==`string`)t.then(W,W);else{if(e=Pl,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=t,e.status=`pending`,e.then(function(e){if(t.status===`pending`){var n=t;n.status=`fulfilled`,n.value=e}},function(e){if(t.status===`pending`){var n=t;n.status=`rejected`,n.reason=e}})}switch(t.status){case`fulfilled`:return t.value;case`rejected`:throw e=t.reason,Sa(e),e}throw ba=t,pa}}function ya(e){try{var t=e._init;return t(e._payload)}catch(e){throw typeof e==`object`&&e&&typeof e.then==`function`?(ba=e,pa):e}}var ba=null;function xa(){if(ba===null)throw Error(i(459));var e=ba;return ba=null,e}function Sa(e){if(e===pa||e===ha)throw Error(i(483))}var Ca=null,wa=0;function Ta(e){var t=wa;return wa+=1,Ca===null&&(Ca=[]),va(Ca,e,t)}function Ea(e,t){t=t.props.ref,e.ref=t===void 0?null:t}function Da(e,t){throw t.$$typeof===g?Error(i(525)):(e=Object.prototype.toString.call(t),Error(i(31,e===`[object Object]`?`object with keys {`+Object.keys(t).join(`, `)+`}`:e)))}function Oa(e){function t(t,n){if(e){var r=t.deletions;r===null?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;r!==null;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;e!==null;)e.key===null?t.set(e.index,e):t.set(e.key,e),e=e.sibling;return t}function a(e,t){return e=ei(e,t),e.index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?(r=t.alternate,r===null?(t.flags|=67108866,n):(r=r.index,r<n?(t.flags|=67108866,n):r)):(t.flags|=1048576,n)}function s(t){return e&&t.alternate===null&&(t.flags|=67108866),t}function c(e,t,n,r){return t===null||t.tag!==6?(t=ii(n,e.mode,r),t.return=e,t):(t=a(t,n),t.return=e,t)}function l(e,t,n,r){var i=n.type;return i===y?d(e,t,n.props.children,r,n.key):t!==null&&(t.elementType===i||typeof i==`object`&&i&&i.$$typeof===O&&ya(i)===t.type)?(t=a(t,n.props),Ea(t,n),t.return=e,t):(t=ni(n.type,n.key,n.props,null,e.mode,r),Ea(t,n),t.return=e,t)}function u(e,t,n,r){return t===null||t.tag!==4||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?(t=oi(n,e.mode,r),t.return=e,t):(t=a(t,n.children||[]),t.return=e,t)}function d(e,t,n,r,i){return t===null||t.tag!==7?(t=ri(n,e.mode,r,i),t.return=e,t):(t=a(t,n),t.return=e,t)}function f(e,t,n){if(typeof t==`string`&&t!==``||typeof t==`number`||typeof t==`bigint`)return t=ii(``+t,e.mode,n),t.return=e,t;if(typeof t==`object`&&t){switch(t.$$typeof){case _:return n=ni(t.type,t.key,t.props,null,e.mode,n),Ea(n,t),n.return=e,n;case v:return t=oi(t,e.mode,n),t.return=e,t;case O:return t=ya(t),f(e,t,n)}if(ie(t)||te(t))return t=ri(t,e.mode,n,null),t.return=e,t;if(typeof t.then==`function`)return f(e,Ta(t),n);if(t.$$typeof===C)return f(e,qi(e,t),n);Da(e,t)}return null}function p(e,t,n,r){var i=t===null?null:t.key;if(typeof n==`string`&&n!==``||typeof n==`number`||typeof n==`bigint`)return i===null?c(e,t,``+n,r):null;if(typeof n==`object`&&n){switch(n.$$typeof){case _:return n.key===i?l(e,t,n,r):null;case v:return n.key===i?u(e,t,n,r):null;case O:return n=ya(n),p(e,t,n,r)}if(ie(n)||te(n))return i===null?d(e,t,n,r,null):null;if(typeof n.then==`function`)return p(e,t,Ta(n),r);if(n.$$typeof===C)return p(e,t,qi(e,n),r);Da(e,n)}return null}function m(e,t,n,r,i){if(typeof r==`string`&&r!==``||typeof r==`number`||typeof r==`bigint`)return e=e.get(n)||null,c(t,e,``+r,i);if(typeof r==`object`&&r){switch(r.$$typeof){case _:return e=e.get(r.key===null?n:r.key)||null,l(t,e,r,i);case v:return e=e.get(r.key===null?n:r.key)||null,u(t,e,r,i);case O:return r=ya(r),m(e,t,n,r,i)}if(ie(r)||te(r))return e=e.get(n)||null,d(t,e,r,i,null);if(typeof r.then==`function`)return m(e,t,n,Ta(r),i);if(r.$$typeof===C)return m(e,t,n,qi(t,r),i);Da(t,r)}return null}function h(i,a,s,c){for(var l=null,u=null,d=a,h=a=0,g=null;d!==null&&h<s.length;h++){d.index>h?(g=d,d=null):g=d.sibling;var _=p(i,d,s[h],c);if(_===null){d===null&&(d=g);break}e&&d&&_.alternate===null&&t(i,d),a=o(_,a,h),u===null?l=_:u.sibling=_,u=_,d=g}if(h===s.length)return n(i,d),Ti&&vi(i,h),l;if(d===null){for(;h<s.length;h++)d=f(i,s[h],c),d!==null&&(a=o(d,a,h),u===null?l=d:u.sibling=d,u=d);return Ti&&vi(i,h),l}for(d=r(d);h<s.length;h++)g=m(d,i,h,s[h],c),g!==null&&(e&&g.alternate!==null&&d.delete(g.key===null?h:g.key),a=o(g,a,h),u===null?l=g:u.sibling=g,u=g);return e&&d.forEach(function(e){return t(i,e)}),Ti&&vi(i,h),l}function g(a,s,c,l){if(c==null)throw Error(i(151));for(var u=null,d=null,h=s,g=s=0,_=null,v=c.next();h!==null&&!v.done;g++,v=c.next()){h.index>g?(_=h,h=null):_=h.sibling;var y=p(a,h,v.value,l);if(y===null){h===null&&(h=_);break}e&&h&&y.alternate===null&&t(a,h),s=o(y,s,g),d===null?u=y:d.sibling=y,d=y,h=_}if(v.done)return n(a,h),Ti&&vi(a,g),u;if(h===null){for(;!v.done;g++,v=c.next())v=f(a,v.value,l),v!==null&&(s=o(v,s,g),d===null?u=v:d.sibling=v,d=v);return Ti&&vi(a,g),u}for(h=r(h);!v.done;g++,v=c.next())v=m(h,a,g,v.value,l),v!==null&&(e&&v.alternate!==null&&h.delete(v.key===null?g:v.key),s=o(v,s,g),d===null?u=v:d.sibling=v,d=v);return e&&h.forEach(function(e){return t(a,e)}),Ti&&vi(a,g),u}function b(e,r,o,c){if(typeof o==`object`&&o&&o.type===y&&o.key===null&&(o=o.props.children),typeof o==`object`&&o){switch(o.$$typeof){case _:a:{for(var l=o.key;r!==null;){if(r.key===l){if(l=o.type,l===y){if(r.tag===7){n(e,r.sibling),c=a(r,o.props.children),c.return=e,e=c;break a}}else if(r.elementType===l||typeof l==`object`&&l&&l.$$typeof===O&&ya(l)===r.type){n(e,r.sibling),c=a(r,o.props),Ea(c,o),c.return=e,e=c;break a}n(e,r);break}else t(e,r);r=r.sibling}o.type===y?(c=ri(o.props.children,e.mode,c,o.key),c.return=e,e=c):(c=ni(o.type,o.key,o.props,null,e.mode,c),Ea(c,o),c.return=e,e=c)}return s(e);case v:a:{for(l=o.key;r!==null;){if(r.key===l)if(r.tag===4&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(e,r.sibling),c=a(r,o.children||[]),c.return=e,e=c;break a}else{n(e,r);break}else t(e,r);r=r.sibling}c=oi(o,e.mode,c),c.return=e,e=c}return s(e);case O:return o=ya(o),b(e,r,o,c)}if(ie(o))return h(e,r,o,c);if(te(o)){if(l=te(o),typeof l!=`function`)throw Error(i(150));return o=l.call(o),g(e,r,o,c)}if(typeof o.then==`function`)return b(e,r,Ta(o),c);if(o.$$typeof===C)return b(e,r,qi(e,o),c);Da(e,o)}return typeof o==`string`&&o!==``||typeof o==`number`||typeof o==`bigint`?(o=``+o,r!==null&&r.tag===6?(n(e,r.sibling),c=a(r,o),c.return=e,e=c):(n(e,r),c=ii(o,e.mode,c),c.return=e,e=c),s(e)):n(e,r)}return function(e,t,n,r){try{wa=0;var i=b(e,t,n,r);return Ca=null,i}catch(t){if(t===pa||t===ha)throw t;var a=Qr(29,t,null,e.mode);return a.lanes=r,a.return=e,a}}}var ka=Oa(!0),Aa=Oa(!1),ja=!1;function Ma(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Na(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Pa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Fa(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Nl&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Yr(e),Jr(e,null,n),t}return Gr(e,r,t,n),Yr(e)}function Ia(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,n&4194048)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,et(e,n)}}function La(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,callbacks:r.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var Ra=!1;function za(){if(Ra){var e=ia;if(e!==null)throw e}}function Ba(e,t,n,r){Ra=!1;var i=e.updateQueue;ja=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var c=s,l=c.next;c.next=null,o===null?a=l:o.next=l,o=c;var u=e.alternate;u!==null&&(u=u.updateQueue,s=u.lastBaseUpdate,s!==o&&(s===null?u.firstBaseUpdate=l:s.next=l,u.lastBaseUpdate=c))}if(a!==null){var d=i.baseState;o=0,u=l=c=null,s=a;do{var f=s.lane&-536870913,p=f!==s.lane;if(p?(Il&f)===f:(r&f)===f){f!==0&&f===ra&&(Ra=!0),u!==null&&(u=u.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});a:{var m=e,g=s;f=t;var _=n;switch(g.tag){case 1:if(m=g.payload,typeof m==`function`){d=m.call(_,d,f);break a}d=m;break a;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,f=typeof m==`function`?m.call(_,d,f):m,f==null)break a;d=h({},d,f);break a;case 2:ja=!0}}f=s.callback,f!==null&&(e.flags|=64,p&&(e.flags|=8192),p=i.callbacks,p===null?i.callbacks=[f]:p.push(f))}else p={lane:f,tag:s.tag,payload:s.payload,callback:s.callback,next:null},u===null?(l=u=p,c=d):u=u.next=p,o|=f;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;p=s,s=p.next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}while(1);u===null&&(c=d),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=u,a===null&&(i.shared.lanes=0),Wl|=o,e.lanes=o,e.memoizedState=d}}function Va(e,t){if(typeof e!=`function`)throw Error(i(191,e));e.call(t)}function Ha(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)Va(n[e],t)}var Ua=se(null),Wa=se(0);function Ga(e,t){e=Hl,le(Wa,e),le(Ua,t),Hl=e|t.baseLanes}function Ka(){le(Wa,Hl),le(Ua,Ua.current)}function qa(){Hl=Wa.current,ce(Ua),ce(Wa)}var Ja=se(null),Ya=null;function Xa(e){var t=e.alternate;le(to,to.current&1),le(Ja,e),Ya===null&&(t===null||Ua.current!==null||t.memoizedState!==null)&&(Ya=e)}function Za(e){le(to,to.current),le(Ja,e),Ya===null&&(Ya=e)}function Qa(e){e.tag===22?(le(to,to.current),le(Ja,e),Ya===null&&(Ya=e)):$a(e)}function $a(){le(to,to.current),le(Ja,Ja.current)}function eo(e){ce(Ja),Ya===e&&(Ya=null),ce(to)}var to=se(0);function no(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||of(n)||sf(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder===`forwards`||t.memoizedProps.revealOrder===`backwards`||t.memoizedProps.revealOrder===`unstable_legacy-backwards`||t.memoizedProps.revealOrder===`together`)){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ro=0,Y=null,io=null,ao=null,oo=!1,so=!1,co=!1,lo=0,uo=0,fo=null,po=0;function mo(){throw Error(i(321))}function ho(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!fr(e[n],t[n]))return!1;return!0}function go(e,t,n,r,i,a){return ro=a,Y=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,j.H=e===null||e.memoizedState===null?Ms:Ns,co=!1,a=n(r,i),co=!1,so&&(a=_o(t,n,r,i)),X(e),a}function X(e){j.H=js;var t=io!==null&&io.next!==null;if(ro=0,ao=io=Y=null,oo=!1,uo=0,fo=null,t)throw Error(i(300));e===null||Xs||(e=e.dependencies,e!==null&&Wi(e)&&(Xs=!0))}function _o(e,t,n,r){Y=e;var a=0;do{if(so&&(fo=null),uo=0,so=!1,25<=a)throw Error(i(301));if(a+=1,ao=io=null,e.updateQueue!=null){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,o.memoCache!=null&&(o.memoCache.index=0)}j.H=Ps,o=t(n,r)}while(so);return o}function vo(){var e=j.H,t=e.useState()[0];return t=typeof t.then==`function`?To(t):t,e=e.useState()[0],(io===null?null:io.memoizedState)!==e&&(Y.flags|=1024),t}function yo(){var e=lo!==0;return lo=0,e}function bo(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function xo(e){if(oo){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}oo=!1}ro=0,ao=io=Y=null,so=!1,uo=lo=0,fo=null}function So(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ao===null?Y.memoizedState=ao=e:ao=ao.next=e,ao}function Co(){if(io===null){var e=Y.alternate;e=e===null?null:e.memoizedState}else e=io.next;var t=ao===null?Y.memoizedState:ao.next;if(t!==null)ao=t,io=e;else{if(e===null)throw Y.alternate===null?Error(i(467)):Error(i(310));io=e,e={memoizedState:io.memoizedState,baseState:io.baseState,baseQueue:io.baseQueue,queue:io.queue,next:null},ao===null?Y.memoizedState=ao=e:ao=ao.next=e}return ao}function wo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function To(e){var t=uo;return uo+=1,fo===null&&(fo=[]),e=va(fo,e,t),t=Y,(ao===null?t.memoizedState:ao.next)===null&&(t=t.alternate,j.H=t===null||t.memoizedState===null?Ms:Ns),e}function Eo(e){if(typeof e==`object`&&e){if(typeof e.then==`function`)return To(e);if(e.$$typeof===C)return Ki(e)}throw Error(i(438,String(e)))}function Do(e){var t=null,n=Y.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var r=Y.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(t??={data:[],index:0},n===null&&(n=wo(),Y.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=ee;return t.index++,n}function Oo(e,t){return typeof t==`function`?t(e):t}function ko(e){return Ao(Co(),io,e)}function Ao(e,t,n){var r=e.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=n;var a=e.baseQueue,o=r.pending;if(o!==null){if(a!==null){var s=a.next;a.next=o.next,o.next=s}t.baseQueue=a=o,r.pending=null}if(o=e.baseState,a===null)e.memoizedState=o;else{t=a.next;var c=s=null,l=null,u=t,d=!1;do{var f=u.lane&-536870913;if(f===u.lane?(ro&f)===f:(Il&f)===f){var p=u.revertLane;if(p===0)l!==null&&(l=l.next={lane:0,revertLane:0,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),f===ra&&(d=!0);else if((ro&p)===p){u=u.next,p===ra&&(d=!0);continue}else f={lane:0,revertLane:u.revertLane,gesture:null,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(c=l=f,s=o):l=l.next=f,Y.lanes|=p,Wl|=p;f=u.action,co&&n(o,f),o=u.hasEagerState?u.eagerState:n(o,f)}else p={lane:f,revertLane:u.revertLane,gesture:u.gesture,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},l===null?(c=l=p,s=o):l=l.next=p,Y.lanes|=f,Wl|=f;u=u.next}while(u!==null&&u!==t);if(l===null?s=o:l.next=c,!fr(o,e.memoizedState)&&(Xs=!0,d&&(n=ia,n!==null)))throw n;e.memoizedState=o,e.baseState=s,e.baseQueue=l,r.lastRenderedState=o}return a===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function jo(e){var t=Co(),n=t.queue;if(n===null)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,o=t.memoizedState;if(a!==null){n.pending=null;var s=a=a.next;do o=e(o,s.action),s=s.next;while(s!==a);fr(o,t.memoizedState)||(Xs=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Mo(e,t,n){var r=Y,a=Co(),o=Ti;if(o){if(n===void 0)throw Error(i(407));n=n()}else n=t();var s=!fr((io||a).memoizedState,n);if(s&&(a.memoizedState=n,Xs=!0),a=a.queue,rs(Fo.bind(null,r,a,e),[e]),a.getSnapshot!==t||s||ao!==null&&ao.memoizedState.tag&1){if(r.flags|=2048,Qo(9,{destroy:void 0},Po.bind(null,r,a,n,t),null),Pl===null)throw Error(i(349));o||ro&127||No(r,t,n)}return n}function No(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Y.updateQueue,t===null?(t=wo(),Y.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Po(e,t,n,r){t.value=n,t.getSnapshot=r,Io(t)&&Lo(e)}function Fo(e,t,n){return n(function(){Io(t)&&Lo(e)})}function Io(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!fr(e,n)}catch{return!0}}function Lo(e){var t=qr(e,2);t!==null&&mu(t,e,2)}function Ro(e){var t=So();if(typeof e==`function`){var n=e;if(e=n(),co){I(!0);try{n()}finally{I(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oo,lastRenderedState:e},t}function zo(e,t,n,r){return e.baseState=n,Ao(e,io,typeof r==`function`?r:Oo)}function Bo(e,t,n,r,a){if(Os(e))throw Error(i(485));if(e=t.action,e!==null){var o={payload:a,action:e,next:null,isTransition:!0,status:`pending`,value:null,reason:null,listeners:[],then:function(e){o.listeners.push(e)}};j.T===null?o.isTransition=!1:n(!0),r(o),n=t.pending,n===null?(o.next=t.pending=o,Vo(t,o)):(o.next=n.next,t.pending=n.next=o)}}function Vo(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var a=j.T,o={};j.T=o;try{var s=n(i,r),c=j.S;c!==null&&c(o,s),Ho(e,t,s)}catch(n){Wo(e,t,n)}finally{a!==null&&o.types!==null&&(a.types=o.types),j.T=a}}else try{a=n(i,r),Ho(e,t,a)}catch(n){Wo(e,t,n)}}function Ho(e,t,n){typeof n==`object`&&n&&typeof n.then==`function`?n.then(function(n){Uo(e,t,n)},function(n){return Wo(e,t,n)}):Uo(e,t,n)}function Uo(e,t,n){t.status=`fulfilled`,t.value=n,Go(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,Vo(e,n)))}function Wo(e,t,n){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status=`rejected`,t.reason=n,Go(t),t=t.next;while(t!==r)}e.action=null}function Go(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Ko(e,t){return t}function qo(e,t){if(Ti){var n=Pl.formState;if(n!==null){a:{var r=Y;if(Ti){if(wi){b:{for(var i=wi,a=Di;i.nodeType!==8;){if(!a){i=null;break b}if(i=lf(i.nextSibling),i===null){i=null;break b}}a=i.data,i=a===`F!`||a===`F`?i:null}if(i){wi=lf(i.nextSibling),r=i.data===`F!`;break a}}ki(r)}r=!1}r&&(t=n[0])}}return n=So(),n.memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ko,lastRenderedState:t},n.queue=r,n=Ts.bind(null,Y,r),r.dispatch=n,r=Ro(!1),a=Ds.bind(null,Y,!1,r.queue),r=So(),i={state:t,dispatch:null,action:e,pending:null},r.queue=i,n=Bo.bind(null,Y,i,a,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function Jo(e){return Yo(Co(),io,e)}function Yo(e,t,n){if(t=Ao(e,t,Ko)[0],e=ko(Oo)[0],typeof t==`object`&&t&&typeof t.then==`function`)try{var r=To(t)}catch(e){throw e===pa?ha:e}else r=t;t=Co();var i=t.queue,a=i.dispatch;return n!==t.memoizedState&&(Y.flags|=2048,Qo(9,{destroy:void 0},Xo.bind(null,i,n),null)),[r,a,e]}function Xo(e,t){e.action=t}function Zo(e){var t=Co(),n=io;if(n!==null)return Yo(t,n,e);Co(),t=t.memoizedState,n=Co();var r=n.queue.dispatch;return n.memoizedState=e,[t,r,!1]}function Qo(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},t=Y.updateQueue,t===null&&(t=wo(),Y.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function $o(){return Co().memoizedState}function es(e,t,n,r){var i=So();Y.flags|=e,i.memoizedState=Qo(1|t,{destroy:void 0},n,r===void 0?null:r)}function ts(e,t,n,r){var i=Co();r=r===void 0?null:r;var a=i.memoizedState.inst;io!==null&&r!==null&&ho(r,io.memoizedState.deps)?i.memoizedState=Qo(t,a,n,r):(Y.flags|=e,i.memoizedState=Qo(1|t,a,n,r))}function ns(e,t){es(8390656,8,e,t)}function rs(e,t){ts(2048,8,e,t)}function is(e){Y.flags|=4;var t=Y.updateQueue;if(t===null)t=wo(),Y.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function as(e){var t=Co().memoizedState;return is({ref:t,nextImpl:e}),function(){if(Nl&2)throw Error(i(440));return t.impl.apply(void 0,arguments)}}function os(e,t){return ts(4,2,e,t)}function ss(e,t){return ts(4,4,e,t)}function cs(e,t){if(typeof t==`function`){e=e();var n=t(e);return function(){typeof n==`function`?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function ls(e,t,n){n=n==null?null:n.concat([e]),ts(4,4,cs.bind(null,t,e),n)}function us(){}function ds(e,t){var n=Co();t=t===void 0?null:t;var r=n.memoizedState;return t!==null&&ho(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function fs(e,t){var n=Co();t=t===void 0?null:t;var r=n.memoizedState;if(t!==null&&ho(t,r[1]))return r[0];if(r=e(),co){I(!0);try{e()}finally{I(!1)}}return n.memoizedState=[r,t],r}function ps(e,t,n){return n===void 0||ro&1073741824&&!(Il&261930)?e.memoizedState=t:(e.memoizedState=n,e=pu(),Y.lanes|=e,Wl|=e,n)}function ms(e,t,n,r){return fr(n,t)?n:Ua.current===null?!(ro&42)||ro&1073741824&&!(Il&261930)?(Xs=!0,e.memoizedState=n):(e=pu(),Y.lanes|=e,Wl|=e,t):(e=ps(e,n,r),fr(e,t)||(Xs=!0),e)}function hs(e,t,n,r,i){var a=M.p;M.p=a!==0&&8>a?a:8;var o=j.T,s={};j.T=s,Ds(e,!1,t,n);try{var c=i(),l=j.S;l!==null&&l(s,c),typeof c==`object`&&c&&typeof c.then==`function`?Es(e,t,sa(c,r),fu(e)):Es(e,t,r,fu(e))}catch(n){Es(e,t,{then:function(){},status:`rejected`,reason:n},fu())}finally{M.p=a,o!==null&&s.types!==null&&(o.types=s.types),j.T=o}}function gs(){}function _s(e,t,n,r){if(e.tag!==5)throw Error(i(476));var a=vs(e).queue;hs(e,a,t,ae,n===null?gs:function(){return ys(e),n(r)})}function vs(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:ae,baseState:ae,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oo,lastRenderedState:ae},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Oo,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function ys(e){var t=vs(e);t.next===null&&(t=e.alternate.memoizedState),Es(e,t.next.queue,{},fu())}function bs(){return Ki($f)}function xs(){return Co().memoizedState}function Ss(){return Co().memoizedState}function Cs(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=fu();e=Pa(n);var r=Fa(t,e,n);r!==null&&(mu(r,t,n),Ia(r,t,n)),t={cache:$i()},e.payload=t;return}t=t.return}}function ws(e,t,n){var r=fu();n={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},Os(e)?ks(t,n):(n=Kr(e,t,n,r),n!==null&&(mu(n,e,r),As(n,t,r)))}function Ts(e,t,n){Es(e,t,n,fu())}function Es(e,t,n,r){var i={lane:r,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if(Os(e))ks(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var o=t.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,fr(s,o))return Gr(e,t,i,0),Pl===null&&Wr(),!1}catch{}if(n=Kr(e,t,i,r),n!==null)return mu(n,e,r),As(n,t,r),!0}return!1}function Ds(e,t,n,r){if(r={lane:2,revertLane:dd(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Os(e)){if(t)throw Error(i(479))}else t=Kr(e,n,r,2),t!==null&&mu(t,e,2)}function Os(e){var t=e.alternate;return e===Y||t!==null&&t===Y}function ks(e,t){so=oo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function As(e,t,n){if(n&4194048){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,et(e,n)}}var js={readContext:Ki,use:Eo,useCallback:mo,useContext:mo,useEffect:mo,useImperativeHandle:mo,useLayoutEffect:mo,useInsertionEffect:mo,useMemo:mo,useReducer:mo,useRef:mo,useState:mo,useDebugValue:mo,useDeferredValue:mo,useTransition:mo,useSyncExternalStore:mo,useId:mo,useHostTransitionStatus:mo,useFormState:mo,useActionState:mo,useOptimistic:mo,useMemoCache:mo,useCacheRefresh:mo};js.useEffectEvent=mo;var Ms={readContext:Ki,use:Eo,useCallback:function(e,t){return So().memoizedState=[e,t===void 0?null:t],e},useContext:Ki,useEffect:ns,useImperativeHandle:function(e,t,n){n=n==null?null:n.concat([e]),es(4194308,4,cs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return es(4194308,4,e,t)},useInsertionEffect:function(e,t){es(4,2,e,t)},useMemo:function(e,t){var n=So();t=t===void 0?null:t;var r=e();if(co){I(!0);try{e()}finally{I(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=So();if(n!==void 0){var i=n(t);if(co){I(!0);try{n(t)}finally{I(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=ws.bind(null,Y,e),[r.memoizedState,e]},useRef:function(e){var t=So();return e={current:e},t.memoizedState=e},useState:function(e){e=Ro(e);var t=e.queue,n=Ts.bind(null,Y,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:us,useDeferredValue:function(e,t){return ps(So(),e,t)},useTransition:function(){var e=Ro(!1);return e=hs.bind(null,Y,e.queue,!0,!1),So().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=Y,a=So();if(Ti){if(n===void 0)throw Error(i(407));n=n()}else{if(n=t(),Pl===null)throw Error(i(349));Il&127||No(r,t,n)}a.memoizedState=n;var o={value:n,getSnapshot:t};return a.queue=o,ns(Fo.bind(null,r,o,e),[e]),r.flags|=2048,Qo(9,{destroy:void 0},Po.bind(null,r,o,n,t),null),n},useId:function(){var e=So(),t=Pl.identifierPrefix;if(Ti){var n=_i,r=gi;n=(r&~(1<<32-ze(r)-1)).toString(32)+n,t=`_`+t+`R_`+n,n=lo++,0<n&&(t+=`H`+n.toString(32)),t+=`_`}else n=po++,t=`_`+t+`r_`+n.toString(32)+`_`;return e.memoizedState=t},useHostTransitionStatus:bs,useFormState:qo,useActionState:qo,useOptimistic:function(e){var t=So();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Ds.bind(null,Y,!0,n),n.dispatch=t,[e,t]},useMemoCache:Do,useCacheRefresh:function(){return So().memoizedState=Cs.bind(null,Y)},useEffectEvent:function(e){var t=So(),n={impl:e};return t.memoizedState=n,function(){if(Nl&2)throw Error(i(440));return n.impl.apply(void 0,arguments)}}},Ns={readContext:Ki,use:Eo,useCallback:ds,useContext:Ki,useEffect:rs,useImperativeHandle:ls,useInsertionEffect:os,useLayoutEffect:ss,useMemo:fs,useReducer:ko,useRef:$o,useState:function(){return ko(Oo)},useDebugValue:us,useDeferredValue:function(e,t){return ms(Co(),io.memoizedState,e,t)},useTransition:function(){var e=ko(Oo)[0],t=Co().memoizedState;return[typeof e==`boolean`?e:To(e),t]},useSyncExternalStore:Mo,useId:xs,useHostTransitionStatus:bs,useFormState:Jo,useActionState:Jo,useOptimistic:function(e,t){return zo(Co(),io,e,t)},useMemoCache:Do,useCacheRefresh:Ss};Ns.useEffectEvent=as;var Ps={readContext:Ki,use:Eo,useCallback:ds,useContext:Ki,useEffect:rs,useImperativeHandle:ls,useInsertionEffect:os,useLayoutEffect:ss,useMemo:fs,useReducer:jo,useRef:$o,useState:function(){return jo(Oo)},useDebugValue:us,useDeferredValue:function(e,t){var n=Co();return io===null?ps(n,e,t):ms(n,io.memoizedState,e,t)},useTransition:function(){var e=jo(Oo)[0],t=Co().memoizedState;return[typeof e==`boolean`?e:To(e),t]},useSyncExternalStore:Mo,useId:xs,useHostTransitionStatus:bs,useFormState:Zo,useActionState:Zo,useOptimistic:function(e,t){var n=Co();return io===null?(n.baseState=e,[e,n.queue.dispatch]):zo(n,io,e,t)},useMemoCache:Do,useCacheRefresh:Ss};Ps.useEffectEvent=as;function Fs(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:h({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Is={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=fu(),i=Pa(r);i.payload=t,n!=null&&(i.callback=n),t=Fa(e,i,r),t!==null&&(mu(t,e,r),Ia(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=fu(),i=Pa(r);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Fa(e,i,r),t!==null&&(mu(t,e,r),Ia(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=fu(),r=Pa(n);r.tag=2,t!=null&&(r.callback=t),t=Fa(e,r,n),t!==null&&(mu(t,e,n),Ia(t,e,n))}};function Ls(e,t,n,r,i,a,o){return e=e.stateNode,typeof e.shouldComponentUpdate==`function`?e.shouldComponentUpdate(r,a,o):t.prototype&&t.prototype.isPureReactComponent?!pr(n,r)||!pr(i,a):!0}function Rs(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps==`function`&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps==`function`&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Is.enqueueReplaceState(t,t.state,null)}function zs(e,t){var n=t;if(`ref`in t)for(var r in n={},t)r!==`ref`&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=h({},n)),e)n[i]===void 0&&(n[i]=e[i]);return n}function Bs(e){Br(e)}function Vs(e){console.error(e)}function Hs(e){Br(e)}function Us(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(e){setTimeout(function(){throw e})}}function Ws(e,t,n){try{var r=e.onCaughtError;r(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(e){setTimeout(function(){throw e})}}function Gs(e,t,n){return n=Pa(n),n.tag=3,n.payload={element:null},n.callback=function(){Us(e,t)},n}function Ks(e){return e=Pa(e),e.tag=3,e}function qs(e,t,n,r){var i=n.type.getDerivedStateFromError;if(typeof i==`function`){var a=r.value;e.payload=function(){return i(a)},e.callback=function(){Ws(t,n,r)}}var o=n.stateNode;o!==null&&typeof o.componentDidCatch==`function`&&(e.callback=function(){Ws(t,n,r),typeof i!=`function`&&(nu===null?nu=new Set([this]):nu.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:e===null?``:e})})}function Js(e,t,n,r,a){if(n.flags|=32768,typeof r==`object`&&r&&typeof r.then==`function`){if(t=n.alternate,t!==null&&Ui(t,n,a,!0),n=Ja.current,n!==null){switch(n.tag){case 31:case 13:return Ya===null?Eu():n.alternate===null&&Ul===0&&(Ul=3),n.flags&=-257,n.flags|=65536,n.lanes=a,r===ga?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([r]):t.add(r),Gu(e,r,a)),!1;case 22:return n.flags|=65536,r===ga?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([r]):n.add(r)),Gu(e,r,a)),!1}throw Error(i(435,n.tag))}return Gu(e,r,a),Eu(),!1}if(Ti)return t=Ja.current,t===null?(r!==Oi&&(t=Error(i(423),{cause:r}),Fi(ci(t,n))),e=e.current.alternate,e.flags|=65536,a&=-a,e.lanes|=a,r=ci(r,n),a=Gs(e.stateNode,r,a),La(e,a),Ul!==4&&(Ul=2)):(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=a,r!==Oi&&(e=Error(i(422),{cause:r}),Fi(ci(e,n)))),!1;var o=Error(i(520),{cause:r});if(o=ci(o,n),Yl===null?Yl=[o]:Yl.push(o),Ul!==4&&(Ul=2),t===null)return!0;r=ci(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=a&-a,n.lanes|=e,e=Gs(n.stateNode,r,e),La(n,e),!1;case 1:if(t=n.type,o=n.stateNode,!(n.flags&128)&&(typeof t.getDerivedStateFromError==`function`||o!==null&&typeof o.componentDidCatch==`function`&&(nu===null||!nu.has(o))))return n.flags|=65536,a&=-a,n.lanes|=a,a=Ks(a),qs(a,e,n,r),La(n,a),!1}n=n.return}while(n!==null);return!1}var Ys=Error(i(461)),Xs=!1;function Zs(e,t,n,r){t.child=e===null?Aa(t,null,n,r):ka(t,e.child,n,r)}function Qs(e,t,n,r,i){n=n.render;var a=t.ref;if(`ref`in r){var o={};for(var s in r)s!==`ref`&&(o[s]=r[s])}else o=r;return Gi(t),r=go(e,t,n,o,a,i),s=yo(),e!==null&&!Xs?(bo(e,t,i),Sc(e,t,i)):(Ti&&s&&bi(t),t.flags|=1,Zs(e,t,r,i),t.child)}function $s(e,t,n,r,i){if(e===null){var a=n.type;return typeof a==`function`&&!$r(a)&&a.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=a,ec(e,t,a,r,i)):(e=ni(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!Cc(e,i)){var o=a.memoizedProps;if(n=n.compare,n=n===null?pr:n,n(o,r)&&e.ref===t.ref)return Sc(e,t,i)}return t.flags|=1,e=ei(a,r),e.ref=t.ref,e.return=t,t.child=e}function ec(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(pr(a,r)&&e.ref===t.ref)if(Xs=!1,t.pendingProps=r=a,Cc(e,i))e.flags&131072&&(Xs=!0);else return t.lanes=e.lanes,Sc(e,t,i)}return cc(e,t,n,r,i)}function tc(e,t,n,r){var i=r.children,a=e===null?null:e.memoizedState;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode===`hidden`){if(t.flags&128){if(a=a===null?n:a.baseLanes|n,e!==null){for(r=t.child=e.child,i=0;r!==null;)i=i|r.lanes|r.childLanes,r=r.sibling;r=i&~a}else r=0,t.child=null;return rc(e,t,a,n,r)}if(n&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&da(t,a===null?null:a.cachePool),a===null?Ka():Ga(t,a),Qa(t);else return r=t.lanes=536870912,rc(e,t,a===null?n:a.baseLanes|n,n,r)}else a===null?(e!==null&&da(t,null),Ka(),$a(t)):(da(t,a.cachePool),Ga(t,a),$a(t),t.memoizedState=null);return Zs(e,t,i,n),t.child}function nc(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function rc(e,t,n,r,i){var a=ua();return a=a===null?null:{parent:Qi._currentValue,pool:a},t.memoizedState={baseLanes:n,cachePool:a},e!==null&&da(t,null),Ka(),Qa(t),e!==null&&Ui(e,t,r,!0),t.childLanes=i,null}function ic(e,t){return t=_c({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function ac(e,t,n){return ka(t,e.child,null,n),e=ic(t,t.pendingProps),e.flags|=2,eo(t),t.memoizedState=null,e}function oc(e,t,n){var r=t.pendingProps,a=(t.flags&128)!=0;if(t.flags&=-129,e===null){if(Ti){if(r.mode===`hidden`)return e=ic(t,r),t.lanes=536870912,nc(null,e);if(Za(t),(e=wi)?(e=af(e,Di),e=e!==null&&e.data===`&`?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:hi===null?null:{id:gi,overflow:_i},retryLane:536870912,hydrationErrors:null},n=ai(e),n.return=t,t.child=n,Ci=t,wi=null)):e=null,e===null)throw ki(t);return t.lanes=536870912,null}return ic(t,r)}var o=e.memoizedState;if(o!==null){var s=o.dehydrated;if(Za(t),a)if(t.flags&256)t.flags&=-257,t=ac(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(i(558));else if(Xs||Ui(e,t,n,!1),a=(n&e.childLanes)!==0,Xs||a){if(r=Pl,r!==null&&(s=tt(r,n),s!==0&&s!==o.retryLane))throw o.retryLane=s,qr(e,s),mu(r,e,s),Ys;Eu(),t=ac(e,t,n)}else e=o.treeContext,wi=lf(s.nextSibling),Ci=t,Ti=!0,Ei=null,Di=!1,e!==null&&Si(t,e),t=ic(t,r),t.flags|=4096;return t}return e=ei(e.child,{mode:r.mode,children:r.children}),e.ref=t.ref,t.child=e,e.return=t,e}function sc(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!=`function`&&typeof n!=`object`)throw Error(i(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function cc(e,t,n,r,i){return Gi(t),n=go(e,t,n,r,void 0,i),r=yo(),e!==null&&!Xs?(bo(e,t,i),Sc(e,t,i)):(Ti&&r&&bi(t),t.flags|=1,Zs(e,t,n,i),t.child)}function lc(e,t,n,r,i,a){return Gi(t),t.updateQueue=null,n=_o(t,r,n,i),X(e),r=yo(),e!==null&&!Xs?(bo(e,t,a),Sc(e,t,a)):(Ti&&r&&bi(t),t.flags|=1,Zs(e,t,n,a),t.child)}function uc(e,t,n,r,i){if(Gi(t),t.stateNode===null){var a=Xr,o=n.contextType;typeof o==`object`&&o&&(a=Ki(o)),a=new n(r,a),t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Is,t.stateNode=a,a._reactInternals=t,a=t.stateNode,a.props=r,a.state=t.memoizedState,a.refs={},Ma(t),o=n.contextType,a.context=typeof o==`object`&&o?Ki(o):Xr,a.state=t.memoizedState,o=n.getDerivedStateFromProps,typeof o==`function`&&(Fs(t,n,o,r),a.state=t.memoizedState),typeof n.getDerivedStateFromProps==`function`||typeof a.getSnapshotBeforeUpdate==`function`||typeof a.UNSAFE_componentWillMount!=`function`&&typeof a.componentWillMount!=`function`||(o=a.state,typeof a.componentWillMount==`function`&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount==`function`&&a.UNSAFE_componentWillMount(),o!==a.state&&Is.enqueueReplaceState(a,a.state,null),Ba(t,r,a,i),za(),a.state=t.memoizedState),typeof a.componentDidMount==`function`&&(t.flags|=4194308),r=!0}else if(e===null){a=t.stateNode;var s=t.memoizedProps,c=zs(n,s);a.props=c;var l=a.context,u=n.contextType;o=Xr,typeof u==`object`&&u&&(o=Ki(u));var d=n.getDerivedStateFromProps;u=typeof d==`function`||typeof a.getSnapshotBeforeUpdate==`function`,s=t.pendingProps!==s,u||typeof a.UNSAFE_componentWillReceiveProps!=`function`&&typeof a.componentWillReceiveProps!=`function`||(s||l!==o)&&Rs(t,a,r,o),ja=!1;var f=t.memoizedState;a.state=f,Ba(t,r,a,i),za(),l=t.memoizedState,s||f!==l||ja?(typeof d==`function`&&(Fs(t,n,d,r),l=t.memoizedState),(c=ja||Ls(t,n,c,r,f,l,o))?(u||typeof a.UNSAFE_componentWillMount!=`function`&&typeof a.componentWillMount!=`function`||(typeof a.componentWillMount==`function`&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount==`function`&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount==`function`&&(t.flags|=4194308)):(typeof a.componentDidMount==`function`&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=o,r=c):(typeof a.componentDidMount==`function`&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Na(e,t),o=t.memoizedProps,u=zs(n,o),a.props=u,d=t.pendingProps,f=a.context,l=n.contextType,c=Xr,typeof l==`object`&&l&&(c=Ki(l)),s=n.getDerivedStateFromProps,(l=typeof s==`function`||typeof a.getSnapshotBeforeUpdate==`function`)||typeof a.UNSAFE_componentWillReceiveProps!=`function`&&typeof a.componentWillReceiveProps!=`function`||(o!==d||f!==c)&&Rs(t,a,r,c),ja=!1,f=t.memoizedState,a.state=f,Ba(t,r,a,i),za();var p=t.memoizedState;o!==d||f!==p||ja||e!==null&&e.dependencies!==null&&Wi(e.dependencies)?(typeof s==`function`&&(Fs(t,n,s,r),p=t.memoizedState),(u=ja||Ls(t,n,u,r,f,p,c)||e!==null&&e.dependencies!==null&&Wi(e.dependencies))?(l||typeof a.UNSAFE_componentWillUpdate!=`function`&&typeof a.componentWillUpdate!=`function`||(typeof a.componentWillUpdate==`function`&&a.componentWillUpdate(r,p,c),typeof a.UNSAFE_componentWillUpdate==`function`&&a.UNSAFE_componentWillUpdate(r,p,c)),typeof a.componentDidUpdate==`function`&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate==`function`&&(t.flags|=1024)):(typeof a.componentDidUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),a.props=r,a.state=p,a.context=c,r=u):(typeof a.componentDidUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!=`function`||o===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return a=r,sc(e,t),r=(t.flags&128)!=0,a||r?(a=t.stateNode,n=r&&typeof n.getDerivedStateFromError!=`function`?null:a.render(),t.flags|=1,e!==null&&r?(t.child=ka(t,e.child,null,i),t.child=ka(t,null,n,i)):Zs(e,t,n,i),t.memoizedState=a.state,e=t.child):e=Sc(e,t,i),e}function dc(e,t,n,r){return Ni(),t.flags|=256,Zs(e,t,n,r),t.child}var fc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function pc(e){return{baseLanes:e,cachePool:fa()}}function mc(e,t,n){return e=e===null?0:e.childLanes&~n,t&&(e|=ql),e}function hc(e,t,n){var r=t.pendingProps,a=!1,o=(t.flags&128)!=0,s;if((s=o)||(s=e!==null&&e.memoizedState===null?!1:(to.current&2)!=0),s&&(a=!0,t.flags&=-129),s=(t.flags&32)!=0,t.flags&=-33,e===null){if(Ti){if(a?Xa(t):$a(t),(e=wi)?(e=af(e,Di),e=e!==null&&e.data!==`&`?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:hi===null?null:{id:gi,overflow:_i},retryLane:536870912,hydrationErrors:null},n=ai(e),n.return=t,t.child=n,Ci=t,wi=null)):e=null,e===null)throw ki(t);return sf(e)?t.lanes=32:t.lanes=536870912,null}var c=r.children;return r=r.fallback,a?($a(t),a=t.mode,c=_c({mode:`hidden`,children:c},a),r=ri(r,a,n,null),c.return=t,r.return=t,c.sibling=r,t.child=c,r=t.child,r.memoizedState=pc(n),r.childLanes=mc(e,s,n),t.memoizedState=fc,nc(null,r)):(Xa(t),gc(t,c))}var l=e.memoizedState;if(l!==null&&(c=l.dehydrated,c!==null)){if(o)t.flags&256?(Xa(t),t.flags&=-257,t=vc(e,t,n)):t.memoizedState===null?($a(t),c=r.fallback,a=t.mode,r=_c({mode:`visible`,children:r.children},a),c=ri(c,a,n,null),c.flags|=2,r.return=t,c.return=t,r.sibling=c,t.child=r,ka(t,e.child,null,n),r=t.child,r.memoizedState=pc(n),r.childLanes=mc(e,s,n),t.memoizedState=fc,t=nc(null,r)):($a(t),t.child=e.child,t.flags|=128,t=null);else if(Xa(t),sf(c)){if(s=c.nextSibling&&c.nextSibling.dataset,s)var u=s.dgst;s=u,r=Error(i(419)),r.stack=``,r.digest=s,Fi({value:r,source:null,stack:null}),t=vc(e,t,n)}else if(Xs||Ui(e,t,n,!1),s=(n&e.childLanes)!==0,Xs||s){if(s=Pl,s!==null&&(r=tt(s,n),r!==0&&r!==l.retryLane))throw l.retryLane=r,qr(e,r),mu(s,e,r),Ys;of(c)||Eu(),t=vc(e,t,n)}else of(c)?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,wi=lf(c.nextSibling),Ci=t,Ti=!0,Ei=null,Di=!1,e!==null&&Si(t,e),t=gc(t,r.children),t.flags|=4096);return t}return a?($a(t),c=r.fallback,a=t.mode,l=e.child,u=l.sibling,r=ei(l,{mode:`hidden`,children:r.children}),r.subtreeFlags=l.subtreeFlags&65011712,u===null?(c=ri(c,a,n,null),c.flags|=2):c=ei(u,c),c.return=t,r.return=t,r.sibling=c,t.child=r,nc(null,r),r=t.child,c=e.child.memoizedState,c===null?c=pc(n):(a=c.cachePool,a===null?a=fa():(l=Qi._currentValue,a=a.parent===l?a:{parent:l,pool:l}),c={baseLanes:c.baseLanes|n,cachePool:a}),r.memoizedState=c,r.childLanes=mc(e,s,n),t.memoizedState=fc,nc(e.child,r)):(Xa(t),n=e.child,e=n.sibling,n=ei(n,{mode:`visible`,children:r.children}),n.return=t,n.sibling=null,e!==null&&(s=t.deletions,s===null?(t.deletions=[e],t.flags|=16):s.push(e)),t.child=n,t.memoizedState=null,n)}function gc(e,t){return t=_c({mode:`visible`,children:t},e.mode),t.return=e,e.child=t}function _c(e,t){return e=Qr(22,e,null,t),e.lanes=0,e}function vc(e,t,n){return ka(t,e.child,null,n),e=gc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function yc(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Vi(e.return,t,n)}function bc(e,t,n,r,i,a){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,treeForkCount:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.treeForkCount=a)}function xc(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;r=r.children;var o=to.current,s=(o&2)!=0;if(s?(o=o&1|2,t.flags|=128):o&=1,le(to,o),Zs(e,t,r,n),r=Ti?fi:0,!s&&e!==null&&e.flags&128)a:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&yc(e,n,t);else if(e.tag===19)yc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break a;for(;e.sibling===null;){if(e.return===null||e.return===t)break a;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(i){case`forwards`:for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&no(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),bc(t,!1,i,n,a,r);break;case`backwards`:case`unstable_legacy-backwards`:for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&no(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}bc(t,!0,n,null,a,r);break;case`together`:bc(t,!1,null,null,void 0,r);break;default:t.memoizedState=null}return t.child}function Sc(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Wl|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(Ui(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,n=ei(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ei(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function Cc(e,t){return(e.lanes&t)===0?(e=e.dependencies,!!(e!==null&&Wi(e))):!0}function wc(e,t,n){switch(t.tag){case 3:me(t,t.stateNode.containerInfo),zi(t,Qi,e.memoizedState.cache),Ni();break;case 27:case 5:ge(t);break;case 4:me(t,t.stateNode.containerInfo);break;case 10:zi(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Za(t),null;break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated===null?(n&t.child.childLanes)===0?(Xa(t),e=Sc(e,t,n),e===null?null:e.sibling):hc(e,t,n):(Xa(t),t.flags|=128,null);Xa(t);break;case 19:var i=(e.flags&128)!=0;if(r=(n&t.childLanes)!==0,r||=(Ui(e,t,n,!1),(n&t.childLanes)!==0),i){if(r)return xc(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),le(to,to.current),r)break;return null;case 22:return t.lanes=0,tc(e,t,n,t.pendingProps);case 24:zi(t,Qi,e.memoizedState.cache)}return Sc(e,t,n)}function Tc(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)Xs=!0;else{if(!Cc(e,n)&&!(t.flags&128))return Xs=!1,wc(e,t,n);Xs=!!(e.flags&131072)}else Xs=!1,Ti&&t.flags&1048576&&yi(t,fi,t.index);switch(t.lanes=0,t.tag){case 16:a:{var r=t.pendingProps;if(e=ya(t.elementType),t.type=e,typeof e==`function`)$r(e)?(r=zs(e,r),t.tag=1,t=uc(null,t,e,r,n)):(t.tag=0,t=cc(null,t,e,r,n));else{if(e!=null){var a=e.$$typeof;if(a===w){t.tag=11,t=Qs(null,t,e,r,n);break a}else if(a===D){t.tag=14,t=$s(null,t,e,r,n);break a}}throw t=re(e)||e,Error(i(306,t,``))}}return t;case 0:return cc(e,t,t.type,t.pendingProps,n);case 1:return r=t.type,a=zs(r,t.pendingProps),uc(e,t,r,a,n);case 3:a:{if(me(t,t.stateNode.containerInfo),e===null)throw Error(i(387));r=t.pendingProps;var o=t.memoizedState;a=o.element,Na(e,t),Ba(t,r,null,n);var s=t.memoizedState;if(r=s.cache,zi(t,Qi,r),r!==o.cache&&Hi(t,[Qi],n,!0),za(),r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){t=dc(e,t,r,n);break a}else if(r!==a){a=ci(Error(i(424)),t),Fi(a),t=dc(e,t,r,n);break a}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName===`HTML`?e.ownerDocument.body:e}for(wi=lf(e.firstChild),Ci=t,Ti=!0,Ei=null,Di=!0,n=Aa(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling}else{if(Ni(),r===a){t=Sc(e,t,n);break a}Zs(e,t,r,n)}t=t.child}return t;case 26:return sc(e,t),e===null?(n=Af(t.type,null,t.pendingProps,null))?t.memoizedState=n:Ti||(n=t.type,e=t.pendingProps,r=Hd(fe.current).createElement(n),r[st]=t,r[ct]=e,Id(r,n,e),z(r),t.stateNode=r):t.memoizedState=Af(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return ge(t),e===null&&Ti&&(r=t.stateNode=pf(t.type,t.pendingProps,fe.current),Ci=t,Di=!0,a=wi,Qd(t.type)?(uf=a,wi=lf(r.firstChild)):wi=a),Zs(e,t,t.pendingProps.children,n),sc(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Ti&&((a=r=wi)&&(r=nf(r,t.type,t.pendingProps,Di),r===null?a=!1:(t.stateNode=r,Ci=t,wi=lf(r.firstChild),Di=!1,a=!0)),a||ki(t)),ge(t),a=t.type,o=t.pendingProps,s=e===null?null:e.memoizedProps,r=o.children,Gd(a,o)?r=null:s!==null&&Gd(a,s)&&(t.flags|=32),t.memoizedState!==null&&(a=go(e,t,vo,null,null,n),$f._currentValue=a),sc(e,t),Zs(e,t,r,n),t.child;case 6:return e===null&&Ti&&((e=n=wi)&&(n=rf(n,t.pendingProps,Di),n===null?e=!1:(t.stateNode=n,Ci=t,wi=null,e=!0)),e||ki(t)),null;case 13:return hc(e,t,n);case 4:return me(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ka(t,null,r,n):Zs(e,t,r,n),t.child;case 11:return Qs(e,t,t.type,t.pendingProps,n);case 7:return Zs(e,t,t.pendingProps,n),t.child;case 8:return Zs(e,t,t.pendingProps.children,n),t.child;case 12:return Zs(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,zi(t,t.type,r.value),Zs(e,t,r.children,n),t.child;case 9:return a=t.type._context,r=t.pendingProps.children,Gi(t),a=Ki(a),r=r(a),t.flags|=1,Zs(e,t,r,n),t.child;case 14:return $s(e,t,t.type,t.pendingProps,n);case 15:return ec(e,t,t.type,t.pendingProps,n);case 19:return xc(e,t,n);case 31:return oc(e,t,n);case 22:return tc(e,t,n,t.pendingProps);case 24:return Gi(t),r=Ki(Qi),e===null?(a=ua(),a===null&&(a=Pl,o=$i(),a.pooledCache=o,o.refCount++,o!==null&&(a.pooledCacheLanes|=n),a=o),t.memoizedState={parent:r,cache:a},Ma(t),zi(t,Qi,a)):((e.lanes&n)!==0&&(Na(e,t),Ba(t,null,null,n),za()),a=e.memoizedState,o=t.memoizedState,a.parent===r?(r=o.cache,zi(t,Qi,r),r!==a.cache&&Hi(t,[Qi],n,!0)):(a={parent:r,cache:r},t.memoizedState=a,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=a),zi(t,Qi,r))),Zs(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function Ec(e){e.flags|=4}function Dc(e,t,n,r,i){if((t=(e.mode&32)!=0)&&(t=!1),t){if(e.flags|=16777216,(i&335544128)===i)if(e.stateNode.complete)e.flags|=8192;else if(Cu())e.flags|=8192;else throw ba=ga,ma}else e.flags&=-16777217}function Oc(e,t){if(t.type!==`stylesheet`||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!Gf(t))if(Cu())e.flags|=8192;else throw ba=ga,ma}function kc(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag===22?536870912:Xe(),e.lanes|=t,Jl|=t)}function Ac(e,t){if(!Ti)switch(e.tailMode){case`hidden`:t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case`collapsed`:n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function jc(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&65011712,r|=i.flags&65011712,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Z(e,t,n){var r=t.pendingProps;switch(xi(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return jc(t),null;case 1:return jc(t),null;case 3:return n=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),Bi(Qi),he(),n.pendingContext&&=(n.context=n.pendingContext,null),(e===null||e.child===null)&&(Mi(t)?Ec(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Pi())),jc(t),null;case 26:var a=t.type,o=t.memoizedState;return e===null?(Ec(t),o===null?(jc(t),Dc(t,a,null,r,n)):(jc(t),Oc(t,o))):o?o===e.memoizedState?(jc(t),t.flags&=-16777217):(Ec(t),jc(t),Oc(t,o)):(e=e.memoizedProps,e!==r&&Ec(t),jc(t),Dc(t,a,e,r,n)),null;case 27:if(_e(t),n=fe.current,a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Ec(t);else{if(!r){if(t.stateNode===null)throw Error(i(166));return jc(t),null}e=ue.current,Mi(t)?Ai(t,e):(e=pf(a,r,n),t.stateNode=e,Ec(t))}return jc(t),null;case 5:if(_e(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Ec(t);else{if(!r){if(t.stateNode===null)throw Error(i(166));return jc(t),null}if(o=ue.current,Mi(t))Ai(t,o);else{var s=Hd(fe.current);switch(o){case 1:o=s.createElementNS(`http://www.w3.org/2000/svg`,a);break;case 2:o=s.createElementNS(`http://www.w3.org/1998/Math/MathML`,a);break;default:switch(a){case`svg`:o=s.createElementNS(`http://www.w3.org/2000/svg`,a);break;case`math`:o=s.createElementNS(`http://www.w3.org/1998/Math/MathML`,a);break;case`script`:o=s.createElement(`div`),o.innerHTML=`<script><\/script>`,o=o.removeChild(o.firstChild);break;case`select`:o=typeof r.is==`string`?s.createElement(`select`,{is:r.is}):s.createElement(`select`),r.multiple?o.multiple=!0:r.size&&(o.size=r.size);break;default:o=typeof r.is==`string`?s.createElement(a,{is:r.is}):s.createElement(a)}}o[st]=t,o[ct]=r;a:for(s=t.child;s!==null;){if(s.tag===5||s.tag===6)o.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break a;for(;s.sibling===null;){if(s.return===null||s.return===t)break a;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=o;a:switch(Id(o,a,r),a){case`button`:case`input`:case`select`:case`textarea`:r=!!r.autoFocus;break a;case`img`:r=!0;break a;default:r=!1}r&&Ec(t)}}return jc(t),Dc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&Ec(t);else{if(typeof r!=`string`&&t.stateNode===null)throw Error(i(166));if(e=fe.current,Mi(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,a=Ci,a!==null)switch(a.tag){case 27:case 5:r=a.memoizedProps}e[st]=t,e=!!(e.nodeValue===n||r!==null&&!0===r.suppressHydrationWarning||Nd(e.nodeValue,n)),e||ki(t,!0)}else e=Hd(e).createTextNode(r),e[st]=t,t.stateNode=e}return jc(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(r=Mi(t),n!==null){if(e===null){if(!r)throw Error(i(318));if(e=t.memoizedState,e=e===null?null:e.dehydrated,!e)throw Error(i(557));e[st]=t}else Ni(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;jc(t),e=!1}else n=Pi(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(eo(t),t):(eo(t),null);if(t.flags&128)throw Error(i(558))}return jc(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(a=Mi(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(i(318));if(a=t.memoizedState,a=a===null?null:a.dehydrated,!a)throw Error(i(317));a[st]=t}else Ni(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;jc(t),a=!1}else a=Pi(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),a=!0;if(!a)return t.flags&256?(eo(t),t):(eo(t),null)}return eo(t),t.flags&128?(t.lanes=n,t):(n=r!==null,e=e!==null&&e.memoizedState!==null,n&&(r=t.child,a=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(a=r.alternate.memoizedState.cachePool.pool),o=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(o=r.memoizedState.cachePool.pool),o!==a&&(r.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),kc(t,t.updateQueue),jc(t),null);case 4:return he(),e===null&&Cd(t.stateNode.containerInfo),jc(t),null;case 10:return Bi(t.type),jc(t),null;case 19:if(ce(to),r=t.memoizedState,r===null)return jc(t),null;if(a=(t.flags&128)!=0,o=r.rendering,o===null)if(a)Ac(r,!1);else{if(Ul!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(o=no(e),o!==null){for(t.flags|=128,Ac(r,!1),e=o.updateQueue,t.updateQueue=e,kc(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)ti(n,e),n=n.sibling;return le(to,to.current&1|2),Ti&&vi(t,r.treeForkCount),t.child}e=e.sibling}r.tail!==null&&ke()>eu&&(t.flags|=128,a=!0,Ac(r,!1),t.lanes=4194304)}else{if(!a)if(e=no(o),e!==null){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,kc(t,e),Ac(r,!0),r.tail===null&&r.tailMode===`hidden`&&!o.alternate&&!Ti)return jc(t),null}else 2*ke()-r.renderingStartTime>eu&&n!==536870912&&(t.flags|=128,a=!0,Ac(r,!1),t.lanes=4194304);r.isBackwards?(o.sibling=t.child,t.child=o):(e=r.last,e===null?t.child=o:e.sibling=o,r.last=o)}return r.tail===null?(jc(t),null):(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=ke(),e.sibling=null,n=to.current,le(to,a?n&1|2:n&1),Ti&&vi(t,r.treeForkCount),e);case 22:case 23:return eo(t),qa(),r=t.memoizedState!==null,e===null?r&&(t.flags|=8192):e.memoizedState!==null!==r&&(t.flags|=8192),r?n&536870912&&!(t.flags&128)&&(jc(t),t.subtreeFlags&6&&(t.flags|=8192)):jc(t),n=t.updateQueue,n!==null&&kc(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),e!==null&&ce(la),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Bi(Qi),jc(t),null;case 25:return null;case 30:return null}throw Error(i(156,t.tag))}function Mc(e,t){switch(xi(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Bi(Qi),he(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return _e(t),null;case 31:if(t.memoizedState!==null){if(eo(t),t.alternate===null)throw Error(i(340));Ni()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(eo(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));Ni()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ce(to),null;case 4:return he(),null;case 10:return Bi(t.type),null;case 22:case 23:return eo(t),qa(),e!==null&&ce(la),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Bi(Qi),null;case 25:return null;default:return null}}function Nc(e,t){switch(xi(t),t.tag){case 3:Bi(Qi),he();break;case 26:case 27:case 5:_e(t);break;case 4:he();break;case 31:t.memoizedState!==null&&eo(t);break;case 13:eo(t);break;case 19:ce(to);break;case 10:Bi(t.type);break;case 22:case 23:eo(t),qa(),e!==null&&ce(la);break;case 24:Bi(Qi)}}function Pc(e,t){try{var n=t.updateQueue,r=n===null?null:n.lastEffect;if(r!==null){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var a=n.create,o=n.inst;r=a(),o.destroy=r}n=n.next}while(n!==i)}}catch(e){Wu(t,t.return,e)}}function Fc(e,t,n){try{var r=t.updateQueue,i=r===null?null:r.lastEffect;if(i!==null){var a=i.next;r=a;do{if((r.tag&e)===e){var o=r.inst,s=o.destroy;if(s!==void 0){o.destroy=void 0,i=t;var c=n,l=s;try{l()}catch(e){Wu(i,c,e)}}}r=r.next}while(r!==a)}}catch(e){Wu(t,t.return,e)}}function Ic(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Ha(t,n)}catch(t){Wu(e,e.return,t)}}}function Lc(e,t,n){n.props=zs(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(n){Wu(e,t,n)}}function Rc(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof n==`function`?e.refCleanup=n(r):n.current=r}}catch(n){Wu(e,t,n)}}function zc(e,t){var n=e.ref,r=e.refCleanup;if(n!==null)if(typeof r==`function`)try{r()}catch(n){Wu(e,t,n)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n==`function`)try{n(null)}catch(n){Wu(e,t,n)}else n.current=null}function Bc(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{a:switch(t){case`button`:case`input`:case`select`:case`textarea`:n.autoFocus&&r.focus();break a;case`img`:n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(t){Wu(e,e.return,t)}}function Vc(e,t,n){try{var r=e.stateNode;Ld(r,e.type,n,t),r[ct]=t}catch(t){Wu(e,e.return,t)}}function Hc(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Qd(e.type)||e.tag===4}function Uc(e){a:for(;;){for(;e.sibling===null;){if(e.return===null||Hc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Qd(e.type)||e.flags&2||e.child===null||e.tag===4)continue a;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Wc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName===`HTML`?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName===`HTML`?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=W));else if(r!==4&&(r===27&&Qd(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(Wc(e,t,n),e=e.sibling;e!==null;)Wc(e,t,n),e=e.sibling}function Gc(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(r===27&&Qd(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Gc(e,t,n),e=e.sibling;e!==null;)Gc(e,t,n),e=e.sibling}function Kc(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Id(t,r,n),t[st]=e,t[ct]=n}catch(t){Wu(e,e.return,t)}}var qc=!1,Jc=!1,Yc=!1,Xc=typeof WeakSet==`function`?WeakSet:Set,Zc=null;function Qc(e,t){if(e=e.containerInfo,Bd=cp,e=_r(e),vr(e)){if(`selectionStart`in e)var n={start:e.selectionStart,end:e.selectionEnd};else a:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break a}var s=0,c=-1,l=-1,u=0,d=0,f=e,p=null;b:for(;;){for(var m;f!==n||a!==0&&f.nodeType!==3||(c=s+a),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===e)break b;if(p===n&&++u===a&&(c=s),p===o&&++d===r&&(l=s),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=c===-1||l===-1?null:{start:c,end:l}}else n=null}n||={start:0,end:0}}else n=null;for(Vd={focusedElem:e,selectionRange:n},cp=!1,Zc=t;Zc!==null;)if(t=Zc,e=t.child,t.subtreeFlags&1028&&e!==null)e.return=t,Zc=e;else for(;Zc!==null;){switch(t=Zc,o=t.alternate,e=t.flags,t.tag){case 0:if(e&4&&(e=t.updateQueue,e=e===null?null:e.events,e!==null))for(n=0;n<e.length;n++)a=e[n],a.ref.impl=a.nextImpl;break;case 11:case 15:break;case 1:if(e&1024&&o!==null){e=void 0,n=t,a=o.memoizedProps,o=o.memoizedState,r=n.stateNode;try{var h=zs(n.type,a);e=r.getSnapshotBeforeUpdate(h,o),r.__reactInternalSnapshotBeforeUpdate=e}catch(e){Wu(n,n.return,e)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)tf(e);else if(n===1)switch(e.nodeName){case`HEAD`:case`HTML`:case`BODY`:tf(e);break;default:e.textContent=``}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(i(163))}if(e=t.sibling,e!==null){e.return=t.return,Zc=e;break}Zc=t.return}}function $c(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:ml(e,n),r&4&&Pc(5,n);break;case 1:if(ml(e,n),r&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(e){Wu(n,n.return,e)}else{var i=zs(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(e){Wu(n,n.return,e)}}r&64&&Ic(n),r&512&&Rc(n,n.return);break;case 3:if(ml(e,n),r&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Ha(e,t)}catch(e){Wu(n,n.return,e)}}break;case 27:t===null&&r&4&&Kc(n);case 26:case 5:ml(e,n),t===null&&r&4&&Bc(n),r&512&&Rc(n,n.return);break;case 12:ml(e,n);break;case 31:ml(e,n),r&4&&al(e,n);break;case 13:ml(e,n),r&4&&ol(e,n),r&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=Ju.bind(null,n),cf(e,n))));break;case 22:if(r=n.memoizedState!==null||qc,!r){t=t!==null&&t.memoizedState!==null||Jc,i=qc;var a=Jc;qc=r,(Jc=t)&&!a?gl(e,n,(n.subtreeFlags&8772)!=0):ml(e,n),qc=i,Jc=a}break;case 30:break;default:ml(e,n)}}function el(e){var t=e.alternate;t!==null&&(e.alternate=null,el(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&R(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var tl=null,nl=!1;function rl(e,t,n){for(n=n.child;n!==null;)il(e,t,n),n=n.sibling}function il(e,t,n){if(Re&&typeof Re.onCommitFiberUnmount==`function`)try{Re.onCommitFiberUnmount(Le,n)}catch{}switch(n.tag){case 26:Jc||zc(n,t),rl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:Jc||zc(n,t);var r=tl,i=nl;Qd(n.type)&&(tl=n.stateNode,nl=!1),rl(e,t,n),mf(n.stateNode),tl=r,nl=i;break;case 5:Jc||zc(n,t);case 6:if(r=tl,i=nl,tl=null,rl(e,t,n),tl=r,nl=i,tl!==null)if(nl)try{(tl.nodeType===9?tl.body:tl.nodeName===`HTML`?tl.ownerDocument.body:tl).removeChild(n.stateNode)}catch(e){Wu(n,t,e)}else try{tl.removeChild(n.stateNode)}catch(e){Wu(n,t,e)}break;case 18:tl!==null&&(nl?(e=tl,$d(e.nodeType===9?e.body:e.nodeName===`HTML`?e.ownerDocument.body:e,n.stateNode),Np(e)):$d(tl,n.stateNode));break;case 4:r=tl,i=nl,tl=n.stateNode.containerInfo,nl=!0,rl(e,t,n),tl=r,nl=i;break;case 0:case 11:case 14:case 15:Fc(2,n,t),Jc||Fc(4,n,t),rl(e,t,n);break;case 1:Jc||(zc(n,t),r=n.stateNode,typeof r.componentWillUnmount==`function`&&Lc(n,t,r)),rl(e,t,n);break;case 21:rl(e,t,n);break;case 22:Jc=(r=Jc)||n.memoizedState!==null,rl(e,t,n),Jc=r;break;default:rl(e,t,n)}}function al(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Np(e)}catch(e){Wu(t,t.return,e)}}}function ol(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Np(e)}catch(e){Wu(t,t.return,e)}}function sl(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Xc),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Xc),t;default:throw Error(i(435,e.tag))}}function cl(e,t){var n=sl(e);t.forEach(function(t){if(!n.has(t)){n.add(t);var r=Yu.bind(null,e,t);t.then(r,r)}})}function ll(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r],o=e,s=t,c=s;a:for(;c!==null;){switch(c.tag){case 27:if(Qd(c.type)){tl=c.stateNode,nl=!1;break a}break;case 5:tl=c.stateNode,nl=!1;break a;case 3:case 4:tl=c.stateNode.containerInfo,nl=!0;break a}c=c.return}if(tl===null)throw Error(i(160));il(o,s,a),tl=null,nl=!1,o=a.alternate,o!==null&&(o.return=null),a.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)dl(t,e),t=t.sibling}var ul=null;function dl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ll(t,e),fl(e),r&4&&(Fc(3,e,e.return),Pc(3,e),Fc(5,e,e.return));break;case 1:ll(t,e),fl(e),r&512&&(Jc||n===null||zc(n,n.return)),r&64&&qc&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?r:n.concat(r))));break;case 26:var a=ul;if(ll(t,e),fl(e),r&512&&(Jc||n===null||zc(n,n.return)),r&4){var o=n===null?null:n.memoizedState;if(r=e.memoizedState,n===null)if(r===null)if(e.stateNode===null){a:{r=e.type,n=e.memoizedProps,a=a.ownerDocument||a;b:switch(r){case`title`:o=a.getElementsByTagName(`title`)[0],(!o||o[mt]||o[st]||o.namespaceURI===`http://www.w3.org/2000/svg`||o.hasAttribute(`itemprop`))&&(o=a.createElement(r),a.head.insertBefore(o,a.querySelector(`head > title`))),Id(o,r,n),o[st]=e,z(o),r=o;break a;case`link`:var s=Hf(`link`,`href`,a).get(r+(n.href||``));if(s){for(var c=0;c<s.length;c++)if(o=s[c],o.getAttribute(`href`)===(n.href==null||n.href===``?null:n.href)&&o.getAttribute(`rel`)===(n.rel==null?null:n.rel)&&o.getAttribute(`title`)===(n.title==null?null:n.title)&&o.getAttribute(`crossorigin`)===(n.crossOrigin==null?null:n.crossOrigin)){s.splice(c,1);break b}}o=a.createElement(r),Id(o,r,n),a.head.appendChild(o);break;case`meta`:if(s=Hf(`meta`,`content`,a).get(r+(n.content||``))){for(c=0;c<s.length;c++)if(o=s[c],o.getAttribute(`content`)===(n.content==null?null:``+n.content)&&o.getAttribute(`name`)===(n.name==null?null:n.name)&&o.getAttribute(`property`)===(n.property==null?null:n.property)&&o.getAttribute(`http-equiv`)===(n.httpEquiv==null?null:n.httpEquiv)&&o.getAttribute(`charset`)===(n.charSet==null?null:n.charSet)){s.splice(c,1);break b}}o=a.createElement(r),Id(o,r,n),a.head.appendChild(o);break;default:throw Error(i(468,r))}o[st]=e,z(o),r=o}e.stateNode=r}else Uf(a,e.type,e.stateNode);else e.stateNode=Lf(a,r,e.memoizedProps);else o===r?r===null&&e.stateNode!==null&&Vc(e,e.memoizedProps,n.memoizedProps):(o===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):o.count--,r===null?Uf(a,e.type,e.stateNode):Lf(a,r,e.memoizedProps))}break;case 27:ll(t,e),fl(e),r&512&&(Jc||n===null||zc(n,n.return)),n!==null&&r&4&&Vc(e,e.memoizedProps,n.memoizedProps);break;case 5:if(ll(t,e),fl(e),r&512&&(Jc||n===null||zc(n,n.return)),e.flags&32){a=e.stateNode;try{Bt(a,``)}catch(t){Wu(e,e.return,t)}}r&4&&e.stateNode!=null&&(a=e.memoizedProps,Vc(e,a,n===null?a:n.memoizedProps)),r&1024&&(Yc=!0);break;case 6:if(ll(t,e),fl(e),r&4){if(e.stateNode===null)throw Error(i(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(t){Wu(e,e.return,t)}}break;case 3:if(Vf=null,a=ul,ul=_f(t.containerInfo),ll(t,e),ul=a,fl(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Np(t.containerInfo)}catch(t){Wu(e,e.return,t)}Yc&&(Yc=!1,pl(e));break;case 4:r=ul,ul=_f(e.stateNode.containerInfo),ll(t,e),fl(e),ul=r;break;case 12:ll(t,e),fl(e);break;case 31:ll(t,e),fl(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,cl(e,r)));break;case 13:ll(t,e),fl(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Ql=ke()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,cl(e,r)));break;case 22:a=e.memoizedState!==null;var l=n!==null&&n.memoizedState!==null,u=qc,d=Jc;if(qc=u||a,Jc=d||l,ll(t,e),Jc=d,qc=u,fl(e),r&8192)a:for(t=e.stateNode,t._visibility=a?t._visibility&-2:t._visibility|1,a&&(n===null||l||qc||Jc||hl(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){l=n=t;try{if(o=l.stateNode,a)s=o.style,typeof s.setProperty==`function`?s.setProperty(`display`,`none`,`important`):s.display=`none`;else{c=l.stateNode;var f=l.memoizedProps.style,p=f!=null&&f.hasOwnProperty(`display`)?f.display:null;c.style.display=p==null||typeof p==`boolean`?``:(``+p).trim()}}catch(e){Wu(l,l.return,e)}}}else if(t.tag===6){if(n===null){l=t;try{l.stateNode.nodeValue=a?``:l.memoizedProps}catch(e){Wu(l,l.return,e)}}}else if(t.tag===18){if(n===null){l=t;try{var m=l.stateNode;a?ef(m,!0):ef(l.stateNode,!1)}catch(e){Wu(l,l.return,e)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break a;for(;t.sibling===null;){if(t.return===null||t.return===e)break a;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(n=r.retryQueue,n!==null&&(r.retryQueue=null,cl(e,n))));break;case 19:ll(t,e),fl(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,cl(e,r)));break;case 30:break;case 21:break;default:ll(t,e),fl(e)}}function fl(e){var t=e.flags;if(t&2){try{for(var n,r=e.return;r!==null;){if(Hc(r)){n=r;break}r=r.return}if(n==null)throw Error(i(160));switch(n.tag){case 27:var a=n.stateNode;Gc(e,Uc(e),a);break;case 5:var o=n.stateNode;n.flags&32&&(Bt(o,``),n.flags&=-33),Gc(e,Uc(e),o);break;case 3:case 4:var s=n.stateNode.containerInfo;Wc(e,Uc(e),s);break;default:throw Error(i(161))}}catch(t){Wu(e,e.return,t)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function pl(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;pl(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function ml(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)$c(e,t.alternate,t),t=t.sibling}function hl(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Fc(4,t,t.return),hl(t);break;case 1:zc(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount==`function`&&Lc(t,t.return,n),hl(t);break;case 27:mf(t.stateNode);case 26:case 5:zc(t,t.return),hl(t);break;case 22:t.memoizedState===null&&hl(t);break;case 30:hl(t);break;default:hl(t)}e=e.sibling}}function gl(e,t,n){for(n&&=(t.subtreeFlags&8772)!=0,t=t.child;t!==null;){var r=t.alternate,i=e,a=t,o=a.flags;switch(a.tag){case 0:case 11:case 15:gl(i,a,n),Pc(4,a);break;case 1:if(gl(i,a,n),r=a,i=r.stateNode,typeof i.componentDidMount==`function`)try{i.componentDidMount()}catch(e){Wu(r,r.return,e)}if(r=a,i=r.updateQueue,i!==null){var s=r.stateNode;try{var c=i.shared.hiddenCallbacks;if(c!==null)for(i.shared.hiddenCallbacks=null,i=0;i<c.length;i++)Va(c[i],s)}catch(e){Wu(r,r.return,e)}}n&&o&64&&Ic(a),Rc(a,a.return);break;case 27:Kc(a);case 26:case 5:gl(i,a,n),n&&r===null&&o&4&&Bc(a),Rc(a,a.return);break;case 12:gl(i,a,n);break;case 31:gl(i,a,n),n&&o&4&&al(i,a);break;case 13:gl(i,a,n),n&&o&4&&ol(i,a);break;case 22:a.memoizedState===null&&gl(i,a,n),Rc(a,a.return);break;case 30:break;default:gl(i,a,n)}t=t.sibling}}function _l(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&ea(n))}function vl(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ea(e))}function yl(e,t,n,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)bl(e,t,n,r),t=t.sibling}function bl(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:yl(e,t,n,r),i&2048&&Pc(9,t);break;case 1:yl(e,t,n,r);break;case 3:yl(e,t,n,r),i&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&ea(e)));break;case 12:if(i&2048){yl(e,t,n,r),e=t.stateNode;try{var a=t.memoizedProps,o=a.id,s=a.onPostCommit;typeof s==`function`&&s(o,t.alternate===null?`mount`:`update`,e.passiveEffectDuration,-0)}catch(e){Wu(t,t.return,e)}}else yl(e,t,n,r);break;case 31:yl(e,t,n,r);break;case 13:yl(e,t,n,r);break;case 23:break;case 22:a=t.stateNode,o=t.alternate,t.memoizedState===null?a._visibility&2?yl(e,t,n,r):(a._visibility|=2,xl(e,t,n,r,(t.subtreeFlags&10256)!=0||!1)):a._visibility&2?yl(e,t,n,r):Sl(e,t),i&2048&&_l(o,t);break;case 24:yl(e,t,n,r),i&2048&&vl(t.alternate,t);break;default:yl(e,t,n,r)}}function xl(e,t,n,r,i){for(i&&=(t.subtreeFlags&10256)!=0||!1,t=t.child;t!==null;){var a=e,o=t,s=n,c=r,l=o.flags;switch(o.tag){case 0:case 11:case 15:xl(a,o,s,c,i),Pc(8,o);break;case 23:break;case 22:var u=o.stateNode;o.memoizedState===null?(u._visibility|=2,xl(a,o,s,c,i)):u._visibility&2?xl(a,o,s,c,i):Sl(a,o),i&&l&2048&&_l(o.alternate,o);break;case 24:xl(a,o,s,c,i),i&&l&2048&&vl(o.alternate,o);break;default:xl(a,o,s,c,i)}t=t.sibling}}function Sl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:Sl(n,r),i&2048&&_l(r.alternate,r);break;case 24:Sl(n,r),i&2048&&vl(r.alternate,r);break;default:Sl(n,r)}t=t.sibling}}var Cl=8192;function wl(e,t,n){if(e.subtreeFlags&Cl)for(e=e.child;e!==null;)Tl(e,t,n),e=e.sibling}function Tl(e,t,n){switch(e.tag){case 26:wl(e,t,n),e.flags&Cl&&e.memoizedState!==null&&Kf(n,ul,e.memoizedState,e.memoizedProps);break;case 5:wl(e,t,n);break;case 3:case 4:var r=ul;ul=_f(e.stateNode.containerInfo),wl(e,t,n),ul=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=Cl,Cl=16777216,wl(e,t,n),Cl=r):wl(e,t,n));break;default:wl(e,t,n)}}function El(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Dl(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];Zc=r,Al(r,e)}El(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ol(e),e=e.sibling}function Ol(e){switch(e.tag){case 0:case 11:case 15:Dl(e),e.flags&2048&&Fc(9,e,e.return);break;case 3:Dl(e);break;case 12:Dl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,kl(e)):Dl(e);break;default:Dl(e)}}function kl(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var n=0;n<t.length;n++){var r=t[n];Zc=r,Al(r,e)}El(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Fc(8,t,t.return),kl(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,kl(t));break;default:kl(t)}e=e.sibling}}function Al(e,t){for(;Zc!==null;){var n=Zc;switch(n.tag){case 0:case 11:case 15:Fc(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var r=n.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:ea(n.memoizedState.cache)}if(r=n.child,r!==null)r.return=n,Zc=r;else a:for(n=e;Zc!==null;){r=Zc;var i=r.sibling,a=r.return;if(el(r),r===n){Zc=null;break a}if(i!==null){i.return=a,Zc=i;break a}Zc=a}}}var jl={getCacheForType:function(e){var t=Ki(Qi),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Ki(Qi).controller.signal}},Ml=typeof WeakMap==`function`?WeakMap:Map,Nl=0,Pl=null,Fl=null,Il=0,Ll=0,Rl=null,zl=!1,Bl=!1,Vl=!1,Hl=0,Ul=0,Wl=0,Gl=0,Kl=0,ql=0,Jl=0,Yl=null,Xl=null,Zl=!1,Ql=0,$l=0,eu=1/0,tu=null,nu=null,ru=0,iu=null,au=null,ou=0,su=0,cu=null,lu=null,uu=0,du=null;function fu(){return Nl&2&&Il!==0?Il&-Il:j.T===null?it():dd()}function pu(){if(ql===0)if(!(Il&536870912)||Ti){var e=We;We<<=1,!(We&3932160)&&(We=262144),ql=e}else ql=536870912;return e=Ja.current,e!==null&&(e.flags|=32),ql}function mu(e,t,n){(e===Pl&&(Ll===2||Ll===9)||e.cancelPendingCommit!==null)&&(xu(e,0),vu(e,Il,ql,!1)),Qe(e,n),(!(Nl&2)||e!==Pl)&&(e===Pl&&(!(Nl&2)&&(Gl|=n),Ul===4&&vu(e,Il,ql,!1)),rd(e))}function hu(e,t,n){if(Nl&6)throw Error(i(327));var r=!n&&(t&127)==0&&(t&e.expiredLanes)===0||Je(e,t),a=r?ku(e,t):Du(e,t,!0),o=r;do{if(a===0){Bl&&!r&&vu(e,t,0,!1);break}else{if(n=e.current.alternate,o&&!_u(n)){a=Du(e,t,!1),o=!1;continue}if(a===2){if(o=t,e.errorRecoveryDisabledLanes&o)var s=0;else s=e.pendingLanes&-536870913,s=s===0?s&536870912?536870912:0:s;if(s!==0){t=s;a:{var c=e;a=Yl;var l=c.current.memoizedState.isDehydrated;if(l&&(xu(c,s).flags|=256),s=Du(c,s,!1),s!==2){if(Vl&&!l){c.errorRecoveryDisabledLanes|=o,Gl|=o,a=4;break a}o=Xl,Xl=a,o!==null&&(Xl===null?Xl=o:Xl.push.apply(Xl,o))}a=s}if(o=!1,a!==2)continue}}if(a===1){xu(e,0),vu(e,t,0,!0);break}a:{switch(r=e,o=a,o){case 0:case 1:throw Error(i(345));case 4:if((t&4194048)!==t)break;case 6:vu(r,t,ql,!zl);break a;case 2:Xl=null;break;case 3:case 5:break;default:throw Error(i(329))}if((t&62914560)===t&&(a=Ql+300-ke(),10<a)){if(vu(r,t,ql,!zl),qe(r,0,!0)!==0)break a;ou=t,r.timeoutHandle=Q(gu.bind(null,r,n,Xl,tu,Zl,t,ql,Gl,Jl,zl,o,`Throttled`,-0,0),a);break a}gu(r,n,Xl,tu,Zl,t,ql,Gl,Jl,zl,o,null,-0,0)}}break}while(1);rd(e)}function gu(e,t,n,r,i,a,o,s,c,l,u,d,f,p){if(e.timeoutHandle=-1,d=t.subtreeFlags,d&8192||(d&16785408)==16785408){d={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:W},Tl(t,a,d);var m=(a&62914560)===a?Ql-ke():(a&4194048)===a?$l-ke():0;if(m=Jf(d,m),m!==null){ou=a,e.cancelPendingCommit=m(Iu.bind(null,e,t,a,n,r,i,o,s,c,u,d,null,f,p)),vu(e,a,o,!l);return}}Iu(e,t,a,n,r,i,o,s,c)}function _u(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!fr(a(),i))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function vu(e,t,n,r){t&=~Kl,t&=~Gl,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var a=31-ze(i),o=1<<a;r[a]=-1,i&=~o}n!==0&&L(e,n,t)}function yu(){return Nl&6?!0:(id(0,!1),!1)}function bu(){if(Fl!==null){if(Ll===0)var e=Fl.return;else e=Fl,Ri=Li=null,xo(e),Ca=null,wa=0,e=Fl;for(;e!==null;)Nc(e.alternate,e),e=e.return;Fl=null}}function xu(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Jd(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),ou=0,bu(),Pl=e,Fl=n=ei(e.current,null),Il=t,Ll=0,Rl=null,zl=!1,Bl=Je(e,t),Vl=!1,Jl=ql=Kl=Gl=Wl=Ul=0,Xl=Yl=null,Zl=!1,t&8&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var i=31-ze(r),a=1<<i;t|=e[i],r&=~a}return Hl=t,Wr(),n}function Su(e,t){Y=null,j.H=js,t===pa||t===ha?(t=xa(),Ll=3):t===ma?(t=xa(),Ll=4):Ll=t===Ys?8:typeof t==`object`&&t&&typeof t.then==`function`?6:1,Rl=t,Fl===null&&(Ul=1,Us(e,ci(t,e.current)))}function Cu(){var e=Ja.current;return e===null?!0:(Il&4194048)===Il?Ya===null:(Il&62914560)===Il||Il&536870912?e===Ya:!1}function wu(){var e=j.H;return j.H=js,e===null?js:e}function Tu(){var e=j.A;return j.A=jl,e}function Eu(){Ul=4,zl||(Il&4194048)!==Il&&Ja.current!==null||(Bl=!0),!(Wl&134217727)&&!(Gl&134217727)||Pl===null||vu(Pl,Il,ql,!1)}function Du(e,t,n){var r=Nl;Nl|=2;var i=wu(),a=Tu();(Pl!==e||Il!==t)&&(tu=null,xu(e,t)),t=!1;var o=Ul;a:do try{if(Ll!==0&&Fl!==null){var s=Fl,c=Rl;switch(Ll){case 8:bu(),o=6;break a;case 3:case 2:case 9:case 6:Ja.current===null&&(t=!0);var l=Ll;if(Ll=0,Rl=null,Nu(e,s,c,l),n&&Bl){o=0;break a}break;default:l=Ll,Ll=0,Rl=null,Nu(e,s,c,l)}}Ou(),o=Ul;break}catch(t){Su(e,t)}while(1);return t&&e.shellSuspendCounter++,Ri=Li=null,Nl=r,j.H=i,j.A=a,Fl===null&&(Pl=null,Il=0,Wr()),o}function Ou(){for(;Fl!==null;)ju(Fl)}function ku(e,t){var n=Nl;Nl|=2;var r=wu(),a=Tu();Pl!==e||Il!==t?(tu=null,eu=ke()+500,xu(e,t)):Bl=Je(e,t);a:do try{if(Ll!==0&&Fl!==null){t=Fl;var o=Rl;b:switch(Ll){case 1:Ll=0,Rl=null,Nu(e,t,o,1);break;case 2:case 9:if(_a(o)){Ll=0,Rl=null,Mu(t);break}t=function(){Ll!==2&&Ll!==9||Pl!==e||(Ll=7),rd(e)},o.then(t,t);break a;case 3:Ll=7;break a;case 4:Ll=5;break a;case 7:_a(o)?(Ll=0,Rl=null,Mu(t)):(Ll=0,Rl=null,Nu(e,t,o,7));break;case 5:var s=null;switch(Fl.tag){case 26:s=Fl.memoizedState;case 5:case 27:var c=Fl;if(s?Gf(s):c.stateNode.complete){Ll=0,Rl=null;var l=c.sibling;if(l!==null)Fl=l;else{var u=c.return;u===null?Fl=null:(Fl=u,Pu(u))}break b}}Ll=0,Rl=null,Nu(e,t,o,5);break;case 6:Ll=0,Rl=null,Nu(e,t,o,6);break;case 8:bu(),Ul=6;break a;default:throw Error(i(462))}}Au();break}catch(t){Su(e,t)}while(1);return Ri=Li=null,j.H=r,j.A=a,Nl=n,Fl===null?(Pl=null,Il=0,Wr(),Ul):0}function Au(){for(;Fl!==null&&!De();)ju(Fl)}function ju(e){var t=Tc(e.alternate,e,Hl);e.memoizedProps=e.pendingProps,t===null?Pu(e):Fl=t}function Mu(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=lc(n,t,t.pendingProps,t.type,void 0,Il);break;case 11:t=lc(n,t,t.pendingProps,t.type.render,t.ref,Il);break;case 5:xo(t);default:Nc(n,t),t=Fl=ti(t,Hl),t=Tc(n,t,Hl)}e.memoizedProps=e.pendingProps,t===null?Pu(e):Fl=t}function Nu(e,t,n,r){Ri=Li=null,xo(t),Ca=null,wa=0;var i=t.return;try{if(Js(e,i,t,n,Il)){Ul=1,Us(e,ci(n,e.current)),Fl=null;return}}catch(t){if(i!==null)throw Fl=i,t;Ul=1,Us(e,ci(n,e.current)),Fl=null;return}t.flags&32768?(Ti||r===1?e=!0:Bl||Il&536870912?e=!1:(zl=e=!0,(r===2||r===9||r===3||r===6)&&(r=Ja.current,r!==null&&r.tag===13&&(r.flags|=16384))),Fu(t,e)):Pu(t)}function Pu(e){var t=e;do{if(t.flags&32768){Fu(t,zl);return}e=t.return;var n=Z(t.alternate,t,Hl);if(n!==null){Fl=n;return}if(t=t.sibling,t!==null){Fl=t;return}Fl=t=e}while(t!==null);Ul===0&&(Ul=5)}function Fu(e,t){do{var n=Mc(e.alternate,e);if(n!==null){n.flags&=32767,Fl=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){Fl=e;return}Fl=e=n}while(e!==null);Ul=6,Fl=null}function Iu(e,t,n,r,a,o,s,c,l){e.cancelPendingCommit=null;do Vu();while(ru!==0);if(Nl&6)throw Error(i(327));if(t!==null){if(t===e.current)throw Error(i(177));if(o=t.lanes|t.childLanes,o|=Ur,$e(e,n,o,s,c,l),e===Pl&&(Fl=Pl=null,Il=0),au=t,iu=e,ou=n,su=o,cu=a,lu=r,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,Xu(F,function(){return Hu(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!=0,t.subtreeFlags&13878||r){r=j.T,j.T=null,a=M.p,M.p=2,s=Nl,Nl|=4;try{Qc(e,t,n)}finally{Nl=s,M.p=a,j.T=r}}ru=1,Lu(),Ru(),zu()}}function Lu(){if(ru===1){ru=0;var e=iu,t=au,n=(t.flags&13878)!=0;if(t.subtreeFlags&13878||n){n=j.T,j.T=null;var r=M.p;M.p=2;var i=Nl;Nl|=4;try{dl(t,e);var a=Vd,o=_r(e.containerInfo),s=a.focusedElem,c=a.selectionRange;if(o!==s&&s&&s.ownerDocument&&gr(s.ownerDocument.documentElement,s)){if(c!==null&&vr(s)){var l=c.start,u=c.end;if(u===void 0&&(u=l),`selectionStart`in s)s.selectionStart=l,s.selectionEnd=Math.min(u,s.value.length);else{var d=s.ownerDocument||document,f=d&&d.defaultView||window;if(f.getSelection){var p=f.getSelection(),m=s.textContent.length,h=Math.min(c.start,m),g=c.end===void 0?h:Math.min(c.end,m);!p.extend&&h>g&&(o=g,g=h,h=o);var _=hr(s,h),v=hr(s,g);if(_&&v&&(p.rangeCount!==1||p.anchorNode!==_.node||p.anchorOffset!==_.offset||p.focusNode!==v.node||p.focusOffset!==v.offset)){var y=d.createRange();y.setStart(_.node,_.offset),p.removeAllRanges(),h>g?(p.addRange(y),p.extend(v.node,v.offset)):(y.setEnd(v.node,v.offset),p.addRange(y))}}}}for(d=[],p=s;p=p.parentNode;)p.nodeType===1&&d.push({element:p,left:p.scrollLeft,top:p.scrollTop});for(typeof s.focus==`function`&&s.focus(),s=0;s<d.length;s++){var b=d[s];b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}cp=!!Bd,Vd=Bd=null}finally{Nl=i,M.p=r,j.T=n}}e.current=t,ru=2}}function Ru(){if(ru===2){ru=0;var e=iu,t=au,n=(t.flags&8772)!=0;if(t.subtreeFlags&8772||n){n=j.T,j.T=null;var r=M.p;M.p=2;var i=Nl;Nl|=4;try{$c(e,t.alternate,t)}finally{Nl=i,M.p=r,j.T=n}}ru=3}}function zu(){if(ru===4||ru===3){ru=0,Oe();var e=iu,t=au,n=ou,r=lu;t.subtreeFlags&10256||t.flags&10256?ru=5:(ru=0,au=iu=null,Bu(e,e.pendingLanes));var i=e.pendingLanes;if(i===0&&(nu=null),rt(n),t=t.stateNode,Re&&typeof Re.onCommitFiberRoot==`function`)try{Re.onCommitFiberRoot(Le,t,void 0,(t.current.flags&128)==128)}catch{}if(r!==null){t=j.T,i=M.p,M.p=2,j.T=null;try{for(var a=e.onRecoverableError,o=0;o<r.length;o++){var s=r[o];a(s.value,{componentStack:s.stack})}}finally{j.T=t,M.p=i}}ou&3&&Vu(),rd(e),i=e.pendingLanes,n&261930&&i&42?e===du?uu++:(uu=0,du=e):uu=0,id(0,!1)}}function Bu(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,ea(t)))}function Vu(){return Lu(),Ru(),zu(),Hu()}function Hu(){if(ru!==5)return!1;var e=iu,t=su;su=0;var n=rt(ou),r=j.T,a=M.p;try{M.p=32>n?32:n,j.T=null,n=cu,cu=null;var o=iu,s=ou;if(ru=0,au=iu=null,ou=0,Nl&6)throw Error(i(331));var c=Nl;if(Nl|=4,Ol(o.current),bl(o,o.current,s,n),Nl=c,id(0,!1),Re&&typeof Re.onPostCommitFiberRoot==`function`)try{Re.onPostCommitFiberRoot(Le,o)}catch{}return!0}finally{M.p=a,j.T=r,Bu(e,t)}}function Uu(e,t,n){t=ci(n,t),t=Gs(e.stateNode,t,2),e=Fa(e,t,2),e!==null&&(Qe(e,2),rd(e))}function Wu(e,t,n){if(e.tag===3)Uu(e,e,n);else for(;t!==null;){if(t.tag===3){Uu(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError==`function`||typeof r.componentDidCatch==`function`&&(nu===null||!nu.has(r))){e=ci(n,e),n=Ks(2),r=Fa(t,n,2),r!==null&&(qs(n,r,t,e),Qe(r,2),rd(r));break}}t=t.return}}function Gu(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new Ml;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(Vl=!0,i.add(n),e=Ku.bind(null,e,t,n),t.then(e,e))}function Ku(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Pl===e&&(Il&n)===n&&(Ul===4||Ul===3&&(Il&62914560)===Il&&300>ke()-Ql?!(Nl&2)&&xu(e,0):Kl|=n,Jl===Il&&(Jl=0)),rd(e)}function qu(e,t){t===0&&(t=Xe()),e=qr(e,t),e!==null&&(Qe(e,t),rd(e))}function Ju(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),qu(e,n)}function Yu(e,t){var n=0;switch(e.tag){case 31:case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(i(314))}r!==null&&r.delete(t),qu(e,n)}function Xu(e,t){return Te(e,t)}var Zu=null,Qu=null,$u=!1,ed=!1,td=!1,nd=0;function rd(e){e!==Qu&&e.next===null&&(Qu===null?Zu=Qu=e:Qu=Qu.next=e),ed=!0,$u||($u=!0,ud())}function id(e,t){if(!td&&ed){td=!0;do for(var n=!1,r=Zu;r!==null;){if(!t)if(e!==0){var i=r.pendingLanes;if(i===0)var a=0;else{var o=r.suspendedLanes,s=r.pingedLanes;a=(1<<31-ze(42|e)+1)-1,a&=i&~(o&~s),a=a&201326741?a&201326741|1:a?a|2:0}a!==0&&(n=!0,ld(r,a))}else a=Il,a=qe(r,r===Pl?a:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),!(a&3)||Je(r,a)||(n=!0,ld(r,a));r=r.next}while(n);td=!1}}function ad(){od()}function od(){ed=$u=!1;var e=0;nd!==0&&qd()&&(e=nd);for(var t=ke(),n=null,r=Zu;r!==null;){var i=r.next,a=sd(r,t);a===0?(r.next=null,n===null?Zu=i:n.next=i,i===null&&(Qu=n)):(n=r,(e!==0||a&3)&&(ed=!0)),r=i}ru!==0&&ru!==5||id(e,!1),nd!==0&&(nd=0)}function sd(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes&-62914561;0<a;){var o=31-ze(a),s=1<<o,c=i[o];c===-1?((s&n)===0||(s&r)!==0)&&(i[o]=Ye(s,t)):c<=t&&(e.expiredLanes|=s),a&=~s}if(t=Pl,n=Il,n=qe(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,n===0||e===t&&(Ll===2||Ll===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&Ee(r),e.callbackNode=null,e.callbackPriority=0;if(!(n&3)||Je(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(r!==null&&Ee(r),rt(n)){case 2:case 8:n=Me;break;case 32:n=F;break;case 268435456:n=Pe;break;default:n=F}return r=cd.bind(null,e),n=Te(n,r),e.callbackPriority=t,e.callbackNode=n,t}return r!==null&&r!==null&&Ee(r),e.callbackPriority=2,e.callbackNode=null,2}function cd(e,t){if(ru!==0&&ru!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Vu()&&e.callbackNode!==n)return null;var r=Il;return r=qe(e,e===Pl?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(hu(e,r,t),sd(e,ke()),e.callbackNode!=null&&e.callbackNode===n?cd.bind(null,e):null)}function ld(e,t){if(Vu())return null;hu(e,t,!0)}function ud(){Xd(function(){Nl&6?Te(je,ad):od()})}function dd(){if(nd===0){var e=ra;e===0&&(e=Ue,Ue<<=1,!(Ue&261888)&&(Ue=256)),nd=e}return nd}function fd(e){return e==null||typeof e==`symbol`||typeof e==`boolean`?null:typeof e==`function`?e:qt(``+e)}function pd(e,t){var n=t.ownerDocument.createElement(`input`);return n.name=t.name,n.value=t.value,e.id&&n.setAttribute(`form`,e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function md(e,t,n,r,i){if(t===`submit`&&n&&n.stateNode===i){var a=fd((i[ct]||null).action),o=r.submitter;o&&(t=(t=o[ct]||null)?fd(t.formAction):o.getAttribute(`formAction`),t!==null&&(a=t,o=null));var s=new mn(`action`,`action`,null,r,i);e.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(nd!==0){var e=o?pd(i,o):new FormData(i);_s(n,{pending:!0,data:e,method:i.method,action:a},null,e)}}else typeof a==`function`&&(s.preventDefault(),e=o?pd(i,o):new FormData(i),_s(n,{pending:!0,data:e,method:i.method,action:a},a,e))},currentTarget:i}]})}}for(var hd=0;hd<Rr.length;hd++){var gd=Rr[hd];zr(gd.toLowerCase(),`on`+(gd[0].toUpperCase()+gd.slice(1)))}zr(Ar,`onAnimationEnd`),zr(jr,`onAnimationIteration`),zr(Mr,`onAnimationStart`),zr(`dblclick`,`onDoubleClick`),zr(`focusin`,`onFocus`),zr(`focusout`,`onBlur`),zr(Nr,`onTransitionRun`),zr(Pr,`onTransitionStart`),zr(Fr,`onTransitionCancel`),zr(Ir,`onTransitionEnd`),St(`onMouseEnter`,[`mouseout`,`mouseover`]),St(`onMouseLeave`,[`mouseout`,`mouseover`]),St(`onPointerEnter`,[`pointerout`,`pointerover`]),St(`onPointerLeave`,[`pointerout`,`pointerover`]),xt(`onChange`,`change click focusin focusout input keydown keyup selectionchange`.split(` `)),xt(`onSelect`,`focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange`.split(` `)),xt(`onBeforeInput`,[`compositionend`,`keypress`,`textInput`,`paste`]),xt(`onCompositionEnd`,`compositionend focusout keydown keypress keyup mousedown`.split(` `)),xt(`onCompositionStart`,`compositionstart focusout keydown keypress keyup mousedown`.split(` `)),xt(`onCompositionUpdate`,`compositionupdate focusout keydown keypress keyup mousedown`.split(` `));var _d=`abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting`.split(` `),vd=new Set(`beforetoggle cancel close invalid load scroll scrollend toggle`.split(` `).concat(_d));function yd(e,t){t=(t&4)!=0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;a:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],c=s.instance,l=s.currentTarget;if(s=s.listener,c!==a&&i.isPropagationStopped())break a;a=s,i.currentTarget=l;try{a(i)}catch(e){Br(e)}i.currentTarget=null,a=c}else for(o=0;o<r.length;o++){if(s=r[o],c=s.instance,l=s.currentTarget,s=s.listener,c!==a&&i.isPropagationStopped())break a;a=s,i.currentTarget=l;try{a(i)}catch(e){Br(e)}i.currentTarget=null,a=c}}}}function bd(e,t){var n=t[ut];n===void 0&&(n=t[ut]=new Set);var r=e+`__bubble`;n.has(r)||(wd(t,e,2,!1),n.add(r))}function xd(e,t,n){var r=0;t&&(r|=4),wd(n,e,r,t)}var Sd=`_reactListening`+Math.random().toString(36).slice(2);function Cd(e){if(!e[Sd]){e[Sd]=!0,yt.forEach(function(t){t!==`selectionchange`&&(vd.has(t)||xd(t,!1,e),xd(t,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Sd]||(t[Sd]=!0,xd(`selectionchange`,!1,t))}}function wd(e,t,n,r){switch($(t)){case 2:var i=lp;break;case 8:i=up;break;default:i=dp}n=i.bind(null,t,n,e),i=void 0,!nn||t!==`touchstart`&&t!==`touchmove`&&t!==`wheel`||(i=!0),r?i===void 0?e.addEventListener(t,n,!0):e.addEventListener(t,n,{capture:!0,passive:i}):i===void 0?e.addEventListener(t,n,!1):e.addEventListener(t,n,{passive:i})}function Td(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)a:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var c=r.stateNode.containerInfo;if(c===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&s.stateNode.containerInfo===i)return;s=s.return}for(;c!==null;){if(s=ht(c),s===null)return;if(l=s.tag,l===5||l===6||l===26||l===27){r=a=s;continue a}c=c.parentNode}}r=r.return}$t(function(){var r=a,i=G(n),s=[];a:{var c=Lr.get(e);if(c!==void 0){var l=mn,u=e;switch(e){case`keypress`:if(ln(n)===0)break a;case`keydown`:case`keyup`:l=An;break;case`focusin`:u=`focus`,l=xn;break;case`focusout`:u=`blur`,l=xn;break;case`beforeblur`:case`afterblur`:l=xn;break;case`click`:if(n.button===2)break a;case`auxclick`:case`dblclick`:case`mousedown`:case`mousemove`:case`mouseup`:case`mouseout`:case`mouseover`:case`contextmenu`:l=q;break;case`drag`:case`dragend`:case`dragenter`:case`dragexit`:case`dragleave`:case`dragover`:case`dragstart`:case`drop`:l=bn;break;case`touchcancel`:case`touchend`:case`touchmove`:case`touchstart`:l=Mn;break;case Ar:case jr:case Mr:l=Sn;break;case Ir:l=J;break;case`scroll`:case`scrollend`:l=gn;break;case`wheel`:l=Nn;break;case`copy`:case`cut`:case`paste`:l=Cn;break;case`gotpointercapture`:case`lostpointercapture`:case`pointercancel`:case`pointerdown`:case`pointermove`:case`pointerout`:case`pointerover`:case`pointerup`:l=jn;break;case`toggle`:case`beforetoggle`:l=Pn}var d=(t&4)!=0,f=!d&&(e===`scroll`||e===`scrollend`),p=d?c===null?null:c+`Capture`:c;d=[];for(var m=r,h;m!==null;){var g=m;if(h=g.stateNode,g=g.tag,g!==5&&g!==26&&g!==27||h===null||p===null||(g=en(m,p),g!=null&&d.push(Ed(m,g,h))),f)break;m=m.return}0<d.length&&(c=new l(c,u,null,n,i),s.push({event:c,listeners:d}))}}if(!(t&7)){a:{if(c=e===`mouseover`||e===`pointerover`,l=e===`mouseout`||e===`pointerout`,c&&n!==Jt&&(u=n.relatedTarget||n.fromElement)&&(ht(u)||u[lt]))break a;if((l||c)&&(c=i.window===i?i:(c=i.ownerDocument)?c.defaultView||c.parentWindow:window,l?(u=n.relatedTarget||n.toElement,l=r,u=u?ht(u):null,u!==null&&(f=o(u),d=u.tag,u!==f||d!==5&&d!==27&&d!==6)&&(u=null)):(l=null,u=r),l!==u)){if(d=q,g=`onMouseLeave`,p=`onMouseEnter`,m=`mouse`,(e===`pointerout`||e===`pointerover`)&&(d=jn,g=`onPointerLeave`,p=`onPointerEnter`,m=`pointer`),f=l==null?c:_t(l),h=u==null?c:_t(u),c=new d(g,m+`leave`,l,n,i),c.target=f,c.relatedTarget=h,g=null,ht(i)===r&&(d=new d(p,m+`enter`,u,n,i),d.target=h,d.relatedTarget=f,g=d),f=g,l&&u)b:{for(d=Od,p=l,m=u,h=0,g=p;g;g=d(g))h++;g=0;for(var _=m;_;_=d(_))g++;for(;0<h-g;)p=d(p),h--;for(;0<g-h;)m=d(m),g--;for(;h--;){if(p===m||m!==null&&p===m.alternate){d=p;break b}p=d(p),m=d(m)}d=null}else d=null;l!==null&&kd(s,c,l,d,!1),u!==null&&f!==null&&kd(s,f,u,d,!0)}}a:{if(c=r?_t(r):window,l=c.nodeName&&c.nodeName.toLowerCase(),l===`select`||l===`input`&&c.type===`file`)var v=er;else if(Jn(c))if(tr)v=ur;else{v=cr;var y=sr}else l=c.nodeName,!l||l.toLowerCase()!==`input`||c.type!==`checkbox`&&c.type!==`radio`?r&&Wt(r.elementType)&&(v=er):v=lr;if(v&&=v(e,r)){Yn(s,v,n,i);break a}y&&y(e,c,r),e===`focusout`&&r&&c.type===`number`&&r.memoizedProps.value!=null&&Lt(c,`number`,c.value)}switch(y=r?_t(r):window,e){case`focusin`:(Jn(y)||y.contentEditable===`true`)&&(br=y,xr=r,Sr=null);break;case`focusout`:Sr=xr=br=null;break;case`mousedown`:Cr=!0;break;case`contextmenu`:case`mouseup`:case`dragend`:Cr=!1,wr(s,n,i);break;case`selectionchange`:if(yr)break;case`keydown`:case`keyup`:wr(s,n,i)}var b;if(In)b:{switch(e){case`compositionstart`:var x=`onCompositionStart`;break b;case`compositionend`:x=`onCompositionEnd`;break b;case`compositionupdate`:x=`onCompositionUpdate`;break b}x=void 0}else Wn?Hn(e,n)&&(x=`onCompositionEnd`):e===`keydown`&&n.keyCode===229&&(x=`onCompositionStart`);x&&(zn&&n.locale!==`ko`&&(Wn||x!==`onCompositionStart`?x===`onCompositionEnd`&&Wn&&(b=cn()):(an=i,on=`value`in an?an.value:an.textContent,Wn=!0)),y=Dd(r,x),0<y.length&&(x=new wn(x,e,null,n,i),s.push({event:x,listeners:y}),b?x.data=b:(b=Un(n),b!==null&&(x.data=b)))),(b=Rn?Gn(e,n):Kn(e,n))&&(x=Dd(r,`onBeforeInput`),0<x.length&&(y=new wn(`onBeforeInput`,`beforeinput`,null,n,i),s.push({event:y,listeners:x}),y.data=b)),md(s,e,r,n,i)}yd(s,t)})}function Ed(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Dd(e,t){for(var n=t+`Capture`,r=[];e!==null;){var i=e,a=i.stateNode;if(i=i.tag,i!==5&&i!==26&&i!==27||a===null||(i=en(e,n),i!=null&&r.unshift(Ed(e,i,a)),i=en(e,t),i!=null&&r.push(Ed(e,i,a))),e.tag===3)return r;e=e.return}return[]}function Od(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function kd(e,t,n,r,i){for(var a=t._reactName,o=[];n!==null&&n!==r;){var s=n,c=s.alternate,l=s.stateNode;if(s=s.tag,c!==null&&c===r)break;s!==5&&s!==26&&s!==27||l===null||(c=l,i?(l=en(n,a),l!=null&&o.unshift(Ed(n,l,c))):i||(l=en(n,a),l!=null&&o.push(Ed(n,l,c)))),n=n.return}o.length!==0&&e.push({event:t,listeners:o})}var Ad=/\r\n?/g,jd=/\u0000|\uFFFD/g;function Md(e){return(typeof e==`string`?e:``+e).replace(Ad,`
`).replace(jd,``)}function Nd(e,t){return t=Md(t),Md(e)===t}function Pd(e,t,n,r,a,o){switch(n){case`children`:typeof r==`string`?t===`body`||t===`textarea`&&r===``||Bt(e,r):(typeof r==`number`||typeof r==`bigint`)&&t!==`body`&&Bt(e,``+r);break;case`className`:Ot(e,`class`,r);break;case`tabIndex`:Ot(e,`tabindex`,r);break;case`dir`:case`role`:case`viewBox`:case`width`:case`height`:Ot(e,n,r);break;case`style`:Ut(e,r,o);break;case`data`:if(t!==`object`){Ot(e,`data`,r);break}case`src`:case`href`:if(r===``&&(t!==`a`||n!==`href`)){e.removeAttribute(n);break}if(r==null||typeof r==`function`||typeof r==`symbol`||typeof r==`boolean`){e.removeAttribute(n);break}r=qt(``+r),e.setAttribute(n,r);break;case`action`:case`formAction`:if(typeof r==`function`){e.setAttribute(n,`javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')`);break}else typeof o==`function`&&(n===`formAction`?(t!==`input`&&Pd(e,t,`name`,a.name,a,null),Pd(e,t,`formEncType`,a.formEncType,a,null),Pd(e,t,`formMethod`,a.formMethod,a,null),Pd(e,t,`formTarget`,a.formTarget,a,null)):(Pd(e,t,`encType`,a.encType,a,null),Pd(e,t,`method`,a.method,a,null),Pd(e,t,`target`,a.target,a,null)));if(r==null||typeof r==`symbol`||typeof r==`boolean`){e.removeAttribute(n);break}r=qt(``+r),e.setAttribute(n,r);break;case`onClick`:r!=null&&(e.onclick=W);break;case`onScroll`:r!=null&&bd(`scroll`,e);break;case`onScrollEnd`:r!=null&&bd(`scrollend`,e);break;case`dangerouslySetInnerHTML`:if(r!=null){if(typeof r!=`object`||!(`__html`in r))throw Error(i(61));if(n=r.__html,n!=null){if(a.children!=null)throw Error(i(60));e.innerHTML=n}}break;case`multiple`:e.multiple=r&&typeof r!=`function`&&typeof r!=`symbol`;break;case`muted`:e.muted=r&&typeof r!=`function`&&typeof r!=`symbol`;break;case`suppressContentEditableWarning`:case`suppressHydrationWarning`:case`defaultValue`:case`defaultChecked`:case`innerHTML`:case`ref`:break;case`autoFocus`:break;case`xlinkHref`:if(r==null||typeof r==`function`||typeof r==`boolean`||typeof r==`symbol`){e.removeAttribute(`xlink:href`);break}n=qt(``+r),e.setAttributeNS(`http://www.w3.org/1999/xlink`,`xlink:href`,n);break;case`contentEditable`:case`spellCheck`:case`draggable`:case`value`:case`autoReverse`:case`externalResourcesRequired`:case`focusable`:case`preserveAlpha`:r!=null&&typeof r!=`function`&&typeof r!=`symbol`?e.setAttribute(n,``+r):e.removeAttribute(n);break;case`inert`:case`allowFullScreen`:case`async`:case`autoPlay`:case`controls`:case`default`:case`defer`:case`disabled`:case`disablePictureInPicture`:case`disableRemotePlayback`:case`formNoValidate`:case`hidden`:case`loop`:case`noModule`:case`noValidate`:case`open`:case`playsInline`:case`readOnly`:case`required`:case`reversed`:case`scoped`:case`seamless`:case`itemScope`:r&&typeof r!=`function`&&typeof r!=`symbol`?e.setAttribute(n,``):e.removeAttribute(n);break;case`capture`:case`download`:!0===r?e.setAttribute(n,``):!1!==r&&r!=null&&typeof r!=`function`&&typeof r!=`symbol`?e.setAttribute(n,r):e.removeAttribute(n);break;case`cols`:case`rows`:case`size`:case`span`:r!=null&&typeof r!=`function`&&typeof r!=`symbol`&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case`rowSpan`:case`start`:r==null||typeof r==`function`||typeof r==`symbol`||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case`popover`:bd(`beforetoggle`,e),bd(`toggle`,e),Dt(e,`popover`,r);break;case`xlinkActuate`:kt(e,`http://www.w3.org/1999/xlink`,`xlink:actuate`,r);break;case`xlinkArcrole`:kt(e,`http://www.w3.org/1999/xlink`,`xlink:arcrole`,r);break;case`xlinkRole`:kt(e,`http://www.w3.org/1999/xlink`,`xlink:role`,r);break;case`xlinkShow`:kt(e,`http://www.w3.org/1999/xlink`,`xlink:show`,r);break;case`xlinkTitle`:kt(e,`http://www.w3.org/1999/xlink`,`xlink:title`,r);break;case`xlinkType`:kt(e,`http://www.w3.org/1999/xlink`,`xlink:type`,r);break;case`xmlBase`:kt(e,`http://www.w3.org/XML/1998/namespace`,`xml:base`,r);break;case`xmlLang`:kt(e,`http://www.w3.org/XML/1998/namespace`,`xml:lang`,r);break;case`xmlSpace`:kt(e,`http://www.w3.org/XML/1998/namespace`,`xml:space`,r);break;case`is`:Dt(e,`is`,r);break;case`innerText`:case`textContent`:break;default:(!(2<n.length)||n[0]!==`o`&&n[0]!==`O`||n[1]!==`n`&&n[1]!==`N`)&&(n=Gt.get(n)||n,Dt(e,n,r))}}function Fd(e,t,n,r,a,o){switch(n){case`style`:Ut(e,r,o);break;case`dangerouslySetInnerHTML`:if(r!=null){if(typeof r!=`object`||!(`__html`in r))throw Error(i(61));if(n=r.__html,n!=null){if(a.children!=null)throw Error(i(60));e.innerHTML=n}}break;case`children`:typeof r==`string`?Bt(e,r):(typeof r==`number`||typeof r==`bigint`)&&Bt(e,``+r);break;case`onScroll`:r!=null&&bd(`scroll`,e);break;case`onScrollEnd`:r!=null&&bd(`scrollend`,e);break;case`onClick`:r!=null&&(e.onclick=W);break;case`suppressContentEditableWarning`:case`suppressHydrationWarning`:case`innerHTML`:case`ref`:break;case`innerText`:case`textContent`:break;default:if(!bt.hasOwnProperty(n))a:{if(n[0]===`o`&&n[1]===`n`&&(a=n.endsWith(`Capture`),t=n.slice(2,a?n.length-7:void 0),o=e[ct]||null,o=o==null?null:o[n],typeof o==`function`&&e.removeEventListener(t,o,a),typeof r==`function`)){typeof o!=`function`&&o!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,a);break a}n in e?e[n]=r:!0===r?e.setAttribute(n,``):Dt(e,n,r)}}}function Id(e,t,n){switch(t){case`div`:case`span`:case`svg`:case`path`:case`a`:case`g`:case`p`:case`li`:break;case`img`:bd(`error`,e),bd(`load`,e);var r=!1,a=!1,o;for(o in n)if(n.hasOwnProperty(o)){var s=n[o];if(s!=null)switch(o){case`src`:r=!0;break;case`srcSet`:a=!0;break;case`children`:case`dangerouslySetInnerHTML`:throw Error(i(137,t));default:Pd(e,t,o,s,n,null)}}a&&Pd(e,t,`srcSet`,n.srcSet,n,null),r&&Pd(e,t,`src`,n.src,n,null);return;case`input`:bd(`invalid`,e);var c=o=s=a=null,l=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var d=n[r];if(d!=null)switch(r){case`name`:a=d;break;case`type`:s=d;break;case`checked`:l=d;break;case`defaultChecked`:u=d;break;case`value`:o=d;break;case`defaultValue`:c=d;break;case`children`:case`dangerouslySetInnerHTML`:if(d!=null)throw Error(i(137,t));break;default:Pd(e,t,r,d,n,null)}}It(e,o,c,l,u,s,a,!1);return;case`select`:for(a in bd(`invalid`,e),r=s=o=null,n)if(n.hasOwnProperty(a)&&(c=n[a],c!=null))switch(a){case`value`:o=c;break;case`defaultValue`:s=c;break;case`multiple`:r=c;default:Pd(e,t,a,c,n,null)}t=o,n=s,e.multiple=!!r,t==null?n!=null&&U(e,!!r,n,!0):U(e,!!r,t,!1);return;case`textarea`:for(s in bd(`invalid`,e),o=a=r=null,n)if(n.hasOwnProperty(s)&&(c=n[s],c!=null))switch(s){case`value`:r=c;break;case`defaultValue`:a=c;break;case`children`:o=c;break;case`dangerouslySetInnerHTML`:if(c!=null)throw Error(i(91));break;default:Pd(e,t,s,c,n,null)}zt(e,r,a,o);return;case`option`:for(l in n)if(n.hasOwnProperty(l)&&(r=n[l],r!=null))switch(l){case`selected`:e.selected=r&&typeof r!=`function`&&typeof r!=`symbol`;break;default:Pd(e,t,l,r,n,null)}return;case`dialog`:bd(`beforetoggle`,e),bd(`toggle`,e),bd(`cancel`,e),bd(`close`,e);break;case`iframe`:case`object`:bd(`load`,e);break;case`video`:case`audio`:for(r=0;r<_d.length;r++)bd(_d[r],e);break;case`image`:bd(`error`,e),bd(`load`,e);break;case`details`:bd(`toggle`,e);break;case`embed`:case`source`:case`link`:bd(`error`,e),bd(`load`,e);case`area`:case`base`:case`br`:case`col`:case`hr`:case`keygen`:case`meta`:case`param`:case`track`:case`wbr`:case`menuitem`:for(u in n)if(n.hasOwnProperty(u)&&(r=n[u],r!=null))switch(u){case`children`:case`dangerouslySetInnerHTML`:throw Error(i(137,t));default:Pd(e,t,u,r,n,null)}return;default:if(Wt(t)){for(d in n)n.hasOwnProperty(d)&&(r=n[d],r!==void 0&&Fd(e,t,d,r,n,void 0));return}}for(c in n)n.hasOwnProperty(c)&&(r=n[c],r!=null&&Pd(e,t,c,r,n,null))}function Ld(e,t,n,r){switch(t){case`div`:case`span`:case`svg`:case`path`:case`a`:case`g`:case`p`:case`li`:break;case`input`:var a=null,o=null,s=null,c=null,l=null,u=null,d=null;for(m in n){var f=n[m];if(n.hasOwnProperty(m)&&f!=null)switch(m){case`checked`:break;case`value`:break;case`defaultValue`:l=f;default:r.hasOwnProperty(m)||Pd(e,t,m,null,r,f)}}for(var p in r){var m=r[p];if(f=n[p],r.hasOwnProperty(p)&&(m!=null||f!=null))switch(p){case`type`:o=m;break;case`name`:a=m;break;case`checked`:u=m;break;case`defaultChecked`:d=m;break;case`value`:s=m;break;case`defaultValue`:c=m;break;case`children`:case`dangerouslySetInnerHTML`:if(m!=null)throw Error(i(137,t));break;default:m!==f&&Pd(e,t,p,m,r,f)}}Ft(e,s,c,l,u,d,o,a);return;case`select`:for(o in m=s=c=p=null,n)if(l=n[o],n.hasOwnProperty(o)&&l!=null)switch(o){case`value`:break;case`multiple`:m=l;default:r.hasOwnProperty(o)||Pd(e,t,o,null,r,l)}for(a in r)if(o=r[a],l=n[a],r.hasOwnProperty(a)&&(o!=null||l!=null))switch(a){case`value`:p=o;break;case`defaultValue`:c=o;break;case`multiple`:s=o;default:o!==l&&Pd(e,t,a,o,r,l)}t=c,n=s,r=m,p==null?!!r!=!!n&&(t==null?U(e,!!n,n?[]:``,!1):U(e,!!n,t,!0)):U(e,!!n,p,!1);return;case`textarea`:for(c in m=p=null,n)if(a=n[c],n.hasOwnProperty(c)&&a!=null&&!r.hasOwnProperty(c))switch(c){case`value`:break;case`children`:break;default:Pd(e,t,c,null,r,a)}for(s in r)if(a=r[s],o=n[s],r.hasOwnProperty(s)&&(a!=null||o!=null))switch(s){case`value`:p=a;break;case`defaultValue`:m=a;break;case`children`:break;case`dangerouslySetInnerHTML`:if(a!=null)throw Error(i(91));break;default:a!==o&&Pd(e,t,s,a,r,o)}Rt(e,p,m);return;case`option`:for(var h in n)if(p=n[h],n.hasOwnProperty(h)&&p!=null&&!r.hasOwnProperty(h))switch(h){case`selected`:e.selected=!1;break;default:Pd(e,t,h,null,r,p)}for(l in r)if(p=r[l],m=n[l],r.hasOwnProperty(l)&&p!==m&&(p!=null||m!=null))switch(l){case`selected`:e.selected=p&&typeof p!=`function`&&typeof p!=`symbol`;break;default:Pd(e,t,l,p,r,m)}return;case`img`:case`link`:case`area`:case`base`:case`br`:case`col`:case`embed`:case`hr`:case`keygen`:case`meta`:case`param`:case`source`:case`track`:case`wbr`:case`menuitem`:for(var g in n)p=n[g],n.hasOwnProperty(g)&&p!=null&&!r.hasOwnProperty(g)&&Pd(e,t,g,null,r,p);for(u in r)if(p=r[u],m=n[u],r.hasOwnProperty(u)&&p!==m&&(p!=null||m!=null))switch(u){case`children`:case`dangerouslySetInnerHTML`:if(p!=null)throw Error(i(137,t));break;default:Pd(e,t,u,p,r,m)}return;default:if(Wt(t)){for(var _ in n)p=n[_],n.hasOwnProperty(_)&&p!==void 0&&!r.hasOwnProperty(_)&&Fd(e,t,_,void 0,r,p);for(d in r)p=r[d],m=n[d],!r.hasOwnProperty(d)||p===m||p===void 0&&m===void 0||Fd(e,t,d,p,r,m);return}}for(var v in n)p=n[v],n.hasOwnProperty(v)&&p!=null&&!r.hasOwnProperty(v)&&Pd(e,t,v,null,r,p);for(f in r)p=r[f],m=n[f],!r.hasOwnProperty(f)||p===m||p==null&&m==null||Pd(e,t,f,p,r,m)}function Rd(e){switch(e){case`css`:case`script`:case`font`:case`img`:case`image`:case`input`:case`link`:return!0;default:return!1}}function zd(){if(typeof performance.getEntriesByType==`function`){for(var e=0,t=0,n=performance.getEntriesByType(`resource`),r=0;r<n.length;r++){var i=n[r],a=i.transferSize,o=i.initiatorType,s=i.duration;if(a&&s&&Rd(o)){for(o=0,s=i.responseEnd,r+=1;r<n.length;r++){var c=n[r],l=c.startTime;if(l>s)break;var u=c.transferSize,d=c.initiatorType;u&&Rd(d)&&(c=c.responseEnd,o+=u*(c<s?1:(s-l)/(c-l)))}if(--r,t+=8*(a+o)/(i.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e==`number`)?e:5}var Bd=null,Vd=null;function Hd(e){return e.nodeType===9?e:e.ownerDocument}function Ud(e){switch(e){case`http://www.w3.org/2000/svg`:return 1;case`http://www.w3.org/1998/Math/MathML`:return 2;default:return 0}}function Wd(e,t){if(e===0)switch(t){case`svg`:return 1;case`math`:return 2;default:return 0}return e===1&&t===`foreignObject`?0:e}function Gd(e,t){return e===`textarea`||e===`noscript`||typeof t.children==`string`||typeof t.children==`number`||typeof t.children==`bigint`||typeof t.dangerouslySetInnerHTML==`object`&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Kd=null;function qd(){var e=window.event;return e&&e.type===`popstate`?e===Kd?!1:(Kd=e,!0):(Kd=null,!1)}var Q=typeof setTimeout==`function`?setTimeout:void 0,Jd=typeof clearTimeout==`function`?clearTimeout:void 0,Yd=typeof Promise==`function`?Promise:void 0,Xd=typeof queueMicrotask==`function`?queueMicrotask:Yd===void 0?Q:function(e){return Yd.resolve(null).then(e).catch(Zd)};function Zd(e){setTimeout(function(){throw e})}function Qd(e){return e===`head`}function $d(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n===`/$`||n===`/&`){if(r===0){e.removeChild(i),Np(t);return}r--}else if(n===`$`||n===`$?`||n===`$~`||n===`$!`||n===`&`)r++;else if(n===`html`)mf(e.ownerDocument.documentElement);else if(n===`head`){n=e.ownerDocument.head,mf(n);for(var a=n.firstChild;a;){var o=a.nextSibling,s=a.nodeName;a[mt]||s===`SCRIPT`||s===`STYLE`||s===`LINK`&&a.rel.toLowerCase()===`stylesheet`||n.removeChild(a),a=o}}else n===`body`&&mf(e.ownerDocument.body);n=i}while(n);Np(t)}function ef(e,t){var n=e;e=0;do{var r=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display=`none`):(n.style.display=n._stashedDisplay||``,n.getAttribute(`style`)===``&&n.removeAttribute(`style`)):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=``):n.nodeValue=n._stashedText||``),r&&r.nodeType===8)if(n=r.data,n===`/$`){if(e===0)break;e--}else n!==`$`&&n!==`$?`&&n!==`$~`&&n!==`$!`||e++;n=r}while(n)}function tf(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case`HTML`:case`HEAD`:case`BODY`:tf(n),R(n);continue;case`SCRIPT`:case`STYLE`:continue;case`LINK`:if(n.rel.toLowerCase()===`stylesheet`)continue}e.removeChild(n)}}function nf(e,t,n,r){for(;e.nodeType===1;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!==`INPUT`||e.type!==`hidden`))break}else if(r){if(!e[mt])switch(t){case`meta`:if(!e.hasAttribute(`itemprop`))break;return e;case`link`:if(a=e.getAttribute(`rel`),a===`stylesheet`&&e.hasAttribute(`data-precedence`)||a!==i.rel||e.getAttribute(`href`)!==(i.href==null||i.href===``?null:i.href)||e.getAttribute(`crossorigin`)!==(i.crossOrigin==null?null:i.crossOrigin)||e.getAttribute(`title`)!==(i.title==null?null:i.title))break;return e;case`style`:if(e.hasAttribute(`data-precedence`))break;return e;case`script`:if(a=e.getAttribute(`src`),(a!==(i.src==null?null:i.src)||e.getAttribute(`type`)!==(i.type==null?null:i.type)||e.getAttribute(`crossorigin`)!==(i.crossOrigin==null?null:i.crossOrigin))&&a&&e.hasAttribute(`async`)&&!e.hasAttribute(`itemprop`))break;return e;default:return e}}else if(t===`input`&&e.type===`hidden`){var a=i.name==null?null:``+i.name;if(i.type===`hidden`&&e.getAttribute(`name`)===a)return e}else return e;if(e=lf(e.nextSibling),e===null)break}return null}function rf(e,t,n){if(t===``)return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!==`INPUT`||e.type!==`hidden`)&&!n||(e=lf(e.nextSibling),e===null))return null;return e}function af(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!==`INPUT`||e.type!==`hidden`)&&!t||(e=lf(e.nextSibling),e===null))return null;return e}function of(e){return e.data===`$?`||e.data===`$~`}function sf(e){return e.data===`$!`||e.data===`$?`&&e.ownerDocument.readyState!==`loading`}function cf(e,t){var n=e.ownerDocument;if(e.data===`$~`)e._reactRetry=t;else if(e.data!==`$?`||n.readyState!==`loading`)t();else{var r=function(){t(),n.removeEventListener(`DOMContentLoaded`,r)};n.addEventListener(`DOMContentLoaded`,r),e._reactRetry=r}}function lf(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t===`$`||t===`$!`||t===`$?`||t===`$~`||t===`&`||t===`F!`||t===`F`)break;if(t===`/$`||t===`/&`)return null}}return e}var uf=null;function df(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n===`/$`||n===`/&`){if(t===0)return lf(e.nextSibling);t--}else n!==`$`&&n!==`$!`&&n!==`$?`&&n!==`$~`&&n!==`&`||t++}e=e.nextSibling}return null}function ff(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n===`$`||n===`$!`||n===`$?`||n===`$~`||n===`&`){if(t===0)return e;t--}else n!==`/$`&&n!==`/&`||t++}e=e.previousSibling}return null}function pf(e,t,n){switch(t=Hd(n),e){case`html`:if(e=t.documentElement,!e)throw Error(i(452));return e;case`head`:if(e=t.head,!e)throw Error(i(453));return e;case`body`:if(e=t.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function mf(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);R(e)}var hf=new Map,gf=new Set;function _f(e){return typeof e.getRootNode==`function`?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var vf=M.d;M.d={f:yf,r:bf,D:Cf,C:wf,L:Tf,m:Ef,X:Of,S:Df,M:kf};function yf(){var e=vf.f(),t=yu();return e||t}function bf(e){var t=gt(e);t!==null&&t.tag===5&&t.type===`form`?ys(t):vf.r(e)}var xf=typeof document>`u`?null:document;function Sf(e,t,n){var r=xf;if(r&&typeof t==`string`&&t){var i=Pt(t);i=`link[rel="`+e+`"][href="`+i+`"]`,typeof n==`string`&&(i+=`[crossorigin="`+n+`"]`),gf.has(i)||(gf.add(i),e={rel:e,crossOrigin:n,href:t},r.querySelector(i)===null&&(t=r.createElement(`link`),Id(t,`link`,e),z(t),r.head.appendChild(t)))}}function Cf(e){vf.D(e),Sf(`dns-prefetch`,e,null)}function wf(e,t){vf.C(e,t),Sf(`preconnect`,e,t)}function Tf(e,t,n){vf.L(e,t,n);var r=xf;if(r&&e&&t){var i=`link[rel="preload"][as="`+Pt(t)+`"]`;t===`image`&&n&&n.imageSrcSet?(i+=`[imagesrcset="`+Pt(n.imageSrcSet)+`"]`,typeof n.imageSizes==`string`&&(i+=`[imagesizes="`+Pt(n.imageSizes)+`"]`)):i+=`[href="`+Pt(e)+`"]`;var a=i;switch(t){case`style`:a=jf(e);break;case`script`:a=Ff(e)}hf.has(a)||(e=h({rel:`preload`,href:t===`image`&&n&&n.imageSrcSet?void 0:e,as:t},n),hf.set(a,e),r.querySelector(i)!==null||t===`style`&&r.querySelector(Mf(a))||t===`script`&&r.querySelector(If(a))||(t=r.createElement(`link`),Id(t,`link`,e),z(t),r.head.appendChild(t)))}}function Ef(e,t){vf.m(e,t);var n=xf;if(n&&e){var r=t&&typeof t.as==`string`?t.as:`script`,i=`link[rel="modulepreload"][as="`+Pt(r)+`"][href="`+Pt(e)+`"]`,a=i;switch(r){case`audioworklet`:case`paintworklet`:case`serviceworker`:case`sharedworker`:case`worker`:case`script`:a=Ff(e)}if(!hf.has(a)&&(e=h({rel:`modulepreload`,href:e},t),hf.set(a,e),n.querySelector(i)===null)){switch(r){case`audioworklet`:case`paintworklet`:case`serviceworker`:case`sharedworker`:case`worker`:case`script`:if(n.querySelector(If(a)))return}r=n.createElement(`link`),Id(r,`link`,e),z(r),n.head.appendChild(r)}}}function Df(e,t,n){vf.S(e,t,n);var r=xf;if(r&&e){var i=vt(r).hoistableStyles,a=jf(e);t||=`default`;var o=i.get(a);if(!o){var s={loading:0,preload:null};if(o=r.querySelector(Mf(a)))s.loading=5;else{e=h({rel:`stylesheet`,href:e,"data-precedence":t},n),(n=hf.get(a))&&zf(e,n);var c=o=r.createElement(`link`);z(c),Id(c,`link`,e),c._p=new Promise(function(e,t){c.onload=e,c.onerror=t}),c.addEventListener(`load`,function(){s.loading|=1}),c.addEventListener(`error`,function(){s.loading|=2}),s.loading|=4,Rf(o,t,r)}o={type:`stylesheet`,instance:o,count:1,state:s},i.set(a,o)}}}function Of(e,t){vf.X(e,t);var n=xf;if(n&&e){var r=vt(n).hoistableScripts,i=Ff(e),a=r.get(i);a||(a=n.querySelector(If(i)),a||(e=h({src:e,async:!0},t),(t=hf.get(i))&&Bf(e,t),a=n.createElement(`script`),z(a),Id(a,`link`,e),n.head.appendChild(a)),a={type:`script`,instance:a,count:1,state:null},r.set(i,a))}}function kf(e,t){vf.M(e,t);var n=xf;if(n&&e){var r=vt(n).hoistableScripts,i=Ff(e),a=r.get(i);a||(a=n.querySelector(If(i)),a||(e=h({src:e,async:!0,type:`module`},t),(t=hf.get(i))&&Bf(e,t),a=n.createElement(`script`),z(a),Id(a,`link`,e),n.head.appendChild(a)),a={type:`script`,instance:a,count:1,state:null},r.set(i,a))}}function Af(e,t,n,r){var a=(a=fe.current)?_f(a):null;if(!a)throw Error(i(446));switch(e){case`meta`:case`title`:return null;case`style`:return typeof n.precedence==`string`&&typeof n.href==`string`?(t=jf(n.href),n=vt(a).hoistableStyles,r=n.get(t),r||(r={type:`style`,instance:null,count:0,state:null},n.set(t,r)),r):{type:`void`,instance:null,count:0,state:null};case`link`:if(n.rel===`stylesheet`&&typeof n.href==`string`&&typeof n.precedence==`string`){e=jf(n.href);var o=vt(a).hoistableStyles,s=o.get(e);if(s||(a=a.ownerDocument||a,s={type:`stylesheet`,instance:null,count:0,state:{loading:0,preload:null}},o.set(e,s),(o=a.querySelector(Mf(e)))&&!o._p&&(s.instance=o,s.state.loading=5),hf.has(e)||(n={rel:`preload`,as:`style`,href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},hf.set(e,n),o||Pf(a,e,n,s.state))),t&&r===null)throw Error(i(528,``));return s}if(t&&r!==null)throw Error(i(529,``));return null;case`script`:return t=n.async,n=n.src,typeof n==`string`&&t&&typeof t!=`function`&&typeof t!=`symbol`?(t=Ff(n),n=vt(a).hoistableScripts,r=n.get(t),r||(r={type:`script`,instance:null,count:0,state:null},n.set(t,r)),r):{type:`void`,instance:null,count:0,state:null};default:throw Error(i(444,e))}}function jf(e){return`href="`+Pt(e)+`"`}function Mf(e){return`link[rel="stylesheet"][`+e+`]`}function Nf(e){return h({},e,{"data-precedence":e.precedence,precedence:null})}function Pf(e,t,n,r){e.querySelector(`link[rel="preload"][as="style"][`+t+`]`)?r.loading=1:(t=e.createElement(`link`),r.preload=t,t.addEventListener(`load`,function(){return r.loading|=1}),t.addEventListener(`error`,function(){return r.loading|=2}),Id(t,`link`,n),z(t),e.head.appendChild(t))}function Ff(e){return`[src="`+Pt(e)+`"]`}function If(e){return`script[async]`+e}function Lf(e,t,n){if(t.count++,t.instance===null)switch(t.type){case`style`:var r=e.querySelector(`style[data-href~="`+Pt(n.href)+`"]`);if(r)return t.instance=r,z(r),r;var a=h({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement(`style`),z(r),Id(r,`style`,a),Rf(r,n.precedence,e),t.instance=r;case`stylesheet`:a=jf(n.href);var o=e.querySelector(Mf(a));if(o)return t.state.loading|=4,t.instance=o,z(o),o;r=Nf(n),(a=hf.get(a))&&zf(r,a),o=(e.ownerDocument||e).createElement(`link`),z(o);var s=o;return s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),Id(o,`link`,r),t.state.loading|=4,Rf(o,n.precedence,e),t.instance=o;case`script`:return o=Ff(n.src),(a=e.querySelector(If(o)))?(t.instance=a,z(a),a):(r=n,(a=hf.get(o))&&(r=h({},n),Bf(r,a)),e=e.ownerDocument||e,a=e.createElement(`script`),z(a),Id(a,`link`,r),e.head.appendChild(a),t.instance=a);case`void`:return null;default:throw Error(i(443,t.type))}else t.type===`stylesheet`&&!(t.state.loading&4)&&(r=t.instance,t.state.loading|=4,Rf(r,n.precedence,e));return t.instance}function Rf(e,t,n){for(var r=n.querySelectorAll(`link[rel="stylesheet"][data-precedence],style[data-precedence]`),i=r.length?r[r.length-1]:null,a=i,o=0;o<r.length;o++){var s=r[o];if(s.dataset.precedence===t)a=s;else if(a!==i)break}a?a.parentNode.insertBefore(e,a.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function zf(e,t){e.crossOrigin??=t.crossOrigin,e.referrerPolicy??=t.referrerPolicy,e.title??=t.title}function Bf(e,t){e.crossOrigin??=t.crossOrigin,e.referrerPolicy??=t.referrerPolicy,e.integrity??=t.integrity}var Vf=null;function Hf(e,t,n){if(Vf===null){var r=new Map,i=Vf=new Map;i.set(n,r)}else i=Vf,r=i.get(n),r||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var a=n[i];if(!(a[mt]||a[st]||e===`link`&&a.getAttribute(`rel`)===`stylesheet`)&&a.namespaceURI!==`http://www.w3.org/2000/svg`){var o=a.getAttribute(t)||``;o=e+o;var s=r.get(o);s?s.push(a):r.set(o,[a])}}return r}function Uf(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t===`title`?e.querySelector(`head > title`):null)}function Wf(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case`meta`:case`title`:return!0;case`style`:if(typeof t.precedence!=`string`||typeof t.href!=`string`||t.href===``)break;return!0;case`link`:if(typeof t.rel!=`string`||typeof t.href!=`string`||t.href===``||t.onLoad||t.onError)break;switch(t.rel){case`stylesheet`:return e=t.disabled,typeof t.precedence==`string`&&e==null;default:return!0}case`script`:if(t.async&&typeof t.async!=`function`&&typeof t.async!=`symbol`&&!t.onLoad&&!t.onError&&t.src&&typeof t.src==`string`)return!0}return!1}function Gf(e){return!(e.type===`stylesheet`&&!(e.state.loading&3))}function Kf(e,t,n,r){if(n.type===`stylesheet`&&(typeof r.media!=`string`||!1!==matchMedia(r.media).matches)&&!(n.state.loading&4)){if(n.instance===null){var i=jf(r.href),a=t.querySelector(Mf(i));if(a){t=a._p,typeof t==`object`&&t&&typeof t.then==`function`&&(e.count++,e=Yf.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=a,z(a);return}a=t.ownerDocument||t,r=Nf(r),(i=hf.get(i))&&zf(r,i),a=a.createElement(`link`),z(a);var o=a;o._p=new Promise(function(e,t){o.onload=e,o.onerror=t}),Id(a,`link`,r),n.instance=a}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&!(n.state.loading&3)&&(e.count++,n=Yf.bind(e),t.addEventListener(`load`,n),t.addEventListener(`error`,n))}}var qf=0;function Jf(e,t){return e.stylesheets&&e.count===0&&Zf(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var r=setTimeout(function(){if(e.stylesheets&&Zf(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4+t);0<e.imgBytes&&qf===0&&(qf=62500*zd());var i=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Zf(e,e.stylesheets),e.unsuspend)){var t=e.unsuspend;e.unsuspend=null,t()}},(e.imgBytes>qf?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(i)}}:null}function Yf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Zf(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Xf=null;function Zf(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Xf=new Map,t.forEach(Qf,e),Xf=null,Yf.call(e))}function Qf(e,t){if(!(t.state.loading&4)){var n=Xf.get(e);if(n)var r=n.get(null);else{n=new Map,Xf.set(e,n);for(var i=e.querySelectorAll(`link[data-precedence],style[data-precedence]`),a=0;a<i.length;a++){var o=i[a];(o.nodeName===`LINK`||o.getAttribute(`media`)!==`not all`)&&(n.set(o.dataset.precedence,o),r=o)}r&&n.set(null,r)}i=t.instance,o=i.getAttribute(`data-precedence`),a=n.get(o)||r,a===r&&n.set(null,i),n.set(o,i),this.count++,r=Yf.bind(this),i.addEventListener(`load`,r),i.addEventListener(`error`,r),a?a.parentNode.insertBefore(i,a.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(i,e.firstChild)),t.state.loading|=4}}var $f={$$typeof:C,Provider:null,Consumer:null,_currentValue:ae,_currentValue2:ae,_threadCount:0};function ep(e,t,n,r,i,a,o,s,c){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ze(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ze(0),this.hiddenUpdates=Ze(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=a,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=c,this.incompleteTransitions=new Map}function tp(e,t,n,r,i,a,o,s,c,l,u,d){return e=new ep(e,t,n,o,c,l,u,d,s),t=1,!0===a&&(t|=24),a=Qr(3,null,null,t),e.current=a,a.stateNode=e,t=$i(),t.refCount++,e.pooledCache=t,t.refCount++,a.memoizedState={element:r,isDehydrated:n,cache:t},Ma(a),e}function np(e){return e?(e=Xr,e):Xr}function rp(e,t,n,r,i,a){i=np(i),r.context===null?r.context=i:r.pendingContext=i,r=Pa(t),r.payload={element:n},a=a===void 0?null:a,a!==null&&(r.callback=a),n=Fa(e,r,t),n!==null&&(mu(n,e,t),Ia(n,e,t))}function ip(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function ap(e,t){ip(e,t),(e=e.alternate)&&ip(e,t)}function op(e){if(e.tag===13||e.tag===31){var t=qr(e,67108864);t!==null&&mu(t,e,67108864),ap(e,67108864)}}function sp(e){if(e.tag===13||e.tag===31){var t=fu();t=nt(t);var n=qr(e,t);n!==null&&mu(n,e,t),ap(e,t)}}var cp=!0;function lp(e,t,n,r){var i=j.T;j.T=null;var a=M.p;try{M.p=2,dp(e,t,n,r)}finally{M.p=a,j.T=i}}function up(e,t,n,r){var i=j.T;j.T=null;var a=M.p;try{M.p=8,dp(e,t,n,r)}finally{M.p=a,j.T=i}}function dp(e,t,n,r){if(cp){var i=fp(r);if(i===null)Td(e,t,r,pp,n),Cp(e,r);else if(Tp(i,e,t,n,r))r.stopPropagation();else if(Cp(e,r),t&4&&-1<Sp.indexOf(e)){for(;i!==null;){var a=gt(i);if(a!==null)switch(a.tag){case 3:if(a=a.stateNode,a.current.memoizedState.isDehydrated){var o=Ke(a.pendingLanes);if(o!==0){var s=a;for(s.pendingLanes|=2,s.entangledLanes|=2;o;){var c=1<<31-ze(o);s.entanglements[1]|=c,o&=~c}rd(a),!(Nl&6)&&(eu=ke()+500,id(0,!1))}}break;case 31:case 13:s=qr(a,2),s!==null&&mu(s,a,2),yu(),ap(a,2)}if(a=fp(r),a===null&&Td(e,t,r,pp,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else Td(e,t,r,null,n)}}function fp(e){return e=G(e),mp(e)}var pp=null;function mp(e){if(pp=null,e=ht(e),e!==null){var t=o(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=s(t),e!==null)return e;e=null}else if(n===31){if(e=c(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return pp=e,null}function $(e){switch(e){case`beforetoggle`:case`cancel`:case`click`:case`close`:case`contextmenu`:case`copy`:case`cut`:case`auxclick`:case`dblclick`:case`dragend`:case`dragstart`:case`drop`:case`focusin`:case`focusout`:case`input`:case`invalid`:case`keydown`:case`keypress`:case`keyup`:case`mousedown`:case`mouseup`:case`paste`:case`pause`:case`play`:case`pointercancel`:case`pointerdown`:case`pointerup`:case`ratechange`:case`reset`:case`resize`:case`seeked`:case`submit`:case`toggle`:case`touchcancel`:case`touchend`:case`touchstart`:case`volumechange`:case`change`:case`selectionchange`:case`textInput`:case`compositionstart`:case`compositionend`:case`compositionupdate`:case`beforeblur`:case`afterblur`:case`beforeinput`:case`blur`:case`fullscreenchange`:case`focus`:case`hashchange`:case`popstate`:case`select`:case`selectstart`:return 2;case`drag`:case`dragenter`:case`dragexit`:case`dragleave`:case`dragover`:case`mousemove`:case`mouseout`:case`mouseover`:case`pointermove`:case`pointerout`:case`pointerover`:case`scroll`:case`touchmove`:case`wheel`:case`mouseenter`:case`mouseleave`:case`pointerenter`:case`pointerleave`:return 8;case`message`:switch(Ae()){case je:return 2;case Me:return 8;case F:case Ne:return 32;case Pe:return 268435456;default:return 32}default:return 32}}var hp=!1,gp=null,_p=null,vp=null,yp=new Map,bp=new Map,xp=[],Sp=`mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset`.split(` `);function Cp(e,t){switch(e){case`focusin`:case`focusout`:gp=null;break;case`dragenter`:case`dragleave`:_p=null;break;case`mouseover`:case`mouseout`:vp=null;break;case`pointerover`:case`pointerout`:yp.delete(t.pointerId);break;case`gotpointercapture`:case`lostpointercapture`:bp.delete(t.pointerId)}}function wp(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=gt(t),t!==null&&op(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function Tp(e,t,n,r,i){switch(t){case`focusin`:return gp=wp(gp,e,t,n,r,i),!0;case`dragenter`:return _p=wp(_p,e,t,n,r,i),!0;case`mouseover`:return vp=wp(vp,e,t,n,r,i),!0;case`pointerover`:var a=i.pointerId;return yp.set(a,wp(yp.get(a)||null,e,t,n,r,i)),!0;case`gotpointercapture`:return a=i.pointerId,bp.set(a,wp(bp.get(a)||null,e,t,n,r,i)),!0}return!1}function Ep(e){var t=ht(e.target);if(t!==null){var n=o(t);if(n!==null){if(t=n.tag,t===13){if(t=s(n),t!==null){e.blockedOn=t,at(e.priority,function(){sp(n)});return}}else if(t===31){if(t=c(n),t!==null){e.blockedOn=t,at(e.priority,function(){sp(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Dp(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=fp(e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Jt=r,n.target.dispatchEvent(r),Jt=null}else return t=gt(n),t!==null&&op(t),e.blockedOn=n,!1;t.shift()}return!0}function Op(e,t,n){Dp(e)&&n.delete(t)}function kp(){hp=!1,gp!==null&&Dp(gp)&&(gp=null),_p!==null&&Dp(_p)&&(_p=null),vp!==null&&Dp(vp)&&(vp=null),yp.forEach(Op),bp.forEach(Op)}function Ap(e,n){e.blockedOn===n&&(e.blockedOn=null,hp||(hp=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,kp)))}var jp=null;function Mp(e){jp!==e&&(jp=e,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){jp===e&&(jp=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if(typeof r!=`function`){if(mp(r||n)===null)continue;break}var a=gt(n);a!==null&&(e.splice(t,3),t-=3,_s(a,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Np(e){function t(t){return Ap(t,e)}gp!==null&&Ap(gp,e),_p!==null&&Ap(_p,e),vp!==null&&Ap(vp,e),yp.forEach(t),bp.forEach(t);for(var n=0;n<xp.length;n++){var r=xp[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<xp.length&&(n=xp[0],n.blockedOn===null);)Ep(n),n.blockedOn===null&&xp.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(r=0;r<n.length;r+=3){var i=n[r],a=n[r+1],o=i[ct]||null;if(typeof a==`function`)o||Mp(n);else if(o){var s=null;if(a&&a.hasAttribute(`formAction`)){if(i=a,o=a[ct]||null)s=o.formAction;else if(mp(i)!==null)continue}else s=o.action;typeof s==`function`?n[r+1]=s:(n.splice(r,3),r-=3),Mp(n)}}}function Pp(){function e(e){e.canIntercept&&e.info===`react-transition`&&e.intercept({handler:function(){return new Promise(function(e){return i=e})},focusReset:`manual`,scroll:`manual`})}function t(){i!==null&&(i(),i=null),r||setTimeout(n,20)}function n(){if(!r&&!navigation.transition){var e=navigation.currentEntry;e&&e.url!=null&&navigation.navigate(e.url,{state:e.getState(),info:`react-transition`,history:`replace`})}}if(typeof navigation==`object`){var r=!1,i=null;return navigation.addEventListener(`navigate`,e),navigation.addEventListener(`navigatesuccess`,t),navigation.addEventListener(`navigateerror`,t),setTimeout(n,100),function(){r=!0,navigation.removeEventListener(`navigate`,e),navigation.removeEventListener(`navigatesuccess`,t),navigation.removeEventListener(`navigateerror`,t),i!==null&&(i(),i=null)}}}function Fp(e){this._internalRoot=e}Ip.prototype.render=Fp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));var n=t.current;rp(n,fu(),e,t,null,null)},Ip.prototype.unmount=Fp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;rp(e.current,2,null,e,null,null),yu(),t[lt]=null}};function Ip(e){this._internalRoot=e}Ip.prototype.unstable_scheduleHydration=function(e){if(e){var t=it();e={blockedOn:null,target:e,priority:t};for(var n=0;n<xp.length&&t!==0&&t<xp[n].priority;n++);xp.splice(n,0,e),n===0&&Ep(e)}};var Lp=n.version;if(Lp!==`19.2.4`)throw Error(i(527,Lp,`19.2.4`));M.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render==`function`?Error(i(188)):(e=Object.keys(e).join(`,`),Error(i(268,e)));return e=d(t),e=e===null?null:p(e),e=e===null?null:e.stateNode,e};var Rp={bundleType:0,version:`19.2.4`,rendererPackageName:`react-dom`,currentDispatcherRef:j,reconcilerVersion:`19.2.4`};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<`u`){var zp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zp.isDisabled&&zp.supportsFiber)try{Le=zp.inject(Rp),Re=zp}catch{}}e.createRoot=function(e,t){if(!a(e))throw Error(i(299));var n=!1,r=``,o=Bs,s=Vs,c=Hs;return t!=null&&(!0===t.unstable_strictMode&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(c=t.onRecoverableError)),t=tp(e,1,!1,null,null,n,r,null,o,s,c,Pp),e[lt]=t.current,Cd(e),new Fp(t)}})),g=o(((e,t)=>{function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>`u`||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!=`function`))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}n(),t.exports=h()})),_=`modulepreload`,v=function(e){return`/EcobrickWeb/`+e},y={};const b=function(e,t,n){let r=Promise.resolve();if(t&&t.length>0){let e=document.getElementsByTagName(`link`),i=document.querySelector(`meta[property=csp-nonce]`),a=i?.nonce||i?.getAttribute(`nonce`);function o(e){return Promise.all(e.map(e=>Promise.resolve(e).then(e=>({status:`fulfilled`,value:e}),e=>({status:`rejected`,reason:e}))))}r=o(t.map(t=>{if(t=v(t,n),t in y)return;y[t]=!0;let r=t.endsWith(`.css`),i=r?`[rel="stylesheet"]`:``;if(n)for(let n=e.length-1;n>=0;n--){let i=e[n];if(i.href===t&&(!r||i.rel===`stylesheet`))return}else if(document.querySelector(`link[href="${t}"]${i}`))return;let o=document.createElement(`link`);if(o.rel=r?`stylesheet`:_,r||(o.as=`script`),o.crossOrigin=``,o.href=t,a&&o.setAttribute(`nonce`,a),document.head.appendChild(o),r)return new Promise((e,n)=>{o.addEventListener(`load`,e),o.addEventListener(`error`,()=>n(Error(`Unable to preload CSS for ${t}`)))})}))}function i(e){let t=new Event(`vite:preloadError`,{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return r.then(t=>{for(let e of t||[])e.status===`rejected`&&i(e.reason);return e().catch(i)})};var x=c(u(),1),S=`popstate`;function C(e={}){function t(e,t){let{pathname:n=`/`,search:r=``,hash:i=``}=ee(e.location.hash.substring(1));return!n.startsWith(`/`)&&!n.startsWith(`.`)&&(n=`/`+n),O(``,{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||`default`)}function n(e,t){let n=e.document.querySelector(`base`),r=``;if(n&&n.getAttribute(`href`)){let t=e.location.href,n=t.indexOf(`#`);r=n===-1?t:t.slice(0,n)}return r+`#`+(typeof t==`string`?t:k(t))}function r(e,t){T(e.pathname.charAt(0)===`/`,`relative pathnames are not supported in hash history.push(${JSON.stringify(t)})`)}return A(t,n,r,e)}function w(e,t){if(e===!1||e==null)throw Error(t)}function T(e,t){if(!e){typeof console<`u`&&console.warn(t);try{throw Error(t)}catch{}}}function E(){return Math.random().toString(36).substring(2,10)}function D(e,t){return{usr:e.state,key:e.key,idx:t}}function O(e,t,n=null,r){return{pathname:typeof e==`string`?e:e.pathname,search:``,hash:``,...typeof t==`string`?ee(t):t,state:n,key:t&&t.key||r||E()}}function k({pathname:e=`/`,search:t=``,hash:n=``}){return t&&t!==`?`&&(e+=t.charAt(0)===`?`?t:`?`+t),n&&n!==`#`&&(e+=n.charAt(0)===`#`?n:`#`+n),e}function ee(e){let t={};if(e){let n=e.indexOf(`#`);n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf(`?`);r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function A(e,t,n,r={}){let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,s=`POP`,c=null,l=u();l??(l=0,o.replaceState({...o.state,idx:l},``));function u(){return(o.state||{idx:null}).idx}function d(){s=`POP`;let e=u(),t=e==null?null:e-l;l=e,c&&c({action:s,location:h.location,delta:t})}function f(e,t){s=`PUSH`;let r=O(h.location,e,t);n&&n(r,e),l=u()+1;let d=D(r,l),f=h.createHref(r);try{o.pushState(d,``,f)}catch(e){if(e instanceof DOMException&&e.name===`DataCloneError`)throw e;i.location.assign(f)}a&&c&&c({action:s,location:h.location,delta:1})}function p(e,t){s=`REPLACE`;let r=O(h.location,e,t);n&&n(r,e),l=u();let i=D(r,l),d=h.createHref(r);o.replaceState(i,``,d),a&&c&&c({action:s,location:h.location,delta:0})}function m(e){return te(e)}let h={get action(){return s},get location(){return e(i,o)},listen(e){if(c)throw Error(`A history only accepts one active listener`);return i.addEventListener(S,d),c=e,()=>{i.removeEventListener(S,d),c=null}},createHref(e){return t(i,e)},createURL:m,encodeLocation(e){let t=m(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:f,replace:p,go(e){return o.go(e)}};return h}function te(e,t=!1){let n=`http://localhost`;typeof window<`u`&&(n=window.location.origin===`null`?window.location.href:window.location.origin),w(n,`No window.location.(origin|href) available to create URL`);let r=typeof e==`string`?e:k(e);return r=r.replace(/ $/,`%20`),!t&&r.startsWith(`//`)&&(r=n+r),new URL(r,n)}function ne(e,t,n=`/`){return re(e,t,n,!1)}function re(e,t,n,r){let i=ve((typeof t==`string`?ee(t):t).pathname||`/`,n);if(i==null)return null;let a=j(e);ae(a);let o=null;for(let e=0;o==null&&e<a.length;++e){let t=_e(i);o=me(a[e],t,r)}return o}function ie(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],loaderData:t[n.id],handle:n.handle}}function j(e,t=[],n=[],r=``,i=!1){let a=(e,a,o=i,s)=>{let c={relativePath:s===void 0?e.path||``:s,caseSensitive:e.caseSensitive===!0,childrenIndex:a,route:e};if(c.relativePath.startsWith(`/`)){if(!c.relativePath.startsWith(r)&&o)return;w(c.relativePath.startsWith(r),`Absolute route path "${c.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),c.relativePath=c.relativePath.slice(r.length)}let l=Te([r,c.relativePath]),u=n.concat(c);e.children&&e.children.length>0&&(w(e.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${l}".`),j(e.children,t,u,l,o)),!(e.path==null&&!e.index)&&t.push({path:l,score:fe(l,e.index),routesMeta:u})};return e.forEach((e,t)=>{if(e.path===``||!e.path?.includes(`?`))a(e,t);else for(let n of M(e.path))a(e,t,!0,n)}),t}function M(e){let t=e.split(`/`);if(t.length===0)return[];let[n,...r]=t,i=n.endsWith(`?`),a=n.replace(/\?$/,``);if(r.length===0)return i?[a,``]:[a];let o=M(r.join(`/`)),s=[];return s.push(...o.map(e=>e===``?a:[a,e].join(`/`))),i&&s.push(...o),s.map(t=>e.startsWith(`/`)&&t===``?`/`:t)}function ae(e){e.sort((e,t)=>e.score===t.score?pe(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)):t.score-e.score)}var oe=/^:[\w-]+$/,N=3,se=2,ce=1,le=10,ue=-2,de=e=>e===`*`;function fe(e,t){let n=e.split(`/`),r=n.length;return n.some(de)&&(r+=ue),t&&(r+=se),n.filter(e=>!de(e)).reduce((e,t)=>e+(oe.test(t)?N:t===``?ce:le),r)}function pe(e,t){return e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n])?e[e.length-1]-t[t.length-1]:0}function me(e,t,n=!1){let{routesMeta:r}=e,i={},a=`/`,o=[];for(let e=0;e<r.length;++e){let s=r[e],c=e===r.length-1,l=a===`/`?t:t.slice(a.length)||`/`,u=he({path:s.relativePath,caseSensitive:s.caseSensitive,end:c},l),d=s.route;if(!u&&c&&n&&!r[r.length-1].route.index&&(u=he({path:s.relativePath,caseSensitive:s.caseSensitive,end:!1},l)),!u)return null;Object.assign(i,u.params),o.push({params:i,pathname:Te([a,u.pathname]),pathnameBase:Ee(Te([a,u.pathnameBase])),route:d}),u.pathnameBase!==`/`&&(a=Te([a,u.pathnameBase]))}return o}function he(e,t){typeof e==`string`&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=ge(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,`$1`),s=i.slice(1);return{params:r.reduce((e,{paramName:t,isOptional:n},r)=>{if(t===`*`){let e=s[r]||``;o=a.slice(0,a.length-e.length).replace(/(.)\/+$/,`$1`)}let i=s[r];return n&&!i?e[t]=void 0:e[t]=(i||``).replace(/%2F/g,`/`),e},{}),pathname:a,pathnameBase:o,pattern:e}}function ge(e,t=!1,n=!0){T(e===`*`||!e.endsWith(`*`)||e.endsWith(`/*`),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,`/*`)}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,`/*`)}".`);let r=[],i=`^`+e.replace(/\/*\*?$/,``).replace(/^\/*/,`/`).replace(/[\\.*+^${}|()[\]]/g,`\\$&`).replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:n!=null}),n?`/?([^\\/]+)?`:`/([^\\/]+)`)).replace(/\/([\w-]+)\?(\/|$)/g,`(/$1)?$2`);return e.endsWith(`*`)?(r.push({paramName:`*`}),i+=e===`*`||e===`/*`?`(.*)$`:`(?:\\/(.+)|\\/*)$`):n?i+=`\\/*$`:e!==``&&e!==`/`&&(i+=`(?:(?=\\/|$))`),[new RegExp(i,t?void 0:`i`),r]}function _e(e){try{return e.split(`/`).map(e=>decodeURIComponent(e).replace(/\//g,`%2F`)).join(`/`)}catch(t){return T(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function ve(e,t){if(t===`/`)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith(`/`)?t.length-1:t.length,r=e.charAt(n);return r&&r!==`/`?null:e.slice(n)||`/`}var ye=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function be(e,t=`/`){let{pathname:n,search:r=``,hash:i=``}=typeof e==`string`?ee(e):e,a;return n?(n=n.replace(/\/\/+/g,`/`),a=n.startsWith(`/`)?P(n.substring(1),`/`):P(n,t)):a=t,{pathname:a,search:De(r),hash:Oe(i)}}function P(e,t){let n=t.replace(/\/+$/,``).split(`/`);return e.split(`/`).forEach(e=>{e===`..`?n.length>1&&n.pop():e!==`.`&&n.push(e)}),n.length>1?n.join(`/`):`/`}function xe(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Se(e){return e.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Ce(e){let t=Se(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function we(e,t,n,r=!1){let i;typeof e==`string`?i=ee(e):(i={...e},w(!i.pathname||!i.pathname.includes(`?`),xe(`?`,`pathname`,`search`,i)),w(!i.pathname||!i.pathname.includes(`#`),xe(`#`,`pathname`,`hash`,i)),w(!i.search||!i.search.includes(`#`),xe(`#`,`search`,`hash`,i)));let a=e===``||i.pathname===``,o=a?`/`:i.pathname,s;if(o==null)s=n;else{let e=t.length-1;if(!r&&o.startsWith(`..`)){let t=o.split(`/`);for(;t[0]===`..`;)t.shift(),--e;i.pathname=t.join(`/`)}s=e>=0?t[e]:`/`}let c=be(i,s),l=o&&o!==`/`&&o.endsWith(`/`),u=(a||o===`.`)&&n.endsWith(`/`);return!c.pathname.endsWith(`/`)&&(l||u)&&(c.pathname+=`/`),c}var Te=e=>e.join(`/`).replace(/\/\/+/g,`/`),Ee=e=>e.replace(/\/+$/,``).replace(/^\/*/,`/`),De=e=>!e||e===`?`?``:e.startsWith(`?`)?e:`?`+e,Oe=e=>!e||e===`#`?``:e.startsWith(`#`)?e:`#`+e,ke=class{constructor(e,t,n,r=!1){this.status=e,this.statusText=t||``,this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}};function Ae(e){return e!=null&&typeof e.status==`number`&&typeof e.statusText==`string`&&typeof e.internal==`boolean`&&`data`in e}function je(e){return e.map(e=>e.route.path).filter(Boolean).join(`/`).replace(/\/\/*/g,`/`)||`/`}var Me=typeof window<`u`&&window.document!==void 0&&window.document.createElement!==void 0;function F(e,t){let n=e;if(typeof n!=`string`||!ye.test(n))return{absoluteURL:void 0,isExternal:!1,to:n};let r=n,i=!1;if(Me)try{let e=new URL(window.location.href),r=n.startsWith(`//`)?new URL(e.protocol+n):new URL(n),a=ve(r.pathname,t);r.origin===e.origin&&a!=null?n=a+r.search+r.hash:i=!0}catch{T(!1,`<Link to="${n}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:i,to:n}}Object.getOwnPropertyNames(Object.prototype).sort().join(`\0`);var Ne=x.createContext(null);Ne.displayName=`DataRouter`;var Pe=x.createContext(null);Pe.displayName=`DataRouterState`;var Fe=x.createContext(!1),Ie=x.createContext({isTransitioning:!1});Ie.displayName=`ViewTransition`;var Le=x.createContext(new Map);Le.displayName=`Fetchers`;var Re=x.createContext(null);Re.displayName=`Await`;var I=x.createContext(null);I.displayName=`Navigation`;var ze=x.createContext(null);ze.displayName=`Location`;var Be=x.createContext({outlet:null,matches:[],isDataRoute:!1});Be.displayName=`Route`;var Ve=x.createContext(null);Ve.displayName=`RouteError`;var He=`REACT_ROUTER_ERROR`,Ue=`REDIRECT`,We=`ROUTE_ERROR_RESPONSE`;function Ge(e){if(e.startsWith(`${He}:${Ue}:{`))try{let t=JSON.parse(e.slice(28));if(typeof t==`object`&&t&&typeof t.status==`number`&&typeof t.statusText==`string`&&typeof t.location==`string`&&typeof t.reloadDocument==`boolean`&&typeof t.replace==`boolean`)return t}catch{}}function Ke(e){if(e.startsWith(`${He}:${We}:{`))try{let t=JSON.parse(e.slice(40));if(typeof t==`object`&&t&&typeof t.status==`number`&&typeof t.statusText==`string`)return new ke(t.status,t.statusText,t.data)}catch{}}function qe(e,{relative:t}={}){w(Je(),`useHref() may be used only in the context of a <Router> component.`);let{basename:n,navigator:r}=x.useContext(I),{hash:i,pathname:a,search:o}=et(e,{relative:t}),s=a;return n!==`/`&&(s=a===`/`?n:Te([n,a])),r.createHref({pathname:s,search:o,hash:i})}function Je(){return x.useContext(ze)!=null}function Ye(){return w(Je(),`useLocation() may be used only in the context of a <Router> component.`),x.useContext(ze).location}var Xe=`You should call navigate() in a React.useEffect(), not when your component is first rendered.`;function Ze(e){x.useContext(I).static||x.useLayoutEffect(e)}function Qe(){let{isDataRoute:e}=x.useContext(Be);return e?vt():$e()}function $e(){w(Je(),`useNavigate() may be used only in the context of a <Router> component.`);let e=x.useContext(Ne),{basename:t,navigator:n}=x.useContext(I),{matches:r}=x.useContext(Be),{pathname:i}=Ye(),a=JSON.stringify(Ce(r)),o=x.useRef(!1);return Ze(()=>{o.current=!0}),x.useCallback((r,s={})=>{if(T(o.current,Xe),!o.current)return;if(typeof r==`number`){n.go(r);return}let c=we(r,JSON.parse(a),i,s.relative===`path`);e==null&&t!==`/`&&(c.pathname=c.pathname===`/`?t:Te([t,c.pathname])),(s.replace?n.replace:n.push)(c,s.state,s)},[t,n,a,i,e])}x.createContext(null);function L(){let{matches:e}=x.useContext(Be),t=e[e.length-1];return t?t.params:{}}function et(e,{relative:t}={}){let{matches:n}=x.useContext(Be),{pathname:r}=Ye(),i=JSON.stringify(Ce(n));return x.useMemo(()=>we(e,JSON.parse(i),r,t===`path`),[e,i,r,t])}function tt(e,t){return nt(e,t)}function nt(e,t,n,r,i){w(Je(),`useRoutes() may be used only in the context of a <Router> component.`);let{navigator:a}=x.useContext(I),{matches:o}=x.useContext(Be),s=o[o.length-1],c=s?s.params:{},l=s?s.pathname:`/`,u=s?s.pathnameBase:`/`,d=s&&s.route;{let e=d&&d.path||``;yt(l,!d||e.endsWith(`*`)||e.endsWith(`*?`),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${l}" (under <Route path="${e}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${e}"> to <Route path="${e===`/`?`*`:`${e}/*`}">.`)}let f=Ye(),p;if(t){let e=typeof t==`string`?ee(t):t;w(u===`/`||e.pathname?.startsWith(u),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${u}" but pathname "${e.pathname}" was given in the \`location\` prop.`),p=e}else p=f;let m=p.pathname||`/`,h=m;if(u!==`/`){let e=u.replace(/^\//,``).split(`/`);h=`/`+m.replace(/^\//,``).split(`/`).slice(e.length).join(`/`)}let g=ne(e,{pathname:h});T(d||g!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),T(g==null||g[g.length-1].route.element!==void 0||g[g.length-1].route.Component!==void 0||g[g.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=lt(g&&g.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:Te([u,a.encodeLocation?a.encodeLocation(e.pathname.replace(/\?/g,`%3F`).replace(/#/g,`%23`)).pathname:e.pathname]),pathnameBase:e.pathnameBase===`/`?u:Te([u,a.encodeLocation?a.encodeLocation(e.pathnameBase.replace(/\?/g,`%3F`).replace(/#/g,`%23`)).pathname:e.pathnameBase])})),o,n,r,i);return t&&_?x.createElement(ze.Provider,{value:{location:{pathname:`/`,search:``,hash:``,state:null,key:`default`,...p},navigationType:`POP`}},_):_}function rt(){let e=_t(),t=Ae(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r=`rgba(200,200,200, 0.5)`,i={padding:`0.5rem`,backgroundColor:r},a={padding:`2px 4px`,backgroundColor:r},o=null;return console.error(`Error handled by React Router default ErrorBoundary:`,e),o=x.createElement(x.Fragment,null,x.createElement(`p`,null,` Hey developer `),x.createElement(`p`,null,`You can provide a way better UX than this when your app throws errors by providing your own `,x.createElement(`code`,{style:a},`ErrorBoundary`),` or`,` `,x.createElement(`code`,{style:a},`errorElement`),` prop on your route.`)),x.createElement(x.Fragment,null,x.createElement(`h2`,null,`Unexpected Application Error!`),x.createElement(`h3`,{style:{fontStyle:`italic`}},t),n?x.createElement(`pre`,{style:i},n):null,o)}var it=x.createElement(rt,null),at=class extends x.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!==`idle`&&e.revalidation===`idle`?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error===void 0?t.error:e.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.onError?this.props.onError(e,t):console.error(`React Router caught the following error during render`,e)}render(){let e=this.state.error;if(this.context&&typeof e==`object`&&e&&`digest`in e&&typeof e.digest==`string`){let t=Ke(e.digest);t&&(e=t)}let t=e===void 0?this.props.children:x.createElement(Be.Provider,{value:this.props.routeContext},x.createElement(Ve.Provider,{value:e,children:this.props.component}));return this.context?x.createElement(st,{error:e},t):t}};at.contextType=Fe;var ot=new WeakMap;function st({children:e,error:t}){let{basename:n}=x.useContext(I);if(typeof t==`object`&&t&&`digest`in t&&typeof t.digest==`string`){let e=Ge(t.digest);if(e){let r=ot.get(t);if(r)throw r;let i=F(e.location,n);if(Me&&!ot.get(t))if(i.isExternal||e.reloadDocument)window.location.href=i.absoluteURL||i.to;else{let n=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(i.to,{replace:e.replace}));throw ot.set(t,n),n}return x.createElement(`meta`,{httpEquiv:`refresh`,content:`0;url=${i.absoluteURL||i.to}`})}}return e}function ct({routeContext:e,match:t,children:n}){let r=x.useContext(Ne);return r&&r.static&&r.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=t.route.id),x.createElement(Be.Provider,{value:e},n)}function lt(e,t=[],n=null,r=null,i=null){if(e==null){if(!n)return null;if(n.errors)e=n.matches;else if(t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let a=e,o=n?.errors;if(o!=null){let e=a.findIndex(e=>e.route.id&&o?.[e.route.id]!==void 0);w(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(`,`)}`),a=a.slice(0,Math.min(a.length,e+1))}let s=!1,c=-1;if(n)for(let e=0;e<a.length;e++){let t=a[e];if((t.route.HydrateFallback||t.route.hydrateFallbackElement)&&(c=e),t.route.id){let{loaderData:e,errors:r}=n,i=t.route.loader&&!e.hasOwnProperty(t.route.id)&&(!r||r[t.route.id]===void 0);if(t.route.lazy||i){s=!0,a=c>=0?a.slice(0,c+1):[a[0]];break}}}let l=n&&r?(e,t)=>{r(e,{location:n.location,params:n.matches?.[0]?.params??{},unstable_pattern:je(n.matches),errorInfo:t})}:void 0;return a.reduceRight((e,r,i)=>{let u,d=!1,f=null,p=null;n&&(u=o&&r.route.id?o[r.route.id]:void 0,f=r.route.errorElement||it,s&&(c<0&&i===0?(yt(`route-fallback`,!1,"No `HydrateFallback` element provided to render during initial hydration"),d=!0,p=null):c===i&&(d=!0,p=r.route.hydrateFallbackElement||null)));let m=t.concat(a.slice(0,i+1)),h=()=>{let t;return t=u?f:d?p:r.route.Component?x.createElement(r.route.Component,null):r.route.element?r.route.element:e,x.createElement(ct,{match:r,routeContext:{outlet:e,matches:m,isDataRoute:n!=null},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||i===0)?x.createElement(at,{location:n.location,revalidation:n.revalidation,component:f,error:u,children:h(),routeContext:{outlet:null,matches:m,isDataRoute:!0},onError:l}):h()},null)}function ut(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dt(e){let t=x.useContext(Ne);return w(t,ut(e)),t}function ft(e){let t=x.useContext(Pe);return w(t,ut(e)),t}function pt(e){let t=x.useContext(Be);return w(t,ut(e)),t}function mt(e){let t=pt(e),n=t.matches[t.matches.length-1];return w(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function R(){return mt(`useRouteId`)}function ht(){return ft(`useNavigation`).navigation}function gt(){let{matches:e,loaderData:t}=ft(`useMatches`);return x.useMemo(()=>e.map(e=>ie(e,t)),[e,t])}function _t(){let e=x.useContext(Ve),t=ft(`useRouteError`),n=mt(`useRouteError`);return e===void 0?t.errors?.[n]:e}function vt(){let{router:e}=dt(`useNavigate`),t=mt(`useNavigate`),n=x.useRef(!1);return Ze(()=>{n.current=!0}),x.useCallback(async(r,i={})=>{T(n.current,Xe),n.current&&(typeof r==`number`?await e.navigate(r):await e.navigate(r,{fromRouteId:t,...i}))},[e,t])}var z={};function yt(e,t,n){!t&&!z[e]&&(z[e]=!0,T(!1,n))}x.useOptimistic,x.memo(bt);function bt({routes:e,future:t,state:n,onError:r}){return nt(e,void 0,n,r,t)}function xt({to:e,replace:t,state:n,relative:r}){w(Je(),`<Navigate> may be used only in the context of a <Router> component.`);let{static:i}=x.useContext(I);T(!i,`<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.`);let{matches:a}=x.useContext(Be),{pathname:o}=Ye(),s=Qe(),c=we(e,Ce(a),o,r===`path`),l=JSON.stringify(c);return x.useEffect(()=>{s(JSON.parse(l),{replace:t,state:n,relative:r})},[s,l,r,t,n]),null}function St(e){w(!1,`A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.`)}function Ct({basename:e=`/`,children:t=null,location:n,navigationType:r=`POP`,navigator:i,static:a=!1,unstable_useTransitions:o}){w(!Je(),`You cannot render a <Router> inside another <Router>. You should never have more than one in your app.`);let s=e.replace(/^\/*/,`/`),c=x.useMemo(()=>({basename:s,navigator:i,static:a,unstable_useTransitions:o,future:{}}),[s,i,a,o]);typeof n==`string`&&(n=ee(n));let{pathname:l=`/`,search:u=``,hash:d=``,state:f=null,key:p=`default`}=n,m=x.useMemo(()=>{let e=ve(l,s);return e==null?null:{location:{pathname:e,search:u,hash:d,state:f,key:p},navigationType:r}},[s,l,u,d,f,p,r]);return T(m!=null,`<Router basename="${s}"> is not able to match the URL "${l}${u}${d}" because it does not start with the basename, so the <Router> won't render anything.`),m==null?null:x.createElement(I.Provider,{value:c},x.createElement(ze.Provider,{children:t,value:m}))}function wt({children:e,location:t}){return tt(Tt(e),t)}function Tt(e,t=[]){let n=[];return x.Children.forEach(e,(e,r)=>{if(!x.isValidElement(e))return;let i=[...t,r];if(e.type===x.Fragment){n.push.apply(n,Tt(e.props.children,i));return}w(e.type===St,`[${typeof e.type==`string`?e.type:e.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),w(!e.props.index||!e.props.children,`An index route cannot have child routes.`);let a={id:e.props.id||i.join(`-`),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,middleware:e.props.middleware,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:e.props.hasErrorBoundary===!0||e.props.ErrorBoundary!=null||e.props.errorElement!=null,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=Tt(e.props.children,i)),n.push(a)}),n}var Et=`get`,Dt=`application/x-www-form-urlencoded`;function Ot(e){return typeof HTMLElement<`u`&&e instanceof HTMLElement}function kt(e){return Ot(e)&&e.tagName.toLowerCase()===`button`}function At(e){return Ot(e)&&e.tagName.toLowerCase()===`form`}function jt(e){return Ot(e)&&e.tagName.toLowerCase()===`input`}function Mt(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function B(e,t){return e.button===0&&(!t||t===`_self`)&&!Mt(e)}function V(e=``){return new URLSearchParams(typeof e==`string`||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,n)=>{let r=e[n];return t.concat(Array.isArray(r)?r.map(e=>[n,e]):[[n,r]])},[]))}function H(e,t){let n=V(e);return t&&t.forEach((e,r)=>{n.has(r)||t.getAll(r).forEach(e=>{n.append(r,e)})}),n}var Nt=null;function Pt(){if(Nt===null)try{new FormData(document.createElement(`form`),0),Nt=!1}catch{Nt=!0}return Nt}var Ft=new Set([`application/x-www-form-urlencoded`,`multipart/form-data`,`text/plain`]);function It(e){return e!=null&&!Ft.has(e)?(T(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Dt}"`),null):e}function Lt(e,t){let n,r,i,a,o;if(At(e)){let o=e.getAttribute(`action`);r=o?ve(o,t):null,n=e.getAttribute(`method`)||Et,i=It(e.getAttribute(`enctype`))||Dt,a=new FormData(e)}else if(kt(e)||jt(e)&&(e.type===`submit`||e.type===`image`)){let o=e.form;if(o==null)throw Error(`Cannot submit a <button> or <input type="submit"> without a <form>`);let s=e.getAttribute(`formaction`)||o.getAttribute(`action`);if(r=s?ve(s,t):null,n=e.getAttribute(`formmethod`)||o.getAttribute(`method`)||Et,i=It(e.getAttribute(`formenctype`))||It(o.getAttribute(`enctype`))||Dt,a=new FormData(o,e),!Pt()){let{name:t,type:n,value:r}=e;if(n===`image`){let e=t?`${t}.`:``;a.append(`${e}x`,`0`),a.append(`${e}y`,`0`)}else t&&a.append(t,r)}}else if(Ot(e))throw Error(`Cannot submit element that is not <form>, <button>, or <input type="submit|image">`);else n=Et,r=null,i=Dt,o=e;return a&&i===`text/plain`&&(o=a,a=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:a,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join(`\0`);var U={"&":`\\u0026`,">":`\\u003e`,"<":`\\u003c`,"\u2028":`\\u2028`,"\u2029":`\\u2029`},Rt=/[&><\u2028\u2029]/g;function zt(e){return e.replace(Rt,e=>U[e])}function Bt(e,t){if(e===!1||e==null)throw Error(t)}function Vt(e,t,n,r){let i=typeof e==`string`?new URL(e,typeof window>`u`?`server://singlefetch/`:window.location.origin):e;return n?i.pathname.endsWith(`/`)?i.pathname=`${i.pathname}_.${r}`:i.pathname=`${i.pathname}.${r}`:i.pathname===`/`?i.pathname=`_root.${r}`:t&&ve(i.pathname,t)===`/`?i.pathname=`${t.replace(/\/$/,``)}/_root.${r}`:i.pathname=`${i.pathname.replace(/\/$/,``)}.${r}`,i}async function Ht(e,t){if(e.id in t)return t[e.id];try{let n=await b(()=>import(e.module),[]);return t[e.id]=n,n}catch(t){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ut(e){return e!=null&&typeof e.page==`string`}function Wt(e){return e==null?!1:e.href==null?e.rel===`preload`&&typeof e.imageSrcSet==`string`&&typeof e.imageSizes==`string`:typeof e.rel==`string`&&typeof e.href==`string`}async function Gt(e,t,n){return G((await Promise.all(e.map(async e=>{let r=t.routes[e.route.id];if(r){let e=await Ht(r,n);return e.links?e.links():[]}return[]}))).flat(1).filter(Wt).filter(e=>e.rel===`stylesheet`||e.rel===`preload`).map(e=>e.rel===`stylesheet`?{...e,rel:`prefetch`,as:`style`}:{...e,rel:`prefetch`}))}function Kt(e,t,n,r,i,a){let o=(e,t)=>n[t]?e.route.id!==n[t].route.id:!0,s=(e,t)=>n[t].pathname!==e.pathname||n[t].route.path?.endsWith(`*`)&&n[t].params[`*`]!==e.params[`*`];return a===`assets`?t.filter((e,t)=>o(e,t)||s(e,t)):a===`data`?t.filter((t,a)=>{let c=r.routes[t.route.id];if(!c||!c.hasLoader)return!1;if(o(t,a)||s(t,a))return!0;if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if(typeof r==`boolean`)return r}return!0}):[]}function qt(e,t,{includeHydrateFallback:n}={}){return W(e.map(e=>{let r=t.routes[e.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i}).flat(1))}function W(e){return[...new Set(e)]}function Jt(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}function G(e,t){let n=new Set,r=new Set(t);return e.reduce((e,i)=>{if(t&&!Ut(i)&&i.as===`script`&&i.href&&r.has(i.href))return e;let a=JSON.stringify(Jt(i));return n.has(a)||(n.add(a),e.push({key:a,link:i})),e},[])}function Yt(){let e=x.useContext(Ne);return Bt(e,`You must render this element inside a <DataRouterContext.Provider> element`),e}function Xt(){let e=x.useContext(Pe);return Bt(e,`You must render this element inside a <DataRouterStateContext.Provider> element`),e}var Zt=x.createContext(void 0);Zt.displayName=`FrameworkContext`;function Qt(){let e=x.useContext(Zt);return Bt(e,`You must render this element inside a <HydratedRouter> element`),e}function $t(e,t){let n=x.useContext(Zt),[r,i]=x.useState(!1),[a,o]=x.useState(!1),{onFocus:s,onBlur:c,onMouseEnter:l,onMouseLeave:u,onTouchStart:d}=t,f=x.useRef(null);x.useEffect(()=>{if(e===`render`&&o(!0),e===`viewport`){let e=new IntersectionObserver(e=>{e.forEach(e=>{o(e.isIntersecting)})},{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}},[e]),x.useEffect(()=>{if(r){let e=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(e)}}},[r]);let p=()=>{i(!0)},m=()=>{i(!1),o(!1)};return n?e===`intent`?[a,f,{onFocus:en(s,p),onBlur:en(c,m),onMouseEnter:en(l,p),onMouseLeave:en(u,m),onTouchStart:en(d,p)}]:[a,f,{}]:[!1,f,{}]}function en(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function tn({page:e,...t}){let{router:n}=Yt(),r=x.useMemo(()=>ne(n.routes,e,n.basename),[n.routes,e,n.basename]);return r?x.createElement(rn,{page:e,matches:r,...t}):null}function nn(e){let{manifest:t,routeModules:n}=Qt(),[r,i]=x.useState([]);return x.useEffect(()=>{let r=!1;return Gt(e,t,n).then(e=>{r||i(e)}),()=>{r=!0}},[e,t,n]),r}function rn({page:e,matches:t,...n}){let r=Ye(),{future:i,manifest:a,routeModules:o}=Qt(),{basename:s}=Yt(),{loaderData:c,matches:l}=Xt(),u=x.useMemo(()=>Kt(e,t,l,a,r,`data`),[e,t,l,a,r]),d=x.useMemo(()=>Kt(e,t,l,a,r,`assets`),[e,t,l,a,r]),f=x.useMemo(()=>{if(e===r.pathname+r.search+r.hash)return[];let n=new Set,l=!1;if(t.forEach(e=>{let t=a.routes[e.route.id];!t||!t.hasLoader||(!u.some(t=>t.route.id===e.route.id)&&e.route.id in c&&o[e.route.id]?.shouldRevalidate||t.hasClientLoader?l=!0:n.add(e.route.id))}),n.size===0)return[];let d=Vt(e,s,i.unstable_trailingSlashAwareDataRequests,`data`);return l&&n.size>0&&d.searchParams.set(`_routes`,t.filter(e=>n.has(e.route.id)).map(e=>e.route.id).join(`,`)),[d.pathname+d.search]},[s,i.unstable_trailingSlashAwareDataRequests,c,r,a,u,t,e,o]),p=x.useMemo(()=>qt(d,a),[d,a]),m=nn(d);return x.createElement(x.Fragment,null,f.map(e=>x.createElement(`link`,{key:e,rel:`prefetch`,as:`fetch`,href:e,...n})),p.map(e=>x.createElement(`link`,{key:e,rel:`modulepreload`,href:e,...n})),m.map(({key:e,link:t})=>x.createElement(`link`,{key:e,nonce:n.nonce,...t,crossOrigin:t.crossOrigin??n.crossOrigin})))}function an(...e){return t=>{e.forEach(e=>{typeof e==`function`?e(t):e!=null&&(e.current=t)})}}var on=typeof window<`u`&&window.document!==void 0&&window.document.createElement!==void 0;try{on&&(window.__reactRouterVersion=`7.13.0`)}catch{}function sn({basename:e,children:t,unstable_useTransitions:n,window:r}){let i=x.useRef();i.current??=C({window:r,v5Compat:!0});let a=i.current,[o,s]=x.useState({action:a.action,location:a.location}),c=x.useCallback(e=>{n===!1?s(e):x.startTransition(()=>s(e))},[n]);return x.useLayoutEffect(()=>a.listen(c),[a,c]),x.createElement(Ct,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:a,unstable_useTransitions:n})}function cn({basename:e,children:t,history:n,unstable_useTransitions:r}){let[i,a]=x.useState({action:n.action,location:n.location}),o=x.useCallback(e=>{r===!1?a(e):x.startTransition(()=>a(e))},[r]);return x.useLayoutEffect(()=>n.listen(o),[n,o]),x.createElement(Ct,{basename:e,children:t,location:i.location,navigationType:i.action,navigator:n,unstable_useTransitions:r})}cn.displayName=`unstable_HistoryRouter`;var ln=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,un=x.forwardRef(function({onClick:e,discover:t=`render`,prefetch:n=`none`,relative:r,reloadDocument:i,replace:a,state:o,target:s,to:c,preventScrollReset:l,viewTransition:u,unstable_defaultShouldRevalidate:d,...f},p){let{basename:m,unstable_useTransitions:h}=x.useContext(I),g=typeof c==`string`&&ln.test(c),_=F(c,m);c=_.to;let v=qe(c,{relative:r}),[y,b,S]=$t(n,f),C=_n(c,{replace:a,state:o,target:s,preventScrollReset:l,relative:r,viewTransition:u,unstable_defaultShouldRevalidate:d,unstable_useTransitions:h});function w(t){e&&e(t),t.defaultPrevented||C(t)}let T=x.createElement(`a`,{...f,...S,href:_.absoluteURL||v,onClick:_.isExternal||i?e:w,ref:an(p,b),target:s,"data-discover":!g&&t===`render`?`true`:void 0});return y&&!g?x.createElement(x.Fragment,null,T,x.createElement(tn,{page:v})):T});un.displayName=`Link`;var dn=x.forwardRef(function({"aria-current":e=`page`,caseSensitive:t=!1,className:n=``,end:r=!1,style:i,to:a,viewTransition:o,children:s,...c},l){let u=et(a,{relative:c.relative}),d=Ye(),f=x.useContext(Pe),{navigator:p,basename:m}=x.useContext(I),h=f!=null&&En(u)&&o===!0,g=p.encodeLocation?p.encodeLocation(u).pathname:u.pathname,_=d.pathname,v=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;t||(_=_.toLowerCase(),v=v?v.toLowerCase():null,g=g.toLowerCase()),v&&m&&(v=ve(v,m)||v);let y=g!==`/`&&g.endsWith(`/`)?g.length-1:g.length,b=_===g||!r&&_.startsWith(g)&&_.charAt(y)===`/`,S=v!=null&&(v===g||!r&&v.startsWith(g)&&v.charAt(g.length)===`/`),C={isActive:b,isPending:S,isTransitioning:h},w=b?e:void 0,T;T=typeof n==`function`?n(C):[n,b?`active`:null,S?`pending`:null,h?`transitioning`:null].filter(Boolean).join(` `);let E=typeof i==`function`?i(C):i;return x.createElement(un,{...c,"aria-current":w,className:T,ref:l,style:E,to:a,viewTransition:o},typeof s==`function`?s(C):s)});dn.displayName=`NavLink`;var fn=x.forwardRef(({discover:e=`render`,fetcherKey:t,navigate:n,reloadDocument:r,replace:i,state:a,method:o=Et,action:s,onSubmit:c,relative:l,preventScrollReset:u,viewTransition:d,unstable_defaultShouldRevalidate:f,...p},m)=>{let{unstable_useTransitions:h}=x.useContext(I),g=q(),_=bn(s,{relative:l}),v=o.toLowerCase()===`get`?`get`:`post`,y=typeof s==`string`&&ln.test(s);return x.createElement(`form`,{ref:m,method:v,action:_,onSubmit:r?c:e=>{if(c&&c(e),e.defaultPrevented)return;e.preventDefault();let r=e.nativeEvent.submitter,s=r?.getAttribute(`formmethod`)||o,p=()=>g(r||e.currentTarget,{fetcherKey:t,method:s,navigate:n,replace:i,state:a,relative:l,preventScrollReset:u,viewTransition:d,unstable_defaultShouldRevalidate:f});h&&n!==!1?x.startTransition(()=>p()):p()},...p,"data-discover":!y&&e===`render`?`true`:void 0})});fn.displayName=`Form`;function pn({getKey:e,storageKey:t,...n}){let r=x.useContext(Zt),{basename:i}=x.useContext(I),a=Ye(),o=gt();wn({getKey:e,storageKey:t});let s=x.useMemo(()=>{if(!r||!e)return null;let t=Cn(a,o,i,e);return t===a.key?null:t},[]);if(!r||r.isSpaMode)return null;let c=((e,t)=>{if(!window.history.state||!window.history.state.key){let e=Math.random().toString(32).slice(2);window.history.replaceState({key:e},``)}try{let n=JSON.parse(sessionStorage.getItem(e)||`{}`)[t||window.history.state.key];typeof n==`number`&&window.scrollTo(0,n)}catch(t){console.error(t),sessionStorage.removeItem(e)}}).toString();return x.createElement(`script`,{...n,suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:`(${c})(${zt(JSON.stringify(t||xn))}, ${zt(JSON.stringify(s))})`}})}pn.displayName=`ScrollRestoration`;function mn(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hn(e){let t=x.useContext(Ne);return w(t,mn(e)),t}function gn(e){let t=x.useContext(Pe);return w(t,mn(e)),t}function _n(e,{target:t,replace:n,state:r,preventScrollReset:i,relative:a,viewTransition:o,unstable_defaultShouldRevalidate:s,unstable_useTransitions:c}={}){let l=Qe(),u=Ye(),d=et(e,{relative:a});return x.useCallback(f=>{if(B(f,t)){f.preventDefault();let t=n===void 0?k(u)===k(d):n,p=()=>l(e,{replace:t,state:r,preventScrollReset:i,relative:a,viewTransition:o,unstable_defaultShouldRevalidate:s});c?x.startTransition(()=>p()):p()}},[u,l,d,n,r,t,e,i,a,o,s,c])}function vn(e){T(typeof URLSearchParams<`u`,"You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=x.useRef(V(e)),n=x.useRef(!1),r=Ye(),i=x.useMemo(()=>H(r.search,n.current?null:t.current),[r.search]),a=Qe();return[i,x.useCallback((e,t)=>{let r=V(typeof e==`function`?e(new URLSearchParams(i)):e);n.current=!0,a(`?`+r,t)},[a,i])]}var yn=0,K=()=>`__${String(++yn)}__`;function q(){let{router:e}=hn(`useSubmit`),{basename:t}=x.useContext(I),n=R(),r=e.fetch,i=e.navigate;return x.useCallback(async(e,a={})=>{let{action:o,method:s,encType:c,formData:l,body:u}=Lt(e,t);a.navigate===!1?await r(a.fetcherKey||K(),n,a.action||o,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:l,body:u,formMethod:a.method||s,formEncType:a.encType||c,flushSync:a.flushSync}):await i(a.action||o,{unstable_defaultShouldRevalidate:a.unstable_defaultShouldRevalidate,preventScrollReset:a.preventScrollReset,formData:l,body:u,formMethod:a.method||s,formEncType:a.encType||c,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[r,i,t,n])}function bn(e,{relative:t}={}){let{basename:n}=x.useContext(I),r=x.useContext(Be);w(r,`useFormAction must be used inside a RouteContext`);let[i]=r.matches.slice(-1),a={...et(e||`.`,{relative:t})},o=Ye();if(e==null){a.search=o.search;let e=new URLSearchParams(a.search),t=e.getAll(`index`);if(t.some(e=>e===``)){e.delete(`index`),t.filter(e=>e).forEach(t=>e.append(`index`,t));let n=e.toString();a.search=n?`?${n}`:``}}return(!e||e===`.`)&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,`?index&`):`?index`),n!==`/`&&(a.pathname=a.pathname===`/`?n:Te([n,a.pathname])),k(a)}var xn=`react-router-scroll-positions`,Sn={};function Cn(e,t,n,r){let i=null;return r&&(i=r(n===`/`?e:{...e,pathname:ve(e.pathname,n)||e.pathname},t)),i??=e.key,i}function wn({getKey:e,storageKey:t}={}){let{router:n}=hn(`useScrollRestoration`),{restoreScrollPosition:r,preventScrollReset:i}=gn(`useScrollRestoration`),{basename:a}=x.useContext(I),o=Ye(),s=gt(),c=ht();x.useEffect(()=>(window.history.scrollRestoration=`manual`,()=>{window.history.scrollRestoration=`auto`}),[]),Tn(x.useCallback(()=>{if(c.state===`idle`){let t=Cn(o,s,a,e);Sn[t]=window.scrollY}try{sessionStorage.setItem(t||xn,JSON.stringify(Sn))}catch(e){T(!1,`Failed to save scroll positions in sessionStorage, <ScrollRestoration /> will not work properly (${e}).`)}window.history.scrollRestoration=`auto`},[c.state,e,a,o,s,t])),typeof document<`u`&&(x.useLayoutEffect(()=>{try{let e=sessionStorage.getItem(t||xn);e&&(Sn=JSON.parse(e))}catch{}},[t]),x.useLayoutEffect(()=>{let t=n?.enableScrollRestoration(Sn,()=>window.scrollY,e?(t,n)=>Cn(t,n,a,e):void 0);return()=>t&&t()},[n,a,e]),x.useLayoutEffect(()=>{if(r!==!1){if(typeof r==`number`){window.scrollTo(0,r);return}try{if(o.hash){let e=document.getElementById(decodeURIComponent(o.hash.slice(1)));if(e){e.scrollIntoView();return}}}catch{T(!1,`"${o.hash.slice(1)}" is not a decodable element ID. The view will not scroll to it.`)}i!==!0&&window.scrollTo(0,0)}},[o,r,i]))}function Tn(e,t){let{capture:n}=t||{};x.useEffect(()=>{let t=n==null?void 0:{capture:n};return window.addEventListener(`pagehide`,e,t),()=>{window.removeEventListener(`pagehide`,e,t)}},[e,n])}function En(e,{relative:t}={}){let n=x.useContext(Ie);w(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=hn(`useViewTransitionState`),i=et(e,{relative:t});if(!n.isTransitioning)return!1;let a=ve(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=ve(n.nextLocation.pathname,r)||n.nextLocation.pathname;return he(i.pathname,o)!=null||he(i.pathname,a)!=null}var Dn=`x-amz-user-agent`,On=`NoHubcallbackProvidedException`,kn;(function(e){e.DEBUG=`DEBUG`,e.ERROR=`ERROR`,e.INFO=`INFO`,e.WARN=`WARN`,e.VERBOSE=`VERBOSE`,e.NONE=`NONE`})(kn||={});var An={VERBOSE:1,DEBUG:2,INFO:3,WARN:4,ERROR:5,NONE:6},jn=class e{constructor(e,t=kn.WARN){this.name=e,this.level=t,this._pluggables=[]}_padding(e){return e<10?`0`+e:``+e}_ts(){let e=new Date;return[this._padding(e.getMinutes()),this._padding(e.getSeconds())].join(`:`)+`.`+e.getMilliseconds()}configure(e){return e&&(this._config=e),this._config}_log(t,...n){let r=this.level;e.LOG_LEVEL&&(r=e.LOG_LEVEL),typeof window<`u`&&window.LOG_LEVEL&&(r=window.LOG_LEVEL);let i=An[r];if(!(An[t]>=i))return;let a=console.log.bind(console);t===kn.ERROR&&console.error&&(a=console.error.bind(console)),t===kn.WARN&&console.warn&&(a=console.warn.bind(console)),e.BIND_ALL_LOG_LEVELS&&(t===kn.INFO&&console.info&&(a=console.info.bind(console)),t===kn.DEBUG&&console.debug&&(a=console.debug.bind(console)));let o=`[${t}] ${this._ts()} ${this.name}`,s=``;if(n.length===1&&typeof n[0]==`string`)s=`${o} - ${n[0]}`,a(s);else if(n.length===1)s=`${o} ${n[0]}`,a(o,n[0]);else if(typeof n[0]==`string`){let e=n.slice(1);e.length===1&&(e=e[0]),s=`${o} - ${n[0]} ${e}`,a(`${o} - ${n[0]}`,e)}else s=`${o} ${n}`,a(o,n);for(let e of this._pluggables){let t={message:s,timestamp:Date.now()};e.pushLogs([t])}}log(...e){this._log(kn.INFO,...e)}info(...e){this._log(kn.INFO,...e)}warn(...e){this._log(kn.WARN,...e)}error(...e){this._log(kn.ERROR,...e)}debug(...e){this._log(kn.DEBUG,...e)}verbose(...e){this._log(kn.VERBOSE,...e)}addPluggable(e){e&&e.getCategoryName()===`Logging`&&(this._pluggables.push(e),e.configure(this._config))}listPluggables(){return this._pluggables}};jn.LOG_LEVEL=null,jn.BIND_ALL_LOG_LEVELS=!1;var Mn=class e extends Error{constructor({message:t,name:n,recoverySuggestion:r,underlyingError:i,metadata:a}){if(super(t),this.name=n,this.underlyingError=i,this.recoverySuggestion=r,a){let{extendedRequestId:e,httpStatusCode:t,requestId:n}=a;this.metadata={extendedRequestId:e,httpStatusCode:t,requestId:n}}this.constructor=e,Object.setPrototypeOf(this,e.prototype)}},J;(function(e){e.NoEndpointId=`NoEndpointId`,e.PlatformNotSupported=`PlatformNotSupported`,e.Unknown=`Unknown`,e.NetworkError=`NetworkError`})(J||={});var Nn=(e,t=Mn)=>(n,r,i)=>{let{message:a,recoverySuggestion:o}=e[r];if(!n)throw new t({name:r,message:i?`${a} ${i}`:a,recoverySuggestion:o})},Pn=typeof Symbol<`u`?Symbol(`amplify_default`):`@@amplify_default`,Fn=new jn(`Hub`),In=class{constructor(e){this.listeners=new Map,this.protectedChannels=[`core`,`auth`,`api`,`analytics`,`interactions`,`pubsub`,`storage`,`ui`,`xr`],this.name=e}_remove(e,t){let n=this.listeners.get(e);if(!n){Fn.warn(`No listeners for ${e}`);return}this.listeners.set(e,[...n.filter(({callback:e})=>e!==t)])}dispatch(e,t,n,r){typeof e==`string`&&this.protectedChannels.indexOf(e)>-1&&r!==Pn&&Fn.warn(`WARNING: ${e} is protected and dispatching on it can have unintended consequences`);let i={channel:e,payload:{...t},source:n,patternInfo:[]};try{this._toListeners(i)}catch(e){Fn.error(e)}}listen(e,t,n=`noname`){let r;if(typeof t!=`function`)throw new Mn({name:On,message:`No callback supplied to Hub`});r=t;let i=this.listeners.get(e);return i||(i=[],this.listeners.set(e,i)),i.push({name:n,callback:r}),()=>{this._remove(e,r)}}_toListeners(e){let{channel:t,payload:n}=e,r=this.listeners.get(t);r&&r.forEach(r=>{Fn.debug(`Dispatching to ${t} with `,n);try{r.callback(e)}catch(e){Fn.error(e)}})}},Ln=new In(`__default__`),Rn=new In(`internal-hub`),zn=()=>{if(typeof window==`object`&&typeof window.crypto==`object`)return window.crypto;if(typeof crypto==`object`)return crypto;throw new Mn({name:`MissingPolyfill`,message:"Cannot resolve the `crypto` function from the environment."})},Bn=()=>{if(typeof window<`u`&&typeof window.btoa==`function`)return window.btoa;if(typeof btoa==`function`)return btoa;throw new Mn({name:`Base64EncoderError`,message:"Cannot resolve the `btoa` function from the environment."})},Vn=()=>{if(typeof window<`u`&&typeof window.atob==`function`)return window.atob;if(typeof atob==`function`)return atob;throw new Mn({name:`Base64EncoderError`,message:"Cannot resolve the `atob` function from the environment."})},Hn={convert(e,t){let n=e;return t?.urlSafe&&(n=n.replace(/-/g,`+`).replace(/_/g,`/`)),Vn()(n)}},Un;(function(e){e.AuthTokenConfigException=`AuthTokenConfigException`,e.AuthUserPoolAndIdentityPoolException=`AuthUserPoolAndIdentityPoolException`,e.AuthUserPoolException=`AuthUserPoolException`,e.InvalidIdentityPoolIdException=`InvalidIdentityPoolIdException`,e.OAuthNotConfigureException=`OAuthNotConfigureException`})(Un||={});var Wn=Nn({[Un.AuthTokenConfigException]:{message:`Auth Token Provider not configured.`,recoverySuggestion:`Make sure to call Amplify.configure in your app.`},[Un.AuthUserPoolAndIdentityPoolException]:{message:`Auth UserPool or IdentityPool not configured.`,recoverySuggestion:`Make sure to call Amplify.configure in your app with UserPoolId and IdentityPoolId.`},[Un.AuthUserPoolException]:{message:`Auth UserPool not configured.`,recoverySuggestion:`Make sure to call Amplify.configure in your app with userPoolId and userPoolClientId.`},[Un.InvalidIdentityPoolIdException]:{message:`Invalid identity pool id provided.`,recoverySuggestion:`Make sure a valid identityPoolId is given in the config.`},[Un.OAuthNotConfigureException]:{message:`oauth param not configured.`,recoverySuggestion:`Make sure to call Amplify.configure with oauth parameter in your app.`}});function Gn(e){let t=!0;t=e?!!e.userPoolId&&!!e.userPoolClientId:!1,Wn(t,Un.AuthUserPoolException)}function Kn(e){Wn(!!e?.loginWith?.oauth?.domain&&!!e?.loginWith?.oauth?.redirectSignOut&&!!e?.loginWith?.oauth?.redirectSignIn&&!!e?.loginWith?.oauth?.responseType,Un.OAuthNotConfigureException)}function qn(e){Wn(!!e?.identityPoolId,Un.InvalidIdentityPoolIdException)}function Jn(e){let t=e.split(`.`);if(t.length!==3)throw Error(`Invalid token`);try{let n=t[1].replace(/-/g,`+`).replace(/_/g,`/`),r=decodeURIComponent(Hn.convert(n).split(``).map(e=>`%${`00${e.charCodeAt(0).toString(16)}`.slice(-2)}`).join(``));return{toString:()=>e,payload:JSON.parse(r)}}catch{throw Error(`Invalid token payload`)}}var Yn=e=>{let t=Reflect.ownKeys(e);for(let n of t){let t=e[n];(t&&typeof t==`object`||typeof t==`function`)&&Yn(t)}return Object.freeze(e)},Xn=new jn(`parseAWSExports`),Zn={API_KEY:`apiKey`,AWS_IAM:`iam`,AMAZON_COGNITO_USER_POOLS:`userPool`,OPENID_CONNECT:`oidc`,NONE:`none`,AWS_LAMBDA:`lambda`,LAMBDA:`lambda`},Qn=(e={})=>{if(!Object.prototype.hasOwnProperty.call(e,`aws_project_region`))throw new Mn({name:`InvalidParameterException`,message:`Invalid config parameter.`,recoverySuggestion:"Ensure passing the config object imported from  `amplifyconfiguration.json`."});let{aws_appsync_apiKey:t,aws_appsync_authenticationType:n,aws_appsync_graphqlEndpoint:r,aws_appsync_region:i,aws_bots_config:a,aws_cognito_identity_pool_id:o,aws_cognito_sign_up_verification_method:s,aws_cognito_mfa_configuration:c,aws_cognito_mfa_types:l,aws_cognito_password_protection_settings:u,aws_cognito_verification_mechanisms:d,aws_cognito_signup_attributes:f,aws_cognito_social_providers:p,aws_cognito_username_attributes:m,aws_mandatory_sign_in:h,aws_mobile_analytics_app_id:g,aws_mobile_analytics_app_region:_,aws_user_files_s3_bucket:v,aws_user_files_s3_bucket_region:y,aws_user_files_s3_dangerously_connect_to_http_endpoint_for_testing:b,aws_user_pools_id:x,aws_user_pools_web_client_id:S,geo:C,oauth:w,predictions:T,aws_cloud_logic_custom:E,Notifications:D,modelIntrospection:O}=e,k={};g&&(k.Analytics={Pinpoint:{appId:g,region:_}});let{InAppMessaging:ee,Push:A}=D??{};if(ee?.AWSPinpoint||A?.AWSPinpoint){if(ee?.AWSPinpoint){let{appId:e,region:t}=ee.AWSPinpoint;k.Notifications={InAppMessaging:{Pinpoint:{appId:e,region:t}}}}if(A?.AWSPinpoint){let{appId:e,region:t}=A.AWSPinpoint;k.Notifications={...k.Notifications,PushNotification:{Pinpoint:{appId:e,region:t}}}}}if(Array.isArray(a)&&(k.Interactions={LexV1:Object.fromEntries(a.map(e=>[e.name,e]))}),r){let e=Zn[n];e||Xn.debug(`Invalid authentication type ${n}. Falling back to IAM.`),k.API={GraphQL:{endpoint:r,apiKey:t,region:i,defaultAuthMode:e??`iam`}},O&&(k.API.GraphQL.modelIntrospection=O)}let te=c?{status:c&&c.toLowerCase(),totpEnabled:l?.includes(`TOTP`)??!1,smsEnabled:l?.includes(`SMS`)??!1}:void 0,ne=u?{minLength:u.passwordPolicyMinLength,requireLowercase:u.passwordPolicyCharacters?.includes(`REQUIRES_LOWERCASE`)??!1,requireUppercase:u.passwordPolicyCharacters?.includes(`REQUIRES_UPPERCASE`)??!1,requireNumbers:u.passwordPolicyCharacters?.includes(`REQUIRES_NUMBERS`)??!1,requireSpecialCharacters:u.passwordPolicyCharacters?.includes(`REQUIRES_SYMBOLS`)??!1}:void 0,re=Array.from(new Set([...d??[],...f??[]])).reduce((e,t)=>({...e,[t.toLowerCase()]:{required:!0}}),{}),ie=m?.includes(`EMAIL`)??!1,j=m?.includes(`PHONE_NUMBER`)??!1;(o||x)&&(k.Auth={Cognito:{identityPoolId:o,allowGuestAccess:h!==`enable`,signUpVerificationMethod:s,userAttributes:re,userPoolClientId:S,userPoolId:x,mfa:te,passwordFormat:ne,loginWith:{username:!(ie||j),email:ie,phone:j}}});let M=w?Object.keys(w).length>0:!1,ae=p?p.length>0:!1;if(k.Auth&&M&&(k.Auth.Cognito.loginWith={...k.Auth.Cognito.loginWith,oauth:{...er(w),...ae&&{providers:tr(p)}}}),v&&(k.Storage={S3:{bucket:v,region:y,dangerouslyConnectToHttpEndpointForTesting:b}}),C){let{amazon_location_service:e}=C;k.Geo={LocationService:{maps:e.maps,geofenceCollections:e.geofenceCollections,searchIndices:e.search_indices,region:e.region}}}if(E&&(k.API={...k.API,REST:E.reduce((e,t)=>{let{name:n,endpoint:r,region:i,service:a}=t;return{...e,[n]:{endpoint:r,...a?{service:a}:void 0,...i?{region:i}:void 0}}},{})}),T){let{VoiceId:e}=T?.convert?.speechGenerator?.defaults??{};k.Predictions=e?{...T,convert:{...T.convert,speechGenerator:{...T.convert.speechGenerator,defaults:{voiceId:e}}}}:T}return k},$n=e=>e?.split(`,`)??[],er=({domain:e,scope:t,redirectSignIn:n,redirectSignOut:r,responseType:i})=>({domain:e,scopes:t,redirectSignIn:$n(n),redirectSignOut:$n(r),responseType:i}),tr=e=>e.map(e=>{let t=e.toLowerCase();return t.charAt(0).toUpperCase()+t.slice(1)}),nr=Symbol(`oauth-listener`),rr=[];for(let e=0;e<256;++e)rr.push((e+256).toString(16).slice(1));function ir(e,t=0){return(rr[e[t+0]]+rr[e[t+1]]+rr[e[t+2]]+rr[e[t+3]]+`-`+rr[e[t+4]]+rr[e[t+5]]+`-`+rr[e[t+6]]+rr[e[t+7]]+`-`+rr[e[t+8]]+rr[e[t+9]]+`-`+rr[e[t+10]]+rr[e[t+11]]+rr[e[t+12]]+rr[e[t+13]]+rr[e[t+14]]+rr[e[t+15]]).toLowerCase()}var ar,or=new Uint8Array(16);function sr(){if(!ar){if(typeof crypto>`u`||!crypto.getRandomValues)throw Error(`crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported`);ar=crypto.getRandomValues.bind(crypto)}return ar(or)}var cr={randomUUID:typeof crypto<`u`&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function lr(e,t,n){if(cr.randomUUID&&!t&&!e)return cr.randomUUID();e||={};let r=e.random??e.rng?.()??sr();if(r.length<16)throw Error(`Random bytes length must be >= 16`);if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){if(n||=0,n<0||n+16>t.length)throw RangeError(`UUID byte range ${n}:${n+15} is out of buffer bounds`);for(let e=0;e<16;++e)t[n+e]=r[e];return t}return ir(r)}var ur=lr;function dr(e){let{version:t}=e;return t?t.startsWith(`1`):!1}function fr(e){if(!e)return;let{bucket_name:t,aws_region:n,buckets:r}=e;return{S3:{bucket:t,region:n,buckets:r&&Tr(r)}}}function pr(e){if(!e)return;let{user_pool_id:t,user_pool_client_id:n,identity_pool_id:r,password_policy:i,mfa_configuration:a,mfa_methods:o,unauthenticated_identities_enabled:s,oauth:c,username_attributes:l,standard_required_attributes:u,groups:d,passwordless_options:f}=e,p={Cognito:{userPoolId:t,userPoolClientId:n,groups:d}};return r&&(p.Cognito={...p.Cognito,identityPoolId:r}),i&&(p.Cognito.passwordFormat={requireLowercase:i.require_lowercase,requireNumbers:i.require_numbers,requireUppercase:i.require_uppercase,requireSpecialCharacters:i.require_symbols,minLength:i.min_length??6}),a&&(p.Cognito.mfa={status:wr(a),smsEnabled:o?.includes(`SMS`),totpEnabled:o?.includes(`TOTP`)}),s&&(p.Cognito.allowGuestAccess=s),c&&(p.Cognito.loginWith={oauth:{domain:c.domain,redirectSignIn:c.redirect_sign_in_uri,redirectSignOut:c.redirect_sign_out_uri,responseType:c.response_type===`token`?`token`:`code`,scopes:c.scopes,providers:Cr(c.identity_providers)}}),l&&(p.Cognito.loginWith={...p.Cognito.loginWith,email:l.includes(`email`),phone:l.includes(`phone_number`),username:l.includes(`username`)}),u&&(p.Cognito.userAttributes=u.reduce((e,t)=>({...e,[t]:{required:!0}}),{})),f&&(p.Cognito.passwordless={emailOtpEnabled:f.email_otp_enabled,smsOtpEnabled:f.sms_otp_enabled,webAuthn:f.web_authn?{relyingPartyId:f.web_authn.relying_party_id,userVerification:f.web_authn.user_verification}:void 0,preferredChallenge:f.preferred_challenge}),p}function mr(e){if(!e?.amazon_pinpoint)return;let{amazon_pinpoint:t}=e;return{Pinpoint:{appId:t.app_id,region:t.aws_region}}}function hr(e){if(!e)return;let{aws_region:t,geofence_collections:n,maps:r,search_indices:i}=e;return{LocationService:{region:t,searchIndices:i,geofenceCollections:n,maps:r}}}function gr(e){if(!e)return;let{aws_region:t,default_authorization_type:n,url:r,api_key:i,model_introspection:a}=e;return{GraphQL:{endpoint:r,defaultAuthMode:xr(n),region:t,apiKey:i,modelIntrospection:a}}}function _r(e){if(!e?.events)return;let{url:t,aws_region:n,api_key:r,default_authorization_type:i}=e.events;return{Events:{endpoint:t,defaultAuthMode:xr(i),region:n,apiKey:r}}}function vr(e){if(!e)return;let{aws_region:t,channels:n,amazon_pinpoint_app_id:r}=e,i=n.includes(`IN_APP_MESSAGING`),a=n.includes(`APNS`)||n.includes(`FCM`);if(!(i||a))return;let o={};return i&&(o.InAppMessaging={Pinpoint:{appId:r,region:t}}),a&&(o.PushNotification={Pinpoint:{appId:r,region:t}}),o}function yr(e){let t={};if(e.storage&&(t.Storage=fr(e.storage)),e.auth&&(t.Auth=pr(e.auth)),e.analytics&&(t.Analytics=mr(e.analytics)),e.geo&&(t.Geo=hr(e.geo)),e.data&&(t.API=gr(e.data)),e.custom){let n=_r(e.custom);n&&`Events`in n&&(t.API={...t.API,...n})}return e.notifications&&(t.Notifications=vr(e.notifications)),t}var br={AMAZON_COGNITO_USER_POOLS:`userPool`,API_KEY:`apiKey`,AWS_IAM:`iam`,AWS_LAMBDA:`lambda`,OPENID_CONNECT:`oidc`};function xr(e){return br[e]}var Sr={GOOGLE:`Google`,LOGIN_WITH_AMAZON:`Amazon`,FACEBOOK:`Facebook`,SIGN_IN_WITH_APPLE:`Apple`};function Cr(e=[]){return e.reduce((e,t)=>(Sr[t]!==void 0&&e.push(Sr[t]),e),[])}function wr(e){return e===`OPTIONAL`?`optional`:e===`REQUIRED`?`on`:`off`}function Tr(e){let t={};return e.forEach(({name:e,bucket_name:n,aws_region:r,paths:i})=>{if(e in t)throw Error(`Duplicate friendly name found: ${e}. Name must be unique.`);t[e]={bucketName:n,region:r,paths:i?Object.entries(i).reduce((e,[t,n])=>(n!==void 0&&(e[t]=n),e),{}):void 0}}),t}var Er=e=>Object.keys(e).some(e=>e.startsWith(`aws_`))?Qn(e):dr(e)?yr(e):e;function Dr(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||=Promise)(function(n,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){e.done?n(e.value):i(e.value).then(o,s)}c((r=r.apply(e,t||[])).next())})}function Or(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o=Object.create((typeof Iterator==`function`?Iterator:Object).prototype);return o.next=s(0),o.throw=s(1),o.return=s(2),typeof Symbol==`function`&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return c([e,t])}}function c(s){if(r)throw TypeError(`Generator is already executing.`);for(;o&&(o=0,s[0]&&(n=0)),n;)try{if(r=1,i&&(a=s[0]&2?i.return:s[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,s[1])).done)return a;switch(i=0,a&&(s=[s[0]&2,a.value]),s[0]){case 0:case 1:a=s;break;case 4:return n.label++,{value:s[1],done:!1};case 5:n.label++,i=s[1],s=[0];continue;case 7:s=n.ops.pop(),n.trys.pop();continue;default:if((a=n.trys,!(a=a.length>0&&a[a.length-1]))&&(s[0]===6||s[0]===2)){n=0;continue}if(s[0]===3&&(!a||s[1]>a[0]&&s[1]<a[3])){n.label=s[1];break}if(s[0]===6&&n.label<a[1]){n.label=a[1],a=s;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(s);break}a[2]&&n.ops.pop(),n.trys.pop();continue}s=t.call(e,n)}catch(e){s=[6,e],i=0}finally{r=a=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}var kr=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ar=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],jr=2**53-1,Mr=function(){function e(){this.state=Int32Array.from(Ar),this.temp=new Int32Array(64),this.buffer=new Uint8Array(64),this.bufferLength=0,this.bytesHashed=0,this.finished=!1}return e.prototype.update=function(e){if(this.finished)throw Error(`Attempted to update an already finished hash.`);var t=0,n=e.byteLength;if(this.bytesHashed+=n,this.bytesHashed*8>jr)throw Error(`Cannot hash more than 2^53 - 1 bits`);for(;n>0;)this.buffer[this.bufferLength++]=e[t++],n--,this.bufferLength===64&&(this.hashBuffer(),this.bufferLength=0)},e.prototype.digest=function(){if(!this.finished){var e=this.bytesHashed*8,t=new DataView(this.buffer.buffer,this.buffer.byteOffset,this.buffer.byteLength),n=this.bufferLength;if(t.setUint8(this.bufferLength++,128),n%64>=56){for(var r=this.bufferLength;r<64;r++)t.setUint8(r,0);this.hashBuffer(),this.bufferLength=0}for(var r=this.bufferLength;r<56;r++)t.setUint8(r,0);t.setUint32(56,Math.floor(e/4294967296),!0),t.setUint32(60,e),this.hashBuffer(),this.finished=!0}for(var i=new Uint8Array(32),r=0;r<8;r++)i[r*4]=this.state[r]>>>24&255,i[r*4+1]=this.state[r]>>>16&255,i[r*4+2]=this.state[r]>>>8&255,i[r*4+3]=this.state[r]>>>0&255;return i},e.prototype.hashBuffer=function(){for(var e=this,t=e.buffer,n=e.state,r=n[0],i=n[1],a=n[2],o=n[3],s=n[4],c=n[5],l=n[6],u=n[7],d=0;d<64;d++){if(d<16)this.temp[d]=(t[d*4]&255)<<24|(t[d*4+1]&255)<<16|(t[d*4+2]&255)<<8|t[d*4+3]&255;else{var f=this.temp[d-2],p=(f>>>17|f<<15)^(f>>>19|f<<13)^f>>>10;f=this.temp[d-15];var m=(f>>>7|f<<25)^(f>>>18|f<<14)^f>>>3;this.temp[d]=(p+this.temp[d-7]|0)+(m+this.temp[d-16]|0)}var h=(((s>>>6|s<<26)^(s>>>11|s<<21)^(s>>>25|s<<7))+(s&c^~s&l)|0)+(u+(kr[d]+this.temp[d]|0)|0)|0,g=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&a^i&a)|0;u=l,l=c,c=s,s=o+h|0,o=a,a=i,i=r,r=h+g|0}n[0]+=r,n[1]+=i,n[2]+=a,n[3]+=o,n[4]+=s,n[5]+=c,n[6]+=l,n[7]+=u},e}(),Nr=typeof Buffer<`u`&&Buffer.from?function(e){return Buffer.from(e,`utf8`)}:e=>new TextEncoder().encode(e);function Pr(e){return e instanceof Uint8Array?e:typeof e==`string`?Nr(e):ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength/Uint8Array.BYTES_PER_ELEMENT):new Uint8Array(e)}function Fr(e){return typeof e==`string`?e.length===0:e.byteLength===0}var Ir=function(){function e(e){this.secret=e,this.hash=new Mr,this.reset()}return e.prototype.update=function(e){if(!(Fr(e)||this.error))try{this.hash.update(Pr(e))}catch(e){this.error=e}},e.prototype.digestSync=function(){if(this.error)throw this.error;return this.outer?(this.outer.finished||this.outer.update(this.hash.digest()),this.outer.digest()):this.hash.digest()},e.prototype.digest=function(){return Dr(this,void 0,void 0,function(){return Or(this,function(e){return[2,this.digestSync()]})})},e.prototype.reset=function(){if(this.hash=new Mr,this.secret){this.outer=new Mr;var e=Lr(this.secret),t=new Uint8Array(64);t.set(e);for(var n=0;n<64;n++)e[n]^=54,t[n]^=92;this.hash.update(e),this.outer.update(t);for(var n=0;n<e.byteLength;n++)e[n]=0}},e}();function Lr(e){var t=Pr(e);if(t.byteLength>64){var n=new Mr;n.update(t),t=n.digest()}var r=new Uint8Array(64);return r.set(t),r}var Rr={},zr={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),Rr[e]=t,zr[t]=e}var Br;(function(e){e.WebUnknown=`0`,e.React=`1`,e.NextJs=`2`,e.Angular=`3`,e.VueJs=`4`,e.Nuxt=`5`,e.Svelte=`6`,e.ServerSideUnknown=`100`,e.ReactSSR=`101`,e.NextJsSSR=`102`,e.AngularSSR=`103`,e.VueJsSSR=`104`,e.NuxtSSR=`105`,e.SvelteSSR=`106`,e.ReactNative=`201`,e.Expo=`202`})(Br||={});var Vr;(function(e){e.AI=`ai`,e.API=`api`,e.Auth=`auth`,e.Analytics=`analytics`,e.DataStore=`datastore`,e.Geo=`geo`,e.InAppMessaging=`inappmessaging`,e.Interactions=`interactions`,e.Predictions=`predictions`,e.PubSub=`pubsub`,e.PushNotification=`pushnotification`,e.Storage=`storage`})(Vr||={});var Hr;(function(e){e.CreateConversation=`1`,e.GetConversation=`2`,e.ListConversations=`3`,e.DeleteConversation=`4`,e.SendMessage=`5`,e.ListMessages=`6`,e.OnMessage=`7`,e.Generation=`8`,e.UpdateConversation=`9`})(Hr||={});var Ur;(function(e){e.Record=`1`,e.IdentifyUser=`2`})(Ur||={});var Wr;(function(e){e.GraphQl=`1`,e.Get=`2`,e.Post=`3`,e.Put=`4`,e.Patch=`5`,e.Del=`6`,e.Head=`7`})(Wr||={});var Gr;(function(e){e.SignUp=`1`,e.ConfirmSignUp=`2`,e.ResendSignUpCode=`3`,e.SignIn=`4`,e.FetchMFAPreference=`6`,e.UpdateMFAPreference=`7`,e.SetUpTOTP=`10`,e.VerifyTOTPSetup=`11`,e.ConfirmSignIn=`12`,e.DeleteUserAttributes=`15`,e.DeleteUser=`16`,e.UpdateUserAttributes=`17`,e.FetchUserAttributes=`18`,e.ConfirmUserAttribute=`22`,e.SignOut=`26`,e.UpdatePassword=`27`,e.ResetPassword=`28`,e.ConfirmResetPassword=`29`,e.FederatedSignIn=`30`,e.RememberDevice=`32`,e.ForgetDevice=`33`,e.FetchDevices=`34`,e.SendUserAttributeVerificationCode=`35`,e.SignInWithRedirect=`36`,e.StartWebAuthnRegistration=`37`,e.CompleteWebAuthnRegistration=`38`,e.ListWebAuthnCredentials=`39`,e.DeleteWebAuthnCredential=`40`})(Gr||={});var Kr;(function(e){e.Subscribe=`1`,e.GraphQl=`2`})(Kr||={});var qr;(function(e){e.SearchByText=`0`,e.SearchByCoordinates=`1`,e.SearchForSuggestions=`2`,e.SearchByPlaceId=`3`,e.SaveGeofences=`4`,e.GetGeofence=`5`,e.ListGeofences=`6`,e.DeleteGeofences=`7`})(qr||={});var Jr;(function(e){e.SyncMessages=`1`,e.IdentifyUser=`2`,e.NotifyMessageInteraction=`3`})(Jr||={});var Yr;(function(e){e.None=`0`})(Yr||={});var Xr;(function(e){e.Convert=`1`,e.Identify=`2`,e.Interpret=`3`})(Xr||={});var Zr;(function(e){e.Subscribe=`1`})(Zr||={});var Qr;(function(e){e.InitializePushNotifications=`1`,e.IdentifyUser=`2`})(Qr||={});var $r;(function(e){e.UploadData=`1`,e.DownloadData=`2`,e.List=`3`,e.Copy=`4`,e.Remove=`5`,e.GetProperties=`6`,e.GetUrl=`7`,e.GetDataAccess=`8`,e.ListCallerAccessGrants=`9`})($r||={});var ei=`6.16.0`,ti=()=>typeof global<`u`,ni=()=>typeof window<`u`,ri=()=>typeof document<`u`,ii=()=>typeof process<`u`,ai=(e,t)=>!!Object.keys(e).find(e=>e.startsWith(t));function oi(){let e=e=>e.startsWith(`_react`)||e.startsWith(`__react`);return ri()&&(()=>Array.from(document.querySelectorAll(`[id]`)))().some(t=>Object.keys(t).find(e))}function si(){return ii()&&!!Object.keys({}).find(e=>e.includes(`react`))}function ci(){return ni()&&ai(window,`__VUE`)}function li(){return ti()&&ai(global,`__VUE`)}function ui(){return ni()&&ai(window,`__SVELTE`)}function di(){return ii()&&!!Object.keys({}).find(e=>e.includes(`svelte`))}function fi(){return ni()&&window.next&&typeof window.next==`object`}function pi(){return ti()&&(ai(global,`__next`)||ai(global,`__NEXT`))}function mi(){return ni()&&(window.__NUXT__!==void 0||window.$nuxt!==void 0)}function hi(){return ti()&&global.__NUXT_PATHS__!==void 0}function gi(){let e=!!(ri()&&document.querySelector(`[ng-version]`)),t=!!(ni()&&window.ng!==void 0);return e||t}function _i(){return ii()&&{}.npm_lifecycle_script?.startsWith(`ng `)||!1}function vi(){return typeof navigator<`u`&&navigator.product!==void 0&&navigator.product===`ReactNative`}function yi(){return ti()&&global.expo!==void 0}function bi(){return ni()}var xi=[{platform:Br.Expo,detectionMethod:yi},{platform:Br.ReactNative,detectionMethod:vi},{platform:Br.NextJs,detectionMethod:fi},{platform:Br.Nuxt,detectionMethod:mi},{platform:Br.Angular,detectionMethod:gi},{platform:Br.React,detectionMethod:oi},{platform:Br.VueJs,detectionMethod:ci},{platform:Br.Svelte,detectionMethod:ui},{platform:Br.WebUnknown,detectionMethod:bi},{platform:Br.NextJsSSR,detectionMethod:pi},{platform:Br.NuxtSSR,detectionMethod:hi},{platform:Br.ReactSSR,detectionMethod:si},{platform:Br.VueJsSSR,detectionMethod:li},{platform:Br.AngularSSR,detectionMethod:_i},{platform:Br.SvelteSSR,detectionMethod:di}];function Si(){return xi.find(e=>e.detectionMethod())?.platform||Br.ServerSideUnknown}var Ci,wi=[],Ti=!1,Ei=10,Di=10,Oi=1e3,ki=()=>{if(!Ci){if(Ci=Si(),Ti)for(;wi.length;)wi.pop()?.();else wi.forEach(e=>{e()});Mi(Br.ServerSideUnknown,Ei),Mi(Br.WebUnknown,Di)}return Ci},Ai=e=>{Ti||wi.push(e)};function ji(){Ci=void 0}function Mi(e,t){Ci===e&&!Ti&&setTimeout(()=>{ji(),Ti=!0,setTimeout(ki,Oi)},t)}var Ni={},Pi=(e,t)=>Ni[e]?.[t]?.additionalDetails,Fi=`aws-amplify`,Ii=e=>e.replace(/\+.*/,``);new class{constructor(){this.userAgent=`${Fi}/${Ii(ei)}`}get framework(){return ki()}get isReactNative(){return this.framework===Br.ReactNative||this.framework===Br.Expo}observeFrameworkChanges(e){Ai(e)}};var Li=({category:e,action:t}={})=>{let n=[[Fi,Ii(ei)]];if(e&&n.push([e,t]),n.push([`framework`,ki()]),e&&t){let r=Pi(e,t);r&&r.forEach(e=>{n.push(e)})}return n},Ri=e=>Li(e).map(([e,t])=>e&&t?`${e}/${t}`:e).join(` `),zi=()=>typeof window<`u`&&window.document!==void 0,Bi=new jn(`Auth`),Vi=class{configure(e,t){this.authConfig=e,this.authOptions=t,e&&e.Cognito?.userPoolEndpoint&&Bi.warn(Hi(`Amazon Cognito User Pool`)),e&&e.Cognito?.identityPoolEndpoint&&Bi.warn(Hi(`Amazon Cognito Identity Pool`))}async fetchAuthSession(e={}){let t,n,r=await this.getTokens(e);return r?(n=r.accessToken?.payload?.sub,t=await this.authOptions?.credentialsProvider?.getCredentialsAndIdentityId({authConfig:this.authConfig,tokens:r,authenticated:!0,forceRefresh:e.forceRefresh})):t=await this.authOptions?.credentialsProvider?.getCredentialsAndIdentityId({authConfig:this.authConfig,authenticated:!1,forceRefresh:e.forceRefresh}),{tokens:r,credentials:t?.credentials,identityId:t?.identityId,userSub:n}}async clearCredentials(){await this.authOptions?.credentialsProvider?.clearCredentialsAndIdentityId()}async getTokens(e){return await this.authOptions?.tokenProvider?.getTokens(e)??void 0}},Hi=e=>`You are using a custom Amazon ${e} endpoint, ensure the endpoint is correct.`,Ui=new class{constructor(){this.oAuthListener=void 0,this.isConfigured=!1,this.resourcesConfig={},this.libraryOptions={},this.Auth=new Vi}configure(e,t){this.resourcesConfig=Er(e),t&&(this.libraryOptions=t),this.resourcesConfig=Yn(this.resourcesConfig),this.Auth.configure(this.resourcesConfig.Auth,this.libraryOptions.Auth),(this.resourcesConfig.Analytics?.Pinpoint||this.resourcesConfig.Notifications?.InAppMessaging?.Pinpoint||this.resourcesConfig.Notifications?.PushNotification?.Pinpoint)&&console.warn(`AWS will end support for Amazon Pinpoint on October 30, 2026. The guidance is to use AWS End User Messaging for push notifications and SMS, Amazon Simple Email Service for sending emails, Amazon Connect for campaigns, journeys, endpoints, and engagement analytics. Pinpoint recommends Amazon Kinesis for event collection and mobile analytics.`),Ln.dispatch(`core`,{event:`configure`,data:this.resourcesConfig},`Configure`,Pn),this.notifyOAuthListener(),this.isConfigured=!0}getConfig(){return this.isConfigured||console.warn(`Amplify has not been configured. Please call Amplify.configure() before using this service.`),this.resourcesConfig}[nr](e){this.resourcesConfig.Auth?.Cognito.loginWith?.oauth?e(this.resourcesConfig.Auth?.Cognito):this.oAuthListener=e}notifyOAuthListener(){!this.resourcesConfig.Auth?.Cognito.loginWith?.oauth||!this.oAuthListener||(this.oAuthListener(this.resourcesConfig.Auth?.Cognito),this.oAuthListener=void 0)}},Wi=(e,t)=>e.Auth.fetchAuthSession(t),Gi=e=>Wi(Ui,e);function Ki(){return Ui.Auth.clearCredentials()}var qi=e=>{let{headers:t,statusCode:n}=e;return{...Ji(e)?e.$metadata:{},httpStatusCode:n,requestId:t[`x-amzn-requestid`]??t[`x-amzn-request-id`]??t[`x-amz-request-id`],extendedRequestId:t[`x-amz-id-2`],cfId:t[`x-amz-cf-id`]}},Ji=e=>typeof e?.$metadata==`object`,Yi=async e=>{if(!e||e.statusCode<300)return;let t=await Xi(e),n=(e=>{let[t]=e.toString().split(/[,:]+/);return t.includes(`#`)?t.split(`#`)[1]:t})(e.headers[`x-amzn-errortype`]??t.code??t.__type??`UnknownError`),r=t.message??t.Message??`Unknown error`,i=Error(r);return Object.assign(i,{name:n,$metadata:qi(e)})},Xi=async e=>{if(!e.body)throw Error(`Missing response payload`);let t=await e.body.json();return Object.assign(t,{$metadata:qi(e)})},Zi=(e,t,n,r)=>async(i,a)=>{let o={...r,...i};return n(await e(await t(a,await o.endpointResolver(o,a)),{...o}))},Qi=300*1e3;function $i(e=Qi){return t=>{let n=2**t*100+100*Math.random();return n>e?!1:n}}var ea=`amz-sdk-invocation-id`,ta=`amz-sdk-request`,na=300*1e3,ra=e=>{let t=$i(na)(e);return t===!1?na:t},ia=[`AuthFailure`,`InvalidSignatureException`,`RequestExpired`,`RequestInTheFuture`,`RequestTimeTooSkewed`,`SignatureDoesNotMatch`,`BadRequestException`],aa=e=>!!e&&ia.includes(e),oa=e=>async(t,n)=>{let r=n??await e(t)??void 0,i=r?.code||r?.name,a=t?.statusCode;return{retryable:ua(n)||la(a,i)||aa(i)||da(a,i)}},sa=[`BandwidthLimitExceeded`,`EC2ThrottledException`,`LimitExceededException`,`PriorRequestNotComplete`,`ProvisionedThroughputExceededException`,`RequestLimitExceeded`,`RequestThrottled`,`RequestThrottledException`,`SlowDown`,`ThrottledException`,`Throttling`,`ThrottlingException`,`TooManyRequestsException`],ca=[`TimeoutError`,`RequestTimeout`,`RequestTimeoutException`],la=(e,t)=>e===429||!!t&&sa.includes(t),ua=e=>[J.NetworkError,`ERR_NETWORK`].includes(e?.name),da=(e,t)=>!!e&&[500,502,503,504].includes(e)||!!t&&ca.includes(t),fa=`cognito-identity`,pa={service:fa,retryDecider:oa(Yi),computeDelay:ra,cache:`no-store`},ma=({maxAttempts:e=3,retryDecider:t,computeDelay:n,abortSignal:r})=>{if(e<1)throw Error(`maxAttempts must be greater than 0`);return(i,a)=>async function(o){let s,c=a.attemptsCount??0,l,u=()=>{if(l)return ga(l,c),l;throw ga(s,c),s};for(;!r?.aborted&&c<e;){try{l=await i(o),s=void 0}catch(e){s=e,l=void 0}c=(a.attemptsCount??0)>c?a.attemptsCount??0:c+1,a.attemptsCount=c;let{isCredentialsExpiredError:d,retryable:f}=await t(l,s,a);if(f){a.isCredentialsExpired=!!d,!r?.aborted&&c<e&&await ha(n(c),r);continue}else return u()}if(r?.aborted)throw Error(`Request aborted.`);return u()}},ha=(e,t)=>{if(t?.aborted)return Promise.resolve();let n,r,i=new Promise(t=>{r=t,n=setTimeout(t,e)});return t?.addEventListener(`abort`,function e(i){clearTimeout(n),t?.removeEventListener(`abort`,e),r()}),i},ga=(e,t)=>{Object.prototype.toString.call(e)===`[object Object]`&&(e.$metadata={...e.$metadata??{},attempts:t})},_a=ur,va=()=>e=>async function(t){return t.headers[`amz-sdk-invocation-id`]||(t.headers[ea]=_a()),e(t)},ya=({maxAttempts:e=3})=>(t,n)=>async function(r){let i=n.attemptsCount??0;return r.headers[ta]=`attempt=${i+1}; max=${e}`,t(r)},ba=({userAgentHeader:e=`x-amz-user-agent`,userAgentValue:t=``})=>n=>async function(r){if(t.trim().length===0)return await n(r);{let i=e.toLowerCase();return r.headers[i]=r.headers[i]?`${r.headers[i]} ${t}`:t,await n(r)}},xa=(e,t)=>(n,r)=>{let i={},a=t=>e(t,r);for(let e=t.length-1;e>=0;e--){let n=t[e];a=n(r)(a,i)}return a(n)},Sa=e=>{let t;return()=>(t||=e(),t)},Ca=e=>![`HEAD`,`GET`].includes(e.toUpperCase()),wa=xa(async({url:e,method:t,headers:n,body:r},{abortSignal:i,cache:a,withCrossDomainCredentials:o})=>{let s;try{s=await fetch(e,{method:t,headers:n,body:Ca(t)?r:void 0,signal:i,cache:a,credentials:o?`include`:`same-origin`})}catch(e){throw e instanceof TypeError?new Mn({name:J.NetworkError,message:`A network error has occurred.`,underlyingError:e}):e}let c={};s.headers?.forEach((e,t)=>{c[t.toLowerCase()]=e});let l={statusCode:s.status,headers:c,body:null},u=Object.assign(s.body??{},{text:Sa(()=>s.text()),blob:Sa(()=>s.blob()),json:Sa(()=>s.json())});return{...l,body:u}},[ba,va,ma,ya]),Ta=xa(wa,[()=>e=>async function(t){return t.headers[`cache-control`]=`no-store`,e(t)}]),Ea=e=>(t,n)=>Oa(n,Da(e),JSON.stringify(t)),Da=e=>({"content-type":`application/x-amz-json-1.1`,"x-amz-target":`AWSCognitoIdentityService.${e}`}),Oa=({url:e},t,n)=>({headers:t,url:e,body:n,method:`POST`}),ka=e=>Zi(Ta,Ea(`GetCredentialsForIdentity`),Aa,{...pa,...e,userAgentValue:Ri()}),Aa=async e=>{if(e.statusCode>=300)throw await Yi(e);let t=await Xi(e);return{IdentityId:t.IdentityId,Credentials:ja(t.Credentials),$metadata:qi(e)}},ja=({Expiration:e,...t}={})=>({...t,Expiration:e&&new Date(e*1e3)}),Ma=e=>Zi(Ta,Ea(`GetId`),Na,{...pa,...e,userAgentValue:Ri()}),Na=async e=>{if(e.statusCode>=300)throw await Yi(e);return{IdentityId:(await Xi(e)).IdentityId,$metadata:qi(e)}},Pa={id:`aws`,outputs:{dnsSuffix:`amazonaws.com`},regionRegex:`^(us|eu|ap|sa|ca|me|af)\\-\\w+\\-\\d+$`,regions:[`aws-global`]},Fa={partitions:[Pa,{id:`aws-cn`,outputs:{dnsSuffix:`amazonaws.com.cn`},regionRegex:`^cn\\-\\w+\\-\\d+$`,regions:[`aws-cn-global`]}]},Ia=e=>{let{partitions:t}=Fa;for(let{regions:n,outputs:r,regionRegex:i}of t){let t=new RegExp(i);if(n.includes(e)||t.test(e))return r.dnsSuffix}return Pa.outputs.dnsSuffix},La=URL,Ra=({region:e})=>({url:new La(`https://${fa}.${e}.${Ia(e)}`)}),za=class extends Mn{constructor(){super({name:J.PlatformNotSupported,message:`Function not supported on current platform`})}},Ba=class{constructor(e){this.storage=e}async setItem(e,t){if(!this.storage)throw new za;this.storage.setItem(e,t)}async getItem(e){if(!this.storage)throw new za;return this.storage.getItem(e)}async removeItem(e){if(!this.storage)throw new za;this.storage.removeItem(e)}async clear(){if(!this.storage)throw new za;this.storage.clear()}},Va=class{constructor(){this.storage=new Map}get length(){return this.storage.size}key(e){return e>this.length-1?null:Array.from(this.storage.keys())[e]}setItem(e,t){this.storage.set(e,t)}getItem(e){return this.storage.get(e)??null}removeItem(e){this.storage.delete(e)}clear(){this.storage.clear()}},Ha=new jn(`CoreStorageUtils`),Ua=()=>{try{if(typeof window<`u`&&window.localStorage)return window.localStorage}catch{Ha.info(`localStorage not found. InMemoryStorage is used as a fallback.`)}return new Va},Wa=()=>{try{if(typeof window<`u`&&window.sessionStorage)return window.sessionStorage.getItem(`test`),window.sessionStorage;throw Error(`sessionStorage is not defined`)}catch{return Ha.info(`sessionStorage not found. InMemoryStorage is used as a fallback.`),new Va}},Ga=class extends Ba{constructor(){super(Ua())}},Ka=class extends Ba{constructor(){super(Wa())}},qa=class{constructor(e){this._storage=e}get storage(){if(!this._storage)throw new za;return this._storage}setItem(e,t){this.storage.setItem(e,t)}getItem(e){return this.storage.getItem(e)}removeItem(e){this.storage.removeItem(e)}clear(){this.storage.clear()}},Ja=class extends qa{constructor(){super(Wa())}};function Ya(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}var Xa={read:function(e){return e[0]===`"`&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function Za(e,t){function n(n,r,i){if(!(typeof document>`u`)){i=Ya({},t,i),typeof i.expires==`number`&&(i.expires=new Date(Date.now()+i.expires*864e5)),i.expires&&=i.expires.toUTCString(),n=encodeURIComponent(n).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a=``;for(var o in i)i[o]&&(a+=`; `+o,i[o]!==!0&&(a+=`=`+i[o].split(`;`)[0]));return document.cookie=n+`=`+e.write(r,n)+a}}function r(t){if(!(typeof document>`u`||arguments.length&&!t)){for(var n=document.cookie?document.cookie.split(`; `):[],r={},i=0;i<n.length;i++){var a=n[i].split(`=`),o=a.slice(1).join(`=`);try{var s=decodeURIComponent(a[0]);if(r[s]=e.read(o,s),t===s)break}catch{}}return t?r[t]:r}}return Object.create({set:n,get:r,remove:function(e,t){n(e,``,Ya({},t,{expires:-1}))},withAttributes:function(e){return Za(this.converter,Ya({},this.attributes,e))},withConverter:function(e){return Za(Ya({},this.converter,e),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(e)}})}var Qa=Za(Xa,{path:`/`}),$a=class{constructor(e={}){let{path:t,domain:n,expires:r,sameSite:i,secure:a}=e;if(this.domain=n,this.path=t||`/`,this.expires=Object.prototype.hasOwnProperty.call(e,`expires`)?r:365,this.secure=Object.prototype.hasOwnProperty.call(e,`secure`)?a:!0,Object.prototype.hasOwnProperty.call(e,`sameSite`)){if(!i||![`strict`,`lax`,`none`].includes(i))throw Error(`The sameSite value of cookieStorage must be "lax", "strict" or "none".`);if(i===`none`&&!this.secure)throw Error(`sameSite = None requires the Secure attribute in latest browser versions.`);this.sameSite=i}}async setItem(e,t){Qa.set(e,t,this.getData())}async getItem(e){return Qa.get(e)??null}async removeItem(e){Qa.remove(e,this.getData())}async clear(){let e=Qa.get(),t=Object.keys(e).map(e=>this.removeItem(e));await Promise.all(t)}getData(){return{path:this.path,expires:this.expires,domain:this.domain,secure:this.secure,...this.sameSite&&{sameSite:this.sameSite}}}},eo=new Ga;new Ka;var to=new Ja;new Ba(new Va);var no=e=>{let t=[],n=new Uint8Array(e);zn().getRandomValues(n);for(let e of n)t.push(`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789`[e%62]);return t.join(``)};function ro(e){return(e.match(/.{2}/g)||[]).map(e=>String.fromCharCode(parseInt(e,16))).join(``)}function Y(e){return e.split(``).map(e=>e.charCodeAt(0).toString(16).padStart(2,`0`)).join(``)}var io=e=>{let t;return async(...n)=>t||(t=new Promise((r,i)=>{e(...n).then(e=>{r(e)}).catch(e=>{i(e)}).finally(()=>{t=void 0})}),t)};function ao({expiresAt:e,clockDrift:t,tolerance:n=5e3}){return Date.now()+t+n>e}var oo=async()=>{let{userAgentData:e}=navigator;if(!e)return navigator.userAgent;let{platform:t=``,platformVersion:n=``,model:r=``,architecture:i=``,fullVersionList:a=[]}=await e.getHighEntropyValues([`platform`,`platformVersion`,`architecture`,`model`,`fullVersionList`]);return[t,n,i,r,t,a.map(e=>`${e.brand}/${e.version}`).join(`;`)].filter(e=>e).join(` `)||navigator.userAgent};function so(e){return Array.from(e,e=>String.fromCodePoint(e)).join(``)}var co={convert(e,t={urlSafe:!1,skipPadding:!1}){let n=typeof e==`string`?e:so(e),r=Bn()(n);return t.urlSafe&&(r=r.replace(/\+/g,`-`).replace(/\//g,`_`)),t.skipPadding&&(r=r.replace(/=/g,``)),r}};function lo(){return zn().getRandomValues(new Uint32Array(1))[0]}function uo(e){let{words:t}=e,{sigBytes:n}=e,r=[];for(let e=0;e<n;e++){let n=t[e>>>2]>>>24-e%4*8&255;r.push((n>>>4).toString(16)),r.push((n&15).toString(16))}return r.join(``)}var fo=class e{constructor(e,t){this.words=[];let n=e;n=this.words=n||[],t===void 0?this.sigBytes=n.length*4:this.sigBytes=t}random(t){let n=[];for(let e=0;e<t;e+=4)n.push(lo());return new e(n,t)}toString(){return uo(this)}},po;(function(e){e.EmptySignInUsername=`EmptySignInUsername`,e.EmptySignInPassword=`EmptySignInPassword`,e.CustomAuthSignInPassword=`CustomAuthSignInPassword`,e.EmptySignUpUsername=`EmptySignUpUsername`,e.EmptySignUpPassword=`EmptySignUpPassword`,e.EmptyConfirmSignUpUsername=`EmptyConfirmSignUpUsername`,e.EmptyConfirmSignUpCode=`EmptyConfirmSignUpCode`,e.EmptyResendSignUpCodeUsername=`EmptyresendSignUpCodeUsername`,e.EmptyChallengeResponse=`EmptyChallengeResponse`,e.EmptyConfirmResetPasswordUsername=`EmptyConfirmResetPasswordUsername`,e.EmptyConfirmResetPasswordNewPassword=`EmptyConfirmResetPasswordNewPassword`,e.EmptyConfirmResetPasswordConfirmationCode=`EmptyConfirmResetPasswordConfirmationCode`,e.EmptyResetPasswordUsername=`EmptyResetPasswordUsername`,e.EmptyVerifyTOTPSetupCode=`EmptyVerifyTOTPSetupCode`,e.EmptyConfirmUserAttributeCode=`EmptyConfirmUserAttributeCode`,e.IncorrectMFAMethod=`IncorrectMFAMethod`,e.EmptyUpdatePassword=`EmptyUpdatePassword`,e.InvalidPreferredChallenge=`InvalidPreferredChallenge`})(po||={});var mo={[po.EmptyChallengeResponse]:{message:`challengeResponse is required to confirmSignIn`},[po.EmptyConfirmResetPasswordUsername]:{message:`username is required to confirmResetPassword`},[po.EmptyConfirmSignUpCode]:{message:`code is required to confirmSignUp`},[po.EmptyConfirmSignUpUsername]:{message:`username is required to confirmSignUp`},[po.EmptyConfirmResetPasswordConfirmationCode]:{message:`confirmationCode is required to confirmResetPassword`},[po.EmptyConfirmResetPasswordNewPassword]:{message:`newPassword is required to confirmResetPassword`},[po.EmptyResendSignUpCodeUsername]:{message:`username is required to confirmSignUp`},[po.EmptyResetPasswordUsername]:{message:`username is required to resetPassword`},[po.EmptySignInPassword]:{message:`password is required to signIn`},[po.EmptySignInUsername]:{message:`username is required to signIn`},[po.EmptySignUpPassword]:{message:`password is required to signUp`},[po.EmptySignUpUsername]:{message:`username is required to signUp`},[po.CustomAuthSignInPassword]:{message:`A password is not needed when signing in with CUSTOM_WITHOUT_SRP`,recoverySuggestion:`Do not include a password in your signIn call.`},[po.IncorrectMFAMethod]:{message:`Incorrect MFA method was chosen. It should be either SMS, TOTP, or EMAIL`,recoverySuggestion:`Try to pass SMS, TOTP, or EMAIL as the challengeResponse`},[po.EmptyVerifyTOTPSetupCode]:{message:`code is required to verifyTotpSetup`},[po.EmptyUpdatePassword]:{message:`oldPassword and newPassword are required to changePassword`},[po.EmptyConfirmUserAttributeCode]:{message:`confirmation code is required to confirmUserAttribute`},[po.InvalidPreferredChallenge]:{message:`The preferred challenge is not enabled in your backend configuration`,recoverySuggestion:`Ensure the authentication method is enabled in your Amplify backend configuration`}},ho;(function(e){e.DEFAULT_MSG=`Authentication Error`,e.EMPTY_EMAIL=`Email cannot be empty`,e.EMPTY_PHONE=`Phone number cannot be empty`,e.EMPTY_USERNAME=`Username cannot be empty`,e.INVALID_USERNAME=`The username should either be a string or one of the sign in types`,e.EMPTY_PASSWORD=`Password cannot be empty`,e.EMPTY_CODE=`Confirmation code cannot be empty`,e.SIGN_UP_ERROR=`Error creating account`,e.NO_MFA=`No valid MFA method provided`,e.INVALID_MFA=`Invalid MFA type`,e.EMPTY_CHALLENGE=`Challenge response cannot be empty`,e.NO_USER_SESSION=`Failed to get the session because the user is empty`,e.NETWORK_ERROR=`Network Error`,e.DEVICE_CONFIG=`Device tracking has not been configured in this User Pool`,e.AUTOSIGNIN_ERROR=`Please use your credentials to sign in`,e.OAUTH_ERROR=`Couldn't finish OAuth flow, check your User Pool HostedUI settings`})(ho||={});var go;(function(e){e.SignInException=`SignInException`,e.OAuthSignInError=`OAuthSignInException`})(go||={});var X=class e extends Mn{constructor(t){super(t),this.constructor=e,Object.setPrototypeOf(this,e.prototype)}};function _o(e,t){let{message:n,recoverySuggestion:r}=mo[t];if(!e)throw new X({name:t,message:n,recoverySuggestion:r})}function vo(e){let t=e?.split(`_`)[0];if(!e||e.indexOf(`_`)<0||!t||typeof t!=`string`)throw new X({name:`InvalidUserPoolId`,message:`Invalid user pool id provided.`});return t}function yo(e){if(!e||!e.includes(`:`))throw new X({name:`InvalidIdentityPoolIdException`,message:`Invalid identity pool id provided.`,recoverySuggestion:`Make sure a valid identityPoolId is given in the config.`});return e.split(`:`)[0]}function bo(e){return Object.entries(e).map(([e,t])=>({Name:e,Value:t}))}function xo(e){let t={};return e?.forEach(e=>{e.Name&&(t[e.Name]=e.Value)}),t}var So;(function(e){e.ConcurrentModificationException=`ConcurrentModificationException`,e.ForbiddenException=`ForbiddenException`,e.InternalErrorException=`InternalErrorException`,e.InvalidParameterException=`InvalidParameterException`,e.NotAuthorizedException=`NotAuthorizedException`,e.ResourceNotFoundException=`ResourceNotFoundException`,e.SoftwareTokenMFANotFoundException=`SoftwareTokenMFANotFoundException`})(So||={});var Co;(function(e){e.ForbiddenException=`ForbiddenException`,e.InternalErrorException=`InternalErrorException`,e.InvalidParameterException=`InvalidParameterException`,e.InvalidPasswordException=`InvalidPasswordException`,e.LimitExceededException=`LimitExceededException`,e.NotAuthorizedException=`NotAuthorizedException`,e.PasswordResetRequiredException=`PasswordResetRequiredException`,e.ResourceNotFoundException=`ResourceNotFoundException`,e.TooManyRequestsException=`TooManyRequestsException`,e.UserNotConfirmedException=`UserNotConfirmedException`,e.UserNotFoundException=`UserNotFoundException`})(Co||={});var wo;(function(e){e.ForbiddenException=`ForbiddenException`,e.InternalErrorException=`InternalErrorException`,e.InvalidLambdaResponseException=`InvalidLambdaResponseException`,e.InvalidParameterException=`InvalidParameterException`,e.InvalidPasswordException=`InvalidPasswordException`,e.InvalidUserPoolConfigurationException=`InvalidUserPoolConfigurationException`,e.NotAuthorizedException=`NotAuthorizedException`,e.PasswordResetRequiredException=`PasswordResetRequiredException`,e.ResourceNotFoundException=`ResourceNotFoundException`,e.TooManyRequestsException=`TooManyRequestsException`,e.UsernameExistsException=`UsernameExistsException`,e.UserNotConfirmedException=`UserNotConfirmedException`,e.UserNotFoundException=`UserNotFoundException`})(wo||={});var To;(function(e){e.CodeMismatchException=`CodeMismatchException`,e.ExpiredCodeException=`ExpiredCodeException`,e.ForbiddenException=`ForbiddenException`,e.InternalErrorException=`InternalErrorException`,e.InvalidLambdaResponseException=`InvalidLambdaResponseException`,e.InvalidParameterException=`InvalidParameterException`,e.InvalidPasswordException=`InvalidPasswordException`,e.LimitExceededException=`LimitExceededException`,e.NotAuthorizedException=`NotAuthorizedException`,e.ResourceNotFoundException=`ResourceNotFoundException`,e.TooManyFailedAttemptsException=`TooManyFailedAttemptsException`,e.TooManyRequestsException=`TooManyRequestsException`,e.UnexpectedLambdaException=`UnexpectedLambdaException`,e.UserLambdaValidationException=`UserLambdaValidationException`,e.UserNotConfirmedException=`UserNotConfirmedException`,e.UserNotFoundException=`UserNotFoundException`})(To||={});var Eo;(function(e){e.AliasExistsException=`AliasExistsException`,e.CodeMismatchException=`CodeMismatchException`,e.ExpiredCodeException=`ExpiredCodeException`,e.ForbiddenException=`ForbiddenException`,e.InternalErrorException=`InternalErrorException`,e.InvalidLambdaResponseException=`InvalidLambdaResponseException`,e.InvalidParameterException=`InvalidParameterException`,e.LimitExceededException=`LimitExceededException`,e.NotAuthorizedException=`NotAuthorizedException`,e.ResourceNotFoundException=`ResourceNotFoundException`,e.TooManyFailedAttemptsException=`TooManyFailedAttemptsException`,e.TooManyRequestsException=`TooManyRequestsException`,e.UnexpectedLambdaException=`UnexpectedLambdaException`,e.UserLambdaValidationException=`UserLambdaValidationException`,e.UserNotFoundException=`UserNotFoundException`})(Eo||={});var Do;(function(e){e.ForbiddenException=`ForbiddenException`,e.InternalErrorException=`InternalErrorException`,e.InvalidParameterException=`InvalidParameterException`,e.NotAuthorizedException=`NotAuthorizedException`,e.PasswordResetRequiredException=`PasswordResetRequiredException`,e.ResourceNotFoundException=`ResourceNotFoundException`,e.TooManyRequestsException=`TooManyRequestsException`,e.UserNotConfirmedException=`UserNotConfirmedException`,e.UserNotFoundException=`UserNotFoundException`})(Do||={});var Oo;(function(e){e.ForbiddenException=`ForbiddenException`,e.InternalErrorException=`InternalErrorException`,e.InvalidParameterException=`InvalidParameterException`,e.NotAuthorizedException=`NotAuthorizedException`,e.PasswordResetRequiredException=`PasswordResetRequiredException`,e.ResourceNotFoundException=`ResourceNotFoundException`,e.TooManyRequestsException=`TooManyRequestsException`,e.UserNotConfirmedException=`UserNotConfirmedException`,e.UserNotFoundException=`UserNotFoundException`})(Oo||={});var ko;(function(e){e.ForbiddenException=`ForbiddenException`,e.InternalErrorException=`InternalErrorException`,e.InvalidParameterException=`InvalidParameterException`,e.InvalidUserPoolConfigurationException=`InvalidUserPoolConfigurationException`,e.NotAuthorizedException=`NotAuthorizedException`,e.PasswordResetRequiredException=`PasswordResetRequiredException`,e.ResourceNotFoundException=`ResourceNotFoundException`,e.TooManyRequestsException=`TooManyRequestsException`,e.UserNotConfirmedException=`UserNotConfirmedException`,e.UserNotFoundException=`UserNotFoundException`})(ko||={});var Ao;(function(e){e.CodeDeliveryFailureException=`CodeDeliveryFailureException`,e.ForbiddenException=`ForbiddenException`,e.InternalErrorException=`InternalErrorException`,e.InvalidEmailRoleAccessPolicyException=`InvalidEmailRoleAccessPolicyException`,e.InvalidLambdaResponseException=`InvalidLambdaResponseException`,e.InvalidParameterException=`InvalidParameterException`,e.InvalidSmsRoleAccessPolicyException=`InvalidSmsRoleAccessPolicyException`,e.InvalidSmsRoleTrustRelationshipException=`InvalidSmsRoleTrustRelationshipException`,e.LimitExceededException=`LimitExceededException`,e.NotAuthorizedException=`NotAuthorizedException`,e.ResourceNotFoundException=`ResourceNotFoundException`,e.TooManyRequestsException=`TooManyRequestsException`,e.UnexpectedLambdaException=`UnexpectedLambdaException`,e.UserLambdaValidationException=`UserLambdaValidationException`,e.UserNotFoundException=`UserNotFoundException`})(Ao||={});var jo;(function(e){e.ForbiddenException=`ForbiddenException`,e.InternalErrorException=`InternalErrorException`,e.InvalidParameterException=`InvalidParameterException`,e.NotAuthorizedException=`NotAuthorizedException`,e.PasswordResetRequiredException=`PasswordResetRequiredException`,e.ResourceNotFoundException=`ResourceNotFoundException`,e.TooManyRequestsException=`TooManyRequestsException`,e.UserNotConfirmedException=`UserNotConfirmedException`,e.UserNotFoundException=`UserNotFoundException`})(jo||={});var Mo;(function(e){e.ExternalServiceException=`ExternalServiceException`,e.InternalErrorException=`InternalErrorException`,e.InvalidParameterException=`InvalidParameterException`,e.LimitExceededException=`LimitExceededException`,e.NotAuthorizedException=`NotAuthorizedException`,e.ResourceConflictException=`ResourceConflictException`,e.ResourceNotFoundException=`ResourceNotFoundException`,e.TooManyRequestsException=`TooManyRequestsException`})(Mo||={});var No;(function(e){e.ExternalServiceException=`ExternalServiceException`,e.InternalErrorException=`InternalErrorException`,e.InvalidIdentityPoolConfigurationException=`InvalidIdentityPoolConfigurationException`,e.InvalidParameterException=`InvalidParameterException`,e.NotAuthorizedException=`NotAuthorizedException`,e.ResourceConflictException=`ResourceConflictException`,e.ResourceNotFoundException=`ResourceNotFoundException`,e.TooManyRequestsException=`TooManyRequestsException`})(No||={});var Po;(function(e){e.CodeDeliveryFailureException=`CodeDeliveryFailureException`,e.ForbiddenException=`ForbiddenException`,e.InternalErrorException=`InternalErrorException`,e.InvalidEmailRoleAccessPolicyException=`InvalidEmailRoleAccessPolicyException`,e.InvalidLambdaResponseException=`InvalidLambdaResponseException`,e.InvalidParameterException=`InvalidParameterException`,e.InvalidSmsRoleAccessPolicyException=`InvalidSmsRoleAccessPolicyException`,e.InvalidSmsRoleTrustRelationshipException=`InvalidSmsRoleTrustRelationshipException`,e.LimitExceededException=`LimitExceededException`,e.NotAuthorizedException=`NotAuthorizedException`,e.PasswordResetRequiredException=`PasswordResetRequiredException`,e.ResourceNotFoundException=`ResourceNotFoundException`,e.TooManyRequestsException=`TooManyRequestsException`,e.UnexpectedLambdaException=`UnexpectedLambdaException`,e.UserLambdaValidationException=`UserLambdaValidationException`,e.UserNotConfirmedException=`UserNotConfirmedException`,e.UserNotFoundException=`UserNotFoundException`})(Po||={});var Fo;(function(e){e.ForbiddenException=`ForbiddenException`,e.InternalErrorException=`InternalErrorException`,e.InvalidParameterException=`InvalidParameterException`,e.NotAuthorizedException=`NotAuthorizedException`,e.PasswordResetRequiredException=`PasswordResetRequiredException`,e.ResourceNotFoundException=`ResourceNotFoundException`,e.TooManyRequestsException=`TooManyRequestsException`,e.UserNotConfirmedException=`UserNotConfirmedException`})(Fo||={});var Io;(function(e){e.PasswordResetRequiredException=`PasswordResetRequiredException`,e.ForbiddenException=`ForbiddenException`,e.InternalErrorException=`InternalErrorException`,e.InvalidLambdaResponseException=`InvalidLambdaResponseException`,e.InvalidParameterException=`InvalidParameterException`,e.InvalidSmsRoleAccessPolicyException=`InvalidSmsRoleAccessPolicyException`,e.InvalidSmsRoleTrustRelationshipException=`InvalidSmsRoleTrustRelationshipException`,e.InvalidUserPoolConfigurationException=`InvalidUserPoolConfigurationException`,e.NotAuthorizedException=`NotAuthorizedException`,e.ResourceNotFoundException=`ResourceNotFoundException`,e.TooManyRequestsException=`TooManyRequestsException`,e.UnexpectedLambdaException=`UnexpectedLambdaException`,e.UserLambdaValidationException=`UserLambdaValidationException`,e.UserNotConfirmedException=`UserNotConfirmedException`,e.UserNotFoundException=`UserNotFoundException`})(Io||={});var Lo;(function(e){e.CodeDeliveryFailureException=`CodeDeliveryFailureException`,e.ForbiddenException=`ForbiddenException`,e.InternalErrorException=`InternalErrorException`,e.InvalidEmailRoleAccessPolicyException=`InvalidEmailRoleAccessPolicyException`,e.InvalidLambdaResponseException=`InvalidLambdaResponseException`,e.InvalidParameterException=`InvalidParameterException`,e.InvalidSmsRoleAccessPolicyException=`InvalidSmsRoleAccessPolicyException`,e.InvalidSmsRoleTrustRelationshipException=`InvalidSmsRoleTrustRelationshipException`,e.LimitExceededException=`LimitExceededException`,e.NotAuthorizedException=`NotAuthorizedException`,e.ResourceNotFoundException=`ResourceNotFoundException`,e.TooManyRequestsException=`TooManyRequestsException`,e.UnexpectedLambdaException=`UnexpectedLambdaException`,e.UserLambdaValidationException=`UserLambdaValidationException`,e.UserNotFoundException=`UserNotFoundException`})(Lo||={});var Ro;(function(e){e.AliasExistsException=`AliasExistsException`,e.CodeMismatchException=`CodeMismatchException`,e.ExpiredCodeException=`ExpiredCodeException`,e.ForbiddenException=`ForbiddenException`,e.InternalErrorException=`InternalErrorException`,e.InvalidLambdaResponseException=`InvalidLambdaResponseException`,e.InvalidParameterException=`InvalidParameterException`,e.InvalidPasswordException=`InvalidPasswordException`,e.InvalidSmsRoleAccessPolicyException=`InvalidSmsRoleAccessPolicyException`,e.InvalidSmsRoleTrustRelationshipException=`InvalidSmsRoleTrustRelationshipException`,e.InvalidUserPoolConfigurationException=`InvalidUserPoolConfigurationException`,e.MFAMethodNotFoundException=`MFAMethodNotFoundException`,e.NotAuthorizedException=`NotAuthorizedException`,e.PasswordResetRequiredException=`PasswordResetRequiredException`,e.ResourceNotFoundException=`ResourceNotFoundException`,e.SoftwareTokenMFANotFoundException=`SoftwareTokenMFANotFoundException`,e.TooManyRequestsException=`TooManyRequestsException`,e.UnexpectedLambdaException=`UnexpectedLambdaException`,e.UserLambdaValidationException=`UserLambdaValidationException`,e.UserNotConfirmedException=`UserNotConfirmedException`,e.UserNotFoundException=`UserNotFoundException`})(Ro||={});var zo;(function(e){e.ForbiddenException=`ForbiddenException`,e.InternalErrorException=`InternalErrorException`,e.InvalidParameterException=`InvalidParameterException`,e.NotAuthorizedException=`NotAuthorizedException`,e.PasswordResetRequiredException=`PasswordResetRequiredException`,e.ResourceNotFoundException=`ResourceNotFoundException`,e.UserNotConfirmedException=`UserNotConfirmedException`,e.UserNotFoundException=`UserNotFoundException`})(zo||={});var Bo;(function(e){e.CodeDeliveryFailureException=`CodeDeliveryFailureException`,e.InternalErrorException=`InternalErrorException`,e.InvalidEmailRoleAccessPolicyException=`InvalidEmailRoleAccessPolicyException`,e.InvalidLambdaResponseException=`InvalidLambdaResponseException`,e.InvalidParameterException=`InvalidParameterException`,e.InvalidPasswordException=`InvalidPasswordException`,e.InvalidSmsRoleAccessPolicyException=`InvalidSmsRoleAccessPolicyException`,e.InvalidSmsRoleTrustRelationshipException=`InvalidSmsRoleTrustRelationshipException`,e.NotAuthorizedException=`NotAuthorizedException`,e.ResourceNotFoundException=`ResourceNotFoundException`,e.TooManyRequestsException=`TooManyRequestsException`,e.UnexpectedLambdaException=`UnexpectedLambdaException`,e.UserLambdaValidationException=`UserLambdaValidationException`,e.UsernameExistsException=`UsernameExistsException`})(Bo||={});var Vo;(function(e){e.AliasExistsException=`AliasExistsException`,e.CodeDeliveryFailureException=`CodeDeliveryFailureException`,e.CodeMismatchException=`CodeMismatchException`,e.ExpiredCodeException=`ExpiredCodeException`,e.ForbiddenException=`ForbiddenException`,e.InternalErrorException=`InternalErrorException`,e.InvalidEmailRoleAccessPolicyException=`InvalidEmailRoleAccessPolicyException`,e.InvalidLambdaResponseException=`InvalidLambdaResponseException`,e.InvalidParameterException=`InvalidParameterException`,e.InvalidSmsRoleAccessPolicyException=`InvalidSmsRoleAccessPolicyException`,e.InvalidSmsRoleTrustRelationshipException=`InvalidSmsRoleTrustRelationshipException`,e.NotAuthorizedException=`NotAuthorizedException`,e.PasswordResetRequiredException=`PasswordResetRequiredException`,e.ResourceNotFoundException=`ResourceNotFoundException`,e.TooManyRequestsException=`TooManyRequestsException`,e.UnexpectedLambdaException=`UnexpectedLambdaException`,e.UserLambdaValidationException=`UserLambdaValidationException`,e.UserNotConfirmedException=`UserNotConfirmedException`,e.UserNotFoundException=`UserNotFoundException`})(Vo||={});var Ho;(function(e){e.CodeMismatchException=`CodeMismatchException`,e.EnableSoftwareTokenMFAException=`EnableSoftwareTokenMFAException`,e.ForbiddenException=`ForbiddenException`,e.InternalErrorException=`InternalErrorException`,e.InvalidParameterException=`InvalidParameterException`,e.InvalidUserPoolConfigurationException=`InvalidUserPoolConfigurationException`,e.NotAuthorizedException=`NotAuthorizedException`,e.PasswordResetRequiredException=`PasswordResetRequiredException`,e.ResourceNotFoundException=`ResourceNotFoundException`,e.SoftwareTokenMFANotFoundException=`SoftwareTokenMFANotFoundException`,e.TooManyRequestsException=`TooManyRequestsException`,e.UserNotConfirmedException=`UserNotConfirmedException`,e.UserNotFoundException=`UserNotFoundException`})(Ho||={});var Uo;(function(e){e.AliasExistsException=`AliasExistsException`,e.CodeMismatchException=`CodeMismatchException`,e.ExpiredCodeException=`ExpiredCodeException`,e.ForbiddenException=`ForbiddenException`,e.InternalErrorException=`InternalErrorException`,e.InvalidParameterException=`InvalidParameterException`,e.LimitExceededException=`LimitExceededException`,e.NotAuthorizedException=`NotAuthorizedException`,e.PasswordResetRequiredException=`PasswordResetRequiredException`,e.ResourceNotFoundException=`ResourceNotFoundException`,e.TooManyRequestsException=`TooManyRequestsException`,e.UserNotConfirmedException=`UserNotConfirmedException`,e.UserNotFoundException=`UserNotFoundException`})(Uo||={});var Wo;(function(e){e.ForbiddenException=`ForbiddenException`,e.InternalErrorException=`InternalErrorException`,e.InvalidParameterException=`InvalidParameterException`,e.InvalidUserPoolConfigurationException=`InvalidUserPoolConfigurationException`,e.NotAuthorizedException=`NotAuthorizedException`,e.PasswordResetRequiredException=`PasswordResetRequiredException`,e.ResourceNotFoundException=`ResourceNotFoundException`,e.TooManyRequestsException=`TooManyRequestsException`,e.UserNotConfirmedException=`UserNotConfirmedException`,e.UserNotFoundException=`UserNotFoundException`})(Wo||={});var Go;(function(e){e.ForbiddenException=`ForbiddenException`,e.InternalErrorException=`InternalErrorException`,e.InvalidParameterException=`InvalidParameterException`,e.InvalidUserPoolConfigurationException=`InvalidUserPoolConfigurationException`,e.NotAuthorizedException=`NotAuthorizedException`,e.PasswordResetRequiredException=`PasswordResetRequiredException`,e.ResourceNotFoundException=`ResourceNotFoundException`,e.TooManyRequestsException=`TooManyRequestsException`,e.UserNotConfirmedException=`UserNotConfirmedException`,e.UserNotFoundException=`UserNotFoundException`})(Go||={});var Ko=`UserUnAuthenticatedException`,qo=`UserAlreadyAuthenticatedException`,Jo=`DeviceMetadataNotFoundException`,Yo=`InvalidRedirectException`,Xo=`InvalidAppSchemeException`,Zo=`InvalidPreferredRedirectUrlException`,Qo=new X({name:Yo,message:`signInRedirect or signOutRedirect had an invalid format or was not found.`,recoverySuggestion:`Please make sure the signIn/Out redirect in your oauth config is valid.`});new X({name:Xo,message:`A valid non-http app scheme was not found in the config.`,recoverySuggestion:`Please make sure a valid custom app scheme is present in the config.`});var $o=new X({name:Zo,message:`The given preferredRedirectUrl does not match any items in the redirectSignOutUrls array from the config.`,recoverySuggestion:`Please make sure a matching preferredRedirectUrl is provided.`}),es=new X({name:`InvalidOriginException`,message:`redirect is coming from a different origin. The oauth flow needs to be initiated from the same origin`,recoverySuggestion:`Please call signInWithRedirect from the same origin.`}),ts=`OAuthSignOutException`,ns=`TokenRefreshException`,rs=`UnexpectedSignInInterruptionException`;function is(e){if(!e||!e.accessToken)throw new X({name:Ko,message:`User needs to be authenticated to call this API.`,recoverySuggestion:`Sign in before calling this API again.`})}function as(e){if(!e||!e.idToken)throw new X({name:Ko,message:`User needs to be authenticated to call this API.`,recoverySuggestion:`Sign in before calling this API again.`})}var os=new X({name:ns,message:`Token refresh is not supported when authenticated with the 'implicit grant' (token) oauth flow. 
	Please change your oauth configuration to use 'code grant' flow.`,recoverySuggestion:`Please logout and change your Amplify configuration to use "code grant" flow. 
	E.g { responseType: 'code' }`}),ss=new X({name:Ko,message:`User needs to be authenticated to call this API.`,recoverySuggestion:`Sign in before calling this API again.`});function cs(e){if(ps(e))throw os;if(!fs(e))throw ss}function ls(e){if(!e||!e.deviceKey||!e.deviceGroupKey||!e.randomPassword)throw new X({name:Jo,message:`Either deviceKey, deviceGroupKey or secretPassword were not found during the sign-in process.`,recoverySuggestion:`Make sure to not clear storage after calling the signIn API.`})}var us={inflightOAuth:`inflightOAuth`,oauthSignIn:`oauthSignIn`,oauthPKCE:`oauthPKCE`,oauthState:`oauthState`};function ds(e){return e?.accessToken||e?.idToken}function fs(e){return ds(e)&&e?.refreshToken}function ps(e){return ds(e)&&!e?.refreshToken}var ms=async e=>{let t=e.getConfig().Auth?.Cognito;Gn(t);let n=await e.Auth.getTokens({forceRefresh:!1});is(n);let{"cognito:username":r,sub:i}=n.idToken?.payload??{},a={username:r,userId:i},o=hs(n);return o&&(a.signInDetails=o),a};function hs(e){return e?.signInDetails}var gs=async()=>ms(Ui),_s=(e,t)=>Ri({category:Vr.Auth,action:e,...t}),vs=e=>(t,n)=>bs(n,ys(e),JSON.stringify(t)),ys=e=>({"content-type":`application/x-amz-json-1.1`,"x-amz-target":`AWSCognitoIdentityProviderService.${e}`}),bs=({url:e},t,n)=>({headers:t,url:e,body:n,method:`POST`});function xs(e){if(!e||e.name===`Error`||e instanceof TypeError)throw new X({name:J.Unknown,message:`An unknown error has occurred.`,underlyingError:e})}var Ss=()=>async e=>{if(e.statusCode>=300){let t=await Yi(e);throw xs(t),new X({name:t.name,message:t.message,metadata:t.$metadata})}return Xi(e)},Cs=xa(wa,[()=>(e,t)=>async function(t){return t.headers[`cache-control`]=`no-store`,e(t)}]),ws=`cognito-idp`,Ts={service:ws,retryDecider:oa(Yi),computeDelay:ra,get userAgentValue(){return Ri()},cache:`no-store`},Es=e=>Zi(Cs,vs(`InitiateAuth`),Ss(),{...Ts,...e}),Ds=e=>Zi(Cs,vs(`RespondToAuthChallenge`),Ss(),{...Ts,...e}),Os=e=>Zi(Cs,vs(`AssociateSoftwareToken`),Ss(),{...Ts,...e}),ks=({region:e})=>({url:new La(`https://${ws}.${e}.${Ia(e)}`)}),As=({endpointOverride:e})=>t=>e?{url:new La(e)}:ks(t),js=e=>Zi(Cs,vs(`GetTokensFromRefreshToken`),Ss(),{...Ts,...e}),Ms=io(async({tokens:e,authConfig:t,username:n,clientMetadata:r})=>{Gn(t?.Cognito);let{userPoolId:i,userPoolClientId:a,userPoolEndpoint:o}=t.Cognito,s=vo(i);cs(e);let{AuthenticationResult:c}=await js({endpointResolver:As({endpointOverride:o})})({region:s},{ClientId:a,RefreshToken:e.refreshToken,DeviceKey:e.deviceMetadata?.deviceKey,ClientMetadata:r}),l=Jn(c?.AccessToken??``),u=c?.IdToken?Jn(c.IdToken):void 0,{iat:d}=l.payload;if(!d)throw new X({name:`iatNotFoundException`,message:`iat not found in access token`});return{accessToken:l,idToken:u,clockDrift:d*1e3-new Date().getTime(),refreshToken:c?.RefreshToken??e.refreshToken,username:n}}),Ns={accessToken:`accessToken`,idToken:`idToken`,oidcProvider:`oidcProvider`,clockDrift:`clockDrift`,refreshToken:`refreshToken`,deviceKey:`deviceKey`,randomPasswordKey:`randomPasswordKey`,deviceGroupKey:`deviceGroupKey`,signInDetails:`signInDetails`,oauthMetadata:`oauthMetadata`},Ps;(function(e){e.InvalidAuthTokens=`InvalidAuthTokens`})(Ps||={});var Fs=Nn({[Ps.InvalidAuthTokens]:{message:`Invalid tokens.`,recoverySuggestion:`Make sure the tokens are valid.`}}),Is=`CognitoIdentityServiceProvider`,Ls=class{getKeyValueStorage(){if(!this.keyValueStorage)throw new X({name:`KeyValueStorageNotFoundException`,message:`KeyValueStorage was not found in TokenStore`});return this.keyValueStorage}setKeyValueStorage(e){this.keyValueStorage=e}setAuthConfig(e){this.authConfig=e}async loadTokens(){try{let e=await this.getAuthKeys(),t=await this.getKeyValueStorage().getItem(e.accessToken);if(!t)throw new X({name:`NoSessionFoundException`,message:`Auth session was not found. Make sure to call signIn.`});let n=Jn(t),r=await this.getKeyValueStorage().getItem(e.idToken),i=r?Jn(r):void 0,a=await this.getKeyValueStorage().getItem(e.refreshToken)??void 0,o=await this.getKeyValueStorage().getItem(e.clockDrift)??`0`,s=Number.parseInt(o),c=await this.getKeyValueStorage().getItem(e.signInDetails),l={accessToken:n,idToken:i,refreshToken:a,deviceMetadata:await this.getDeviceMetadata()??void 0,clockDrift:s,username:await this.getLastAuthUser()};return c&&(l.signInDetails=JSON.parse(c)),l}catch{return null}}async storeTokens(e){Fs(e!==void 0,Ps.InvalidAuthTokens);let t=e.username;await this.getKeyValueStorage().setItem(this.getLastAuthUserKey(),t);let n=await this.getAuthKeys();await this.getKeyValueStorage().setItem(n.accessToken,e.accessToken.toString()),e.idToken?await this.getKeyValueStorage().setItem(n.idToken,e.idToken.toString()):await this.getKeyValueStorage().removeItem(n.idToken),e.refreshToken?await this.getKeyValueStorage().setItem(n.refreshToken,e.refreshToken):await this.getKeyValueStorage().removeItem(n.refreshToken),e.deviceMetadata&&(e.deviceMetadata.deviceKey&&await this.getKeyValueStorage().setItem(n.deviceKey,e.deviceMetadata.deviceKey),e.deviceMetadata.deviceGroupKey&&await this.getKeyValueStorage().setItem(n.deviceGroupKey,e.deviceMetadata.deviceGroupKey),await this.getKeyValueStorage().setItem(n.randomPasswordKey,e.deviceMetadata.randomPassword)),e.signInDetails?await this.getKeyValueStorage().setItem(n.signInDetails,JSON.stringify(e.signInDetails)):await this.getKeyValueStorage().removeItem(n.signInDetails),await this.getKeyValueStorage().setItem(n.clockDrift,`${e.clockDrift}`)}async clearTokens(){let e=await this.getAuthKeys();await Promise.all([this.getKeyValueStorage().removeItem(e.accessToken),this.getKeyValueStorage().removeItem(e.idToken),this.getKeyValueStorage().removeItem(e.clockDrift),this.getKeyValueStorage().removeItem(e.refreshToken),this.getKeyValueStorage().removeItem(e.signInDetails),this.getKeyValueStorage().removeItem(this.getLastAuthUserKey()),this.getKeyValueStorage().removeItem(e.oauthMetadata)])}async getDeviceMetadata(e){let t=await this.getAuthKeys(e),n=await this.getKeyValueStorage().getItem(t.deviceKey),r=await this.getKeyValueStorage().getItem(t.deviceGroupKey),i=await this.getKeyValueStorage().getItem(t.randomPasswordKey);return i&&r&&n?{deviceKey:n,deviceGroupKey:r,randomPassword:i}:null}async clearDeviceMetadata(e){let t=await this.getAuthKeys(e);await Promise.all([this.getKeyValueStorage().removeItem(t.deviceKey),this.getKeyValueStorage().removeItem(t.deviceGroupKey),this.getKeyValueStorage().removeItem(t.randomPasswordKey)])}async getAuthKeys(e){Gn(this.authConfig?.Cognito);let t=e??await this.getLastAuthUser();return Rs(Is,`${this.authConfig.Cognito.userPoolClientId}.${t}`)}getLastAuthUserKey(){return Gn(this.authConfig?.Cognito),`${Is}.${this.authConfig.Cognito.userPoolClientId}.LastAuthUser`}async getLastAuthUser(){return await this.getKeyValueStorage().getItem(this.getLastAuthUserKey())??`username`}async setOAuthMetadata(e){let{oauthMetadata:t}=await this.getAuthKeys();await this.getKeyValueStorage().setItem(t,JSON.stringify(e))}async getOAuthMetadata(){let{oauthMetadata:e}=await this.getAuthKeys(),t=await this.getKeyValueStorage().getItem(e);return t&&JSON.parse(t)}},Rs=(e,t)=>zs(Ns)(`${e}`,t);function zs(e){let t=Object.values({...e});return(e,n)=>t.reduce((t,r)=>({...t,[r]:`${e}.${n}.${r}`}),{})}var Bs=`amplify-signin-with-hostedUI`,Vs=`CognitoIdentityServiceProvider`,Hs=class{constructor(e){this.keyValueStorage=e}async clearOAuthInflightData(){Gn(this.cognitoConfig);let e=Us(Vs,this.cognitoConfig.userPoolClientId);await Promise.all([this.keyValueStorage.removeItem(e.inflightOAuth),this.keyValueStorage.removeItem(e.oauthPKCE),this.keyValueStorage.removeItem(e.oauthState)])}async clearOAuthData(){Gn(this.cognitoConfig);let e=Us(Vs,this.cognitoConfig.userPoolClientId);return await this.clearOAuthInflightData(),await this.keyValueStorage.removeItem(Bs),this.keyValueStorage.removeItem(e.oauthSignIn)}loadOAuthState(){Gn(this.cognitoConfig);let e=Us(Vs,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.getItem(e.oauthState)}storeOAuthState(e){Gn(this.cognitoConfig);let t=Us(Vs,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.setItem(t.oauthState,e)}loadPKCE(){Gn(this.cognitoConfig);let e=Us(Vs,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.getItem(e.oauthPKCE)}storePKCE(e){Gn(this.cognitoConfig);let t=Us(Vs,this.cognitoConfig.userPoolClientId);return this.keyValueStorage.setItem(t.oauthPKCE,e)}setAuthConfig(e){this.cognitoConfig=e}async loadOAuthInFlight(){Gn(this.cognitoConfig);let e=Us(Vs,this.cognitoConfig.userPoolClientId);return await this.keyValueStorage.getItem(e.inflightOAuth)===`true`}async storeOAuthInFlight(e){Gn(this.cognitoConfig);let t=Us(Vs,this.cognitoConfig.userPoolClientId);await this.keyValueStorage.setItem(t.inflightOAuth,`${e}`)}async loadOAuthSignIn(){Gn(this.cognitoConfig);let e=Us(Vs,this.cognitoConfig.userPoolClientId),t=await this.keyValueStorage.getItem(Bs),[n,r]=(await this.keyValueStorage.getItem(e.oauthSignIn))?.split(`,`)??[];return{isOAuthSignIn:n===`true`||t===`true`,preferPrivateSession:r===`true`}}async storeOAuthSignIn(e,t=!1){Gn(this.cognitoConfig);let n=Us(Vs,this.cognitoConfig.userPoolClientId);await this.keyValueStorage.setItem(n.oauthSignIn,`${e},${t}`)}},Us=(e,t)=>zs(us)(e,t),Ws=new Hs(eo),Gs=[],Ks=e=>{Gs.push(e)},qs=()=>{for(;Gs.length;)Gs.pop()?.()},Js=class{constructor(){this.waitForInflightOAuth=zi()?async()=>{if(await Ws.loadOAuthInFlight())return this.inflightPromise||=new Promise((e,t)=>{Ks(e)}),this.inflightPromise}:async()=>{}}setAuthConfig(e){Ws.setAuthConfig(e.Cognito),this.authConfig=e}setTokenRefresher(e){this.tokenRefresher=e}setAuthTokenStore(e){this.tokenStore=e}getTokenStore(){if(!this.tokenStore)throw new X({name:`EmptyTokenStoreException`,message:`TokenStore not set`});return this.tokenStore}getTokenRefresher(){if(!this.tokenRefresher)throw new X({name:`EmptyTokenRefresherException`,message:`TokenRefresher not set`});return this.tokenRefresher}setClientMetadataProvider(e){this.clientMetadataProvider=e}async getTokens(e){let t;try{Gn(this.authConfig?.Cognito)}catch{return null}await this.waitForInflightOAuth(),this.inflightPromise=void 0,t=await this.getTokenStore().loadTokens();let n=await this.getTokenStore().getLastAuthUser();if(t===null)return null;let r=!!t?.idToken&&ao({expiresAt:(t.idToken?.payload?.exp??0)*1e3,clockDrift:t.clockDrift??0}),i=ao({expiresAt:(t.accessToken?.payload?.exp??0)*1e3,clockDrift:t.clockDrift??0});return(e?.forceRefresh||r||i)&&(t=await this.refreshTokens({tokens:t,username:n,clientMetadata:e?.clientMetadata??await this.clientMetadataProvider?.()}),t===null)?null:{accessToken:t?.accessToken,idToken:t?.idToken,signInDetails:t?.signInDetails}}async refreshTokens({tokens:e,username:t,clientMetadata:n}){try{let{signInDetails:r}=e,i=await this.getTokenRefresher()({tokens:e,authConfig:this.authConfig,username:t,clientMetadata:n});return i.signInDetails=r,await this.setTokens({tokens:i}),Ln.dispatch(`auth`,{event:`tokenRefresh`},`Auth`,Pn),i}catch(e){return this.handleErrors(e)}}handleErrors(e){if(xs(e),this.isAuthenticationError(e)&&this.clearTokens(),Ln.dispatch(`auth`,{event:`tokenRefresh_failure`,data:{error:e}},`Auth`,Pn),e.name.startsWith(`NotAuthorizedException`))return null;throw e}isAuthenticationError(e){return[`NotAuthorizedException`,`TokenRevokedException`,`UserNotFoundException`,`PasswordResetRequiredException`,`UserNotConfirmedException`,`RefreshTokenReuseException`].some(t=>e?.name?.startsWith?.(t))}async setTokens({tokens:e}){return this.getTokenStore().storeTokens(e)}async clearTokens(){return this.getTokenStore().clearTokens()}getDeviceMetadata(e){return this.getTokenStore().getDeviceMetadata(e)}clearDeviceMetadata(e){return this.getTokenStore().clearDeviceMetadata(e)}setOAuthMetadata(e){return this.getTokenStore().setOAuthMetadata(e)}getOAuthMetadata(){return this.getTokenStore().getOAuthMetadata()}},Ys=new class{constructor(){this.authTokenStore=new Ls,this.authTokenStore.setKeyValueStorage(eo),this.tokenOrchestrator=new Js,this.tokenOrchestrator.setAuthTokenStore(this.authTokenStore),this.tokenOrchestrator.setTokenRefresher(Ms)}getTokens(e={}){return this.tokenOrchestrator.getTokens(e)}setKeyValueStorage(e){this.authTokenStore.setKeyValueStorage(e)}setClientMetadataProvider(e){this.tokenOrchestrator.setClientMetadataProvider(e)}setAuthConfig(e){this.authTokenStore.setAuthConfig(e),this.tokenOrchestrator.setAuthConfig(e)}},{tokenOrchestrator:Xs}=Ys;async function Zs(e){if(e.AccessToken){let t=Jn(e.AccessToken),n=(t.payload.iat||0)*1e3,r=new Date().getTime(),i=n>0?n-r:0,a,o,s;e.RefreshToken&&(o=e.RefreshToken),e.IdToken&&(a=Jn(e.IdToken)),e?.NewDeviceMetadata&&(s=e.NewDeviceMetadata);let c={accessToken:t,idToken:a,refreshToken:o,clockDrift:i,deviceMetadata:s,username:e.username};e?.signInDetails&&(c.signInDetails=e.signInDetails),await Xs.setTokens({tokens:c})}else throw new Mn({message:`Invalid tokens`,name:`InvalidTokens`,recoverySuggestion:`Check Cognito UserPool settings`})}var Qs=`Unable to get user session following successful sign-in.`,$s=async()=>{try{Ln.dispatch(`auth`,{event:`signedIn`,data:await gs()},`Auth`,Pn)}catch(e){throw e.name===`UserUnAuthenticatedException`?new X({name:rs,message:Qs,recoverySuggestion:`This most likely is due to auth tokens not being persisted. If you are using cookie store, please ensure cookies can be correctly set from your server.`}):e}};function ec(){return{active:!1}}var tc=(e=>{let t=e(ec(),{type:`RESET`});return{getState:()=>t,dispatch:n=>{t=e(t,n)}}})((e,t)=>{switch(t.type){case`SET_USERNAME`:return{...e,username:t.value};case`SET_SESSION`:return{...e,session:t.value};case`START`:return{...e,active:!0};case`RESET`:return ec();default:return e}}),nc=180*1e3,rc=`CognitoSignInState`,ic={username:`${rc}.username`,challengeName:`${rc}.challengeName`,signInSession:`${rc}.signInSession`,expiry:`${rc}.expiry`},ac=(e,t)=>{switch(t.type){case`SET_SIGN_IN_SESSION`:return pc({signInSession:t.value}),{...e,signInSession:t.value};case`SET_SIGN_IN_STATE`:return pc(t.value),{...t.value};case`SET_CHALLENGE_NAME`:return pc({challengeName:t.value}),{...e,challengeName:t.value};case`SET_USERNAME`:return pc({username:t.value}),{...e,username:t.value};case`SET_INITIAL_STATE`:return uc();case`RESET_STATE`:return cc(),lc();default:return e}},oc=e=>Number(e)<=Date.now(),sc=()=>{dc.dispatch({type:`RESET_STATE`})},cc=()=>{for(let e of Object.values(ic))to.removeItem(e)},lc=()=>({username:void 0,challengeName:void 0,signInSession:void 0}),uc=()=>{let e=to.getItem(ic.expiry);return!e||oc(e)?(cc(),lc()):{username:to.getItem(ic.username)??void 0,challengeName:to.getItem(ic.challengeName)??void 0,signInSession:to.getItem(ic.signInSession)??void 0}},dc=(e=>{let t=e(lc(),{type:`SET_INITIAL_STATE`});return{getState:()=>t,dispatch:n=>{t=e(t,n)}}})(ac);function fc(e){dc.dispatch({type:`SET_SIGN_IN_STATE`,value:e})}var pc=({challengeName:e,signInSession:t,username:n})=>{n&&to.setItem(ic.username,n),e&&to.setItem(ic.challengeName,e),t&&(to.setItem(ic.signInSession,t),to.setItem(ic.expiry,String(Date.now()+nc)))},mc=`Passkeys may not be supported on this device. Ensure your application is running in a secure context (HTTPS) and Web Authentication API is supported.`,hc=class e extends Mn{constructor(t){super(t),this.constructor=e,Object.setPrototypeOf(this,e.prototype)}},gc;(function(e){e.PasskeyNotSupported=`PasskeyNotSupported`,e.PasskeyAlreadyExists=`PasskeyAlreadyExists`,e.InvalidPasskeyRegistrationOptions=`InvalidPasskeyRegistrationOptions`,e.InvalidPasskeyAuthenticationOptions=`InvalidPasskeyAuthenticationOptions`,e.RelyingPartyMismatch=`RelyingPartyMismatch`,e.PasskeyRegistrationFailed=`PasskeyRegistrationFailed`,e.PasskeyRetrievalFailed=`PasskeyRetrievalFailed`,e.PasskeyRegistrationCanceled=`PasskeyRegistrationCanceled`,e.PasskeyAuthenticationCanceled=`PasskeyAuthenticationCanceled`,e.PasskeyOperationAborted=`PasskeyOperationAborted`})(gc||={});var _c=`User may have canceled the ceremony or another interruption has occurred. Check underlying error for details.`,vc=`Ensure your user pool is configured to support the WEB_AUTHN as an authentication factor.`,yc={[gc.PasskeyNotSupported]:{message:`Passkeys may not be supported on this device.`,recoverySuggestion:mc},[gc.InvalidPasskeyRegistrationOptions]:{message:`Invalid passkey registration options.`,recoverySuggestion:vc},[gc.InvalidPasskeyAuthenticationOptions]:{message:`Invalid passkey authentication options.`,recoverySuggestion:vc},[gc.PasskeyRegistrationFailed]:{message:`Device failed to create passkey.`,recoverySuggestion:mc},[gc.PasskeyRetrievalFailed]:{message:`Device failed to retrieve passkey.`,recoverySuggestion:`Passkeys may not be available on this device. Try an alternative authentication factor like PASSWORD, EMAIL_OTP, or SMS_OTP.`},[gc.PasskeyAlreadyExists]:{message:`Passkey already exists in authenticator.`,recoverySuggestion:`Proceed with existing passkey or try again after deleting the credential.`},[gc.PasskeyRegistrationCanceled]:{message:`Passkey registration ceremony has been canceled.`,recoverySuggestion:_c},[gc.PasskeyAuthenticationCanceled]:{message:`Passkey authentication ceremony has been canceled.`,recoverySuggestion:_c},[gc.PasskeyOperationAborted]:{message:`Passkey operation has been aborted.`,recoverySuggestion:_c},[gc.RelyingPartyMismatch]:{message:`Relying party does not match current domain.`,recoverySuggestion:`Ensure relying party identifier matches current domain.`}},bc=Nn(yc,hc),xc=e=>{if(e instanceof Error){if(e.name===`AbortError`){let{message:t,recoverySuggestion:n}=yc[gc.PasskeyOperationAborted];return new hc({name:gc.PasskeyOperationAborted,message:t,recoverySuggestion:n,underlyingError:e})}if(e.name===`SecurityError`){let{message:t,recoverySuggestion:n}=yc[gc.RelyingPartyMismatch];return new hc({name:gc.RelyingPartyMismatch,message:t,recoverySuggestion:n,underlyingError:e})}}return new hc({name:J.Unknown,message:`An unknown error has occurred.`,underlyingError:e})},Sc=e=>{if(e instanceof hc)return e;if(e instanceof Error&&e.name===`NotAllowedError`){let{message:t,recoverySuggestion:n}=yc[gc.PasskeyAuthenticationCanceled];return new hc({name:gc.PasskeyAuthenticationCanceled,message:t,recoverySuggestion:n,underlyingError:e})}return xc(e)},Cc=()=>zi()&&window.isSecureContext&&`credentials`in navigator&&typeof window.PublicKeyCredential==`function`,wc=e=>co.convert(new Uint8Array(e),{urlSafe:!0,skipPadding:!0}),Tc=e=>Uint8Array.from(Hn.convert(e,{urlSafe:!0}),e=>e.charCodeAt(0)).buffer,Ec=e=>{let t=Tc(e.challenge),n=(e.allowCredentials||[]).map(e=>({...e,id:Tc(e.id)}));return{...e,challenge:t,allowCredentials:n}},Dc=e=>{let t={clientDataJSON:wc(e.response.clientDataJSON),authenticatorData:wc(e.response.authenticatorData),signature:wc(e.response.signature)};e.response.userHandle&&(t.userHandle=wc(e.response.userHandle));let n={id:e.id,rawId:wc(e.rawId),type:e.type,clientExtensionResults:e.getClientExtensionResults(),response:t};return e.authenticatorAttachment&&(n.authenticatorAttachment=e.authenticatorAttachment),n};function Oc(e){bc(e&&e instanceof PublicKeyCredential&&e.response instanceof AuthenticatorAssertionResponse,gc.PasskeyRetrievalFailed)}var kc=async e=>{try{bc(Cc(),gc.PasskeyNotSupported);let t=Ec(e),n=await navigator.credentials.get({publicKey:t});return Oc(n),Dc(n)}catch(e){throw Sc(e)}},Ac=e=>Zi(Cs,vs(`ConfirmDevice`),Ss(),{...Ts,...e}),jc={convert(e){return new TextEncoder().encode(e)}};function Z(e,t){e!=null&&this.fromString(e,t)}function Mc(){return new Z(null,null)}var Nc;function Pc(e,t,n,r,i,a){for(;--a>=0;){let a=t*this[e++]+n[r]+i;i=Math.floor(a/67108864),n[r++]=a&67108863}return i}function Fc(e,t,n,r,i,a){let o=t&32767,s=t>>15;for(;--a>=0;){let t=this[e]&32767,a=this[e++]>>15,c=s*t+a*o;t=o*t+((c&32767)<<15)+n[r]+(i&1073741823),i=(t>>>30)+(c>>>15)+s*a+(i>>>30),n[r++]=t&1073741823}return i}function Ic(e,t,n,r,i,a){let o=t&16383,s=t>>14;for(;--a>=0;){let t=this[e]&16383,a=this[e++]>>14,c=s*t+a*o;t=o*t+((c&16383)<<14)+n[r]+i,i=(t>>28)+(c>>14)+s*a,n[r++]=t&268435455}return i}var Lc=typeof navigator<`u`;Lc&&navigator.appName===`Microsoft Internet Explorer`?(Z.prototype.am=Fc,Nc=30):Lc&&navigator.appName!==`Netscape`?(Z.prototype.am=Pc,Nc=26):(Z.prototype.am=Ic,Nc=28),Z.prototype.DB=Nc,Z.prototype.DM=(1<<Nc)-1,Z.prototype.DV=1<<Nc;var Rc=52;Z.prototype.FV=2**Rc,Z.prototype.F1=Rc-Nc,Z.prototype.F2=2*Nc-Rc;var zc=`0123456789abcdefghijklmnopqrstuvwxyz`,Bc=[],Vc=48,Hc;for(Hc=0;Hc<=9;++Hc)Bc[Vc++]=Hc;for(Vc=97,Hc=10;Hc<36;++Hc)Bc[Vc++]=Hc;for(Vc=65,Hc=10;Hc<36;++Hc)Bc[Vc++]=Hc;function Uc(e){return zc.charAt(e)}function Wc(e,t){return Bc[e.charCodeAt(t)]??-1}function Gc(e){for(let t=this.t-1;t>=0;--t)e[t]=this[t];e.t=this.t,e.s=this.s}function Kc(e){this.t=1,this.s=e<0?-1:0,e>0?this[0]=e:e<-1?this[0]=e+this.DV:this.t=0}function qc(e){let t=Mc();return t.fromInt(e),t}function Jc(e,t){let n;if(t===16)n=4;else if(t===8)n=3;else if(t===2)n=1;else if(t===32)n=5;else if(t===4)n=2;else throw Error(`Only radix 2, 4, 8, 16, 32 are supported`);this.t=0,this.s=0;let r=e.length,i=!1,a=0;for(;--r>=0;){let t=Wc(e,r);if(t<0){e.charAt(r)===`-`&&(i=!0);continue}i=!1,a===0?this[this.t++]=t:a+n>this.DB?(this[this.t-1]|=(t&(1<<this.DB-a)-1)<<a,this[this.t++]=t>>this.DB-a):this[this.t-1]|=t<<a,a+=n,a>=this.DB&&(a-=this.DB)}this.clamp(),i&&Z.ZERO.subTo(this,this)}function Yc(){let e=this.s&this.DM;for(;this.t>0&&this[this.t-1]==e;)--this.t}function Xc(e){if(this.s<0)return`-`+this.negate().toString(e);let t;if(e==16)t=4;else if(e===8)t=3;else if(e===2)t=1;else if(e===32)t=5;else if(e===4)t=2;else throw Error(`Only radix 2, 4, 8, 16, 32 are supported`);let n=(1<<t)-1,r,i=!1,a=``,o=this.t,s=this.DB-o*this.DB%t;if(o-- >0)for(s<this.DB&&(r=this[o]>>s)>0&&(i=!0,a=Uc(r));o>=0;)s<t?(r=(this[o]&(1<<s)-1)<<t-s,r|=this[--o]>>(s+=this.DB-t)):(r=this[o]>>(s-=t)&n,s<=0&&(s+=this.DB,--o)),r>0&&(i=!0),i&&(a+=Uc(r));return i?a:`0`}function Zc(){let e=Mc();return Z.ZERO.subTo(this,e),e}function Qc(){return this.s<0?this.negate():this}function $c(e){let t=this.s-e.s;if(t!=0)return t;let n=this.t;if(t=n-e.t,t!=0)return this.s<0?-t:t;for(;--n>=0;)if((t=this[n]-e[n])!=0)return t;return 0}function el(e){let t=1,n;return(n=e>>>16)!=0&&(e=n,t+=16),(n=e>>8)!=0&&(e=n,t+=8),(n=e>>4)!=0&&(e=n,t+=4),(n=e>>2)!=0&&(e=n,t+=2),(n=e>>1)!=0&&(e=n,t+=1),t}function tl(){return this.t<=0?0:this.DB*(this.t-1)+el(this[this.t-1]^this.s&this.DM)}function nl(e,t){let n;for(n=this.t-1;n>=0;--n)t[n+e]=this[n];for(n=e-1;n>=0;--n)t[n]=0;t.t=this.t+e,t.s=this.s}function rl(e,t){for(let n=e;n<this.t;++n)t[n-e]=this[n];t.t=Math.max(this.t-e,0),t.s=this.s}function il(e,t){let n=e%this.DB,r=this.DB-n,i=(1<<r)-1,a=Math.floor(e/this.DB),o=this.s<<n&this.DM,s;for(s=this.t-1;s>=0;--s)t[s+a+1]=this[s]>>r|o,o=(this[s]&i)<<n;for(s=a-1;s>=0;--s)t[s]=0;t[a]=o,t.t=this.t+a+1,t.s=this.s,t.clamp()}function al(e,t){t.s=this.s;let n=Math.floor(e/this.DB);if(n>=this.t){t.t=0;return}let r=e%this.DB,i=this.DB-r,a=(1<<r)-1;t[0]=this[n]>>r;for(let e=n+1;e<this.t;++e)t[e-n-1]|=(this[e]&a)<<i,t[e-n]=this[e]>>r;r>0&&(t[this.t-n-1]|=(this.s&a)<<i),t.t=this.t-n,t.clamp()}function ol(e,t){let n=0,r=0,i=Math.min(e.t,this.t);for(;n<i;)r+=this[n]-e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r-=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r-=e[n],t[n++]=r&this.DM,r>>=this.DB;r-=e.s}t.s=r<0?-1:0,r<-1?t[n++]=this.DV+r:r>0&&(t[n++]=r),t.t=n,t.clamp()}function sl(e,t){let n=this.abs(),r=e.abs(),i=n.t;for(t.t=i+r.t;--i>=0;)t[i]=0;for(i=0;i<r.t;++i)t[i+n.t]=n.am(0,r[i],t,i,0,n.t);t.s=0,t.clamp(),this.s!==e.s&&Z.ZERO.subTo(t,t)}function cl(e){let t=this.abs(),n=e.t=2*t.t;for(;--n>=0;)e[n]=0;for(n=0;n<t.t-1;++n){let r=t.am(n,t[n],e,2*n,0,1);(e[n+t.t]+=t.am(n+1,2*t[n],e,2*n+1,r,t.t-n-1))>=t.DV&&(e[n+t.t]-=t.DV,e[n+t.t+1]=1)}e.t>0&&(e[e.t-1]+=t.am(n,t[n],e,2*n,0,1)),e.s=0,e.clamp()}function ll(e,t,n){let r=e.abs();if(r.t<=0)return;let i=this.abs();if(i.t<r.t){t?.fromInt(0),n!=null&&this.copyTo(n);return}n===null&&(n=Mc());let a=Mc(),o=this.s,s=e.s,c=this.DB-el(r[r.t-1]);c>0?(r.lShiftTo(c,a),i.lShiftTo(c,n)):(r.copyTo(a),i.copyTo(n));let l=a.t,u=a[l-1];if(u===0)return;let d=u*(1<<this.F1)+(l>1?a[l-2]>>this.F2:0),f=this.FV/d,p=(1<<this.F1)/d,m=1<<this.F2,h=n.t,g=h-l,_=t===null?Mc():t;for(a.dlShiftTo(g,_),n.compareTo(_)>=0&&(n[n.t++]=1,n.subTo(_,n)),Z.ONE.dlShiftTo(l,_),_.subTo(a,a);a.t<l;)a[a.t++]=0;for(;--g>=0;){let e=n[--h]===u?this.DM:Math.floor(n[h]*f+(n[h-1]+m)*p);if((n[h]+=a.am(0,e,n,g,0,l))<e)for(a.dlShiftTo(g,_),n.subTo(_,n);n[h]<--e;)n.subTo(_,n)}t!==null&&(n.drShiftTo(l,t),o!==s&&Z.ZERO.subTo(t,t)),n.t=l,n.clamp(),c>0&&n.rShiftTo(c,n),o<0&&Z.ZERO.subTo(n,n)}function ul(e){let t=Mc();return this.abs().divRemTo(e,null,t),this.s<0&&t.compareTo(Z.ZERO)>0&&e.subTo(t,t),t}function dl(){if(this.t<1)return 0;let e=this[0];if(!(e&1))return 0;let t=e&3;return t=t*(2-(e&15)*t)&15,t=t*(2-(e&255)*t)&255,t=t*(2-((e&65535)*t&65535))&65535,t=t*(2-e*t%this.DV)%this.DV,t>0?this.DV-t:-t}function fl(e){return this.compareTo(e)===0}function pl(e,t){let n=0,r=0,i=Math.min(e.t,this.t);for(;n<i;)r+=this[n]+e[n],t[n++]=r&this.DM,r>>=this.DB;if(e.t<this.t){for(r+=e.s;n<this.t;)r+=this[n],t[n++]=r&this.DM,r>>=this.DB;r+=this.s}else{for(r+=this.s;n<e.t;)r+=e[n],t[n++]=r&this.DM,r>>=this.DB;r+=e.s}t.s=r<0?-1:0,r>0?t[n++]=r:r<-1&&(t[n++]=this.DV+r),t.t=n,t.clamp()}function ml(e){let t=Mc();return this.addTo(e,t),t}function hl(e){let t=Mc();return this.subTo(e,t),t}function gl(e){let t=Mc();return this.multiplyTo(e,t),t}function _l(e){let t=Mc();return this.divRemTo(e,t,null),t}function vl(e){this.m=e,this.mp=e.invDigit(),this.mpl=this.mp&32767,this.mph=this.mp>>15,this.um=(1<<e.DB-15)-1,this.mt2=2*e.t}function yl(e){let t=Mc();return e.abs().dlShiftTo(this.m.t,t),t.divRemTo(this.m,null,t),e.s<0&&t.compareTo(Z.ZERO)>0&&this.m.subTo(t,t),t}function bl(e){let t=Mc();return e.copyTo(t),this.reduce(t),t}function xl(e){for(;e.t<=this.mt2;)e[e.t++]=0;for(let t=0;t<this.m.t;++t){let n=e[t]&32767,r=n*this.mpl+((n*this.mph+(e[t]>>15)*this.mpl&this.um)<<15)&e.DM;for(n=t+this.m.t,e[n]+=this.m.am(0,r,e,t,0,this.m.t);e[n]>=e.DV;)e[n]-=e.DV,e[++n]++}e.clamp(),e.drShiftTo(this.m.t,e),e.compareTo(this.m)>=0&&e.subTo(this.m,e)}function Sl(e,t){e.squareTo(t),this.reduce(t)}function Cl(e,t,n){e.multiplyTo(t,n),this.reduce(n)}vl.prototype.convert=yl,vl.prototype.revert=bl,vl.prototype.reduce=xl,vl.prototype.mulTo=Cl,vl.prototype.sqrTo=Sl;function wl(e,t,n){let r=e.bitLength(),i,a=qc(1),o=new vl(t);if(r<=0)return a;i=r<18?1:r<48?3:r<144?4:r<768?5:6;let s=[],c=3,l=i-1,u=(1<<i)-1;if(s[1]=o.convert(this),i>1){let e=Mc();for(o.sqrTo(s[1],e);c<=u;)s[c]=Mc(),o.mulTo(e,s[c-2],s[c]),c+=2}let d=e.t-1,f,p=!0,m=Mc(),h;for(r=el(e[d])-1;d>=0;){for(r>=l?f=e[d]>>r-l&u:(f=(e[d]&(1<<r+1)-1)<<l-r,d>0&&(f|=e[d-1]>>this.DB+r-l)),c=i;!(f&1);)f>>=1,--c;if((r-=c)<0&&(r+=this.DB,--d),p)s[f].copyTo(a),p=!1;else{for(;c>1;)o.sqrTo(a,m),o.sqrTo(m,a),c-=2;c>0?o.sqrTo(a,m):(h=a,a=m,m=h),o.mulTo(m,s[f],a)}for(;d>=0&&!(e[d]&1<<r);)o.sqrTo(a,m),h=a,a=m,m=h,--r<0&&(r=this.DB-1,--d)}let g=o.revert(a);return n(null,g),g}Z.prototype.copyTo=Gc,Z.prototype.fromInt=Kc,Z.prototype.fromString=Jc,Z.prototype.clamp=Yc,Z.prototype.dlShiftTo=nl,Z.prototype.drShiftTo=rl,Z.prototype.lShiftTo=il,Z.prototype.rShiftTo=al,Z.prototype.subTo=ol,Z.prototype.multiplyTo=sl,Z.prototype.squareTo=cl,Z.prototype.divRemTo=ll,Z.prototype.invDigit=dl,Z.prototype.addTo=pl,Z.prototype.toString=Xc,Z.prototype.negate=Zc,Z.prototype.abs=Qc,Z.prototype.compareTo=$c,Z.prototype.bitLength=tl,Z.prototype.mod=ul,Z.prototype.equals=fl,Z.prototype.add=ml,Z.prototype.subtract=hl,Z.prototype.multiply=gl,Z.prototype.divide=_l,Z.prototype.modPow=wl,Z.ZERO=qc(0),Z.ONE=qc(1);var Tl=async({a:e,g:t,k:n,x:r,B:i,N:a,U:o})=>new Promise((s,c)=>{t.modPow(r,a,(t,l)=>{if(t){c(t);return}i.subtract(n.multiply(l)).modPow(e.add(o.multiply(r)),a,(e,t)=>{if(e){c(e);return}s(t.mod(a))})})}),El=`FFFFFFFFFFFFFFFFC90FDAA22168C234C4C6628B80DC1CD129024E088A67CC74020BBEA63B139B22514A08798E3404DDEF9519B3CD3A431B302B0A6DF25F14374FE1356D6D51C245E485B576625E7EC6F44C42E9A637ED6B0BFF5CB6F406B7EDEE386BFB5A899FA5AE9F24117C4B1FE649286651ECE45B3DC2007CB8A163BF0598DA48361C55D39A69163FA8FD24CF5F83655D23DCA3AD961C62F356208552BB9ED529077096966D670C354E4ABC9804F1746C08CA18217C32905E462E36CE3BE39E772C180E86039B2783A2EC07A28FB5C55DF06F4C52C9DE2BCBF6955817183995497CEA956AE515D2261898FA051015728E5A8AAAC42DAD33170D04507A33A85521ABDF1CBA64ECFB850458DBEF0A8AEA71575D060C7DB3970F85A6E1E4C7ABF5AE8CDB0933D71E8C94E04A25619DCEE3D2261AD2EE6BF12FFA06D98A0864D87602733EC86A64521F2B18177B200CBBE117577A615D6C770988C0BAD946E208E24FA074E5AB3143DB5BFCE0FD108E4B82D120A93AD2CAFFFFFFFFFFFFFFFF`,Dl={},Ol={};for(let e=0;e<256;e++){let t=e.toString(16).toLowerCase();t.length===1&&(t=`0${t}`),Dl[e]=t,Ol[t]=e}var kl=e=>{if(e.length%2!=0)throw Error(`Hex encoded strings must have an even number length`);let t=new Uint8Array(e.length/2);for(let n=0;n<e.length;n+=2){let r=e.slice(n,n+2).toLowerCase();if(r in Ol)t[n/2]=Ol[r];else throw Error(`Cannot decode unrecognized sequence ${r} as hexadecimal`)}return t},Al=e=>{let t=``;for(let n=0;n<e.byteLength;n++)t+=Dl[e[n]];return t},jl=e=>{let t=new Ir;t.update(e);let n=Al(t.digestSync());return Array(64-n.length).join(`0`)+n},Ml=e=>jl(kl(e)),Nl=/^[89a-f]/i,Pl=e=>{if(!(e instanceof Z))throw Error(`Not a BigInteger`);let t=e.compareTo(Z.ZERO)<0,n=e.abs().toString(16);return n=n.length%2==0?n:`0${n}`,n=Nl.test(n)?`00${n}`:n,t&&(n=new Z(n.split(``).map(e=>{let t=~parseInt(e,16)&15;return`0123456789ABCDEF`.charAt(t)}).join(``),16).add(Z.ONE).toString(16),n.toUpperCase().startsWith(`FF8`)&&(n=n.substring(2))),n},Fl=({A:e,B:t})=>{let n=new Z(Ml(Pl(e)+Pl(t)),16);if(n.equals(Z.ZERO))throw Error(`U cannot be zero.`);return n},Il=(e,t,n)=>{let r=new Ir(t);r.update(e);let i=new Ir(r.digestSync());return i.update(n),i.digestSync().slice(0,16)},Ll=e=>kl(new fo().random(e).toString()),Rl=()=>co.convert(Ll(40)),zl=class{constructor({userPoolName:e,a:t,g:n,A:r,N:i}){this.encoder=jc,this.userPoolName=e,this.a=t,this.g=n,this.A=r,this.N=i,this.k=new Z(Ml(`${Pl(i)}${Pl(n)}`),16)}getRandomPassword(){if(!this.randomPassword)throw new X({name:`EmptyBigIntegerRandomPassword`,message:`random password is empty`});return this.randomPassword}getSaltToHashDevices(){if(!this.saltToHashDevices)throw new X({name:`EmptyBigIntegersaltToHashDevices`,message:`saltToHashDevices is empty`});return this.saltToHashDevices}getVerifierDevices(){if(!this.verifierDevices)throw new X({name:`EmptyBigIntegerVerifierDevices`,message:`verifyDevices is empty`});return this.verifierDevices}async generateHashDevice(e,t){this.randomPassword=Rl();let n=jl(`${e}${t}:${this.randomPassword}`);return this.saltToHashDevices=Pl(new Z(Al(Ll(16)),16)),new Promise((e,t)=>{this.g.modPow(new Z(Ml(this.saltToHashDevices+n),16),this.N,(n,r)=>{if(n){t(n);return}this.verifierDevices=Pl(r),e()})})}async getPasswordAuthenticationKey({username:e,password:t,serverBValue:n,salt:r}){if(n.mod(this.N).equals(Z.ZERO))throw Error(`B cannot be zero.`);let i=Fl({A:this.A,B:n}),a=jl(`${this.userPoolName}${e}:${t}`),o=new Z(Ml(Pl(r)+a),16),s=await Tl({a:this.a,g:this.g,k:this.k,x:o,B:n,N:this.N,U:i}),c=this.encoder.convert(`Caldera Derived Key`),l=this.encoder.convert(``),u=new Uint8Array(c.byteLength+l.byteLength);return u.set(c,0),u.set(l,c.byteLength),Il(kl(Pl(s)),kl(Pl(i)),u)}},Bl=async({a:e,g:t,N:n})=>new Promise((r,i)=>{t.modPow(e,n,(e,t)=>{if(e){i(e);return}if(t.mod(n).equals(Z.ZERO)){i(Error(`Illegal parameter. A mod N cannot be 0.`));return}r(t)})}),Vl=async e=>{let t=new Z(El,16),n=new Z(`2`,16),r=Hl();return new zl({userPoolName:e,a:r,g:n,A:await Bl({a:r,g:n,N:t}),N:t})},Hl=()=>new Z(Al(Ll(128)),16);async function Ul({userPoolId:e,userPoolEndpoint:t,newDeviceMetadata:n,accessToken:r}){if(!n)return;let i=await Vl(e.split(`_`)[1]||``),a=n?.DeviceKey,o=n?.DeviceGroupKey;try{await i.generateHashDevice(o??``,a??``)}catch{return}let s={Salt:co.convert(kl(i.getSaltToHashDevices())),PasswordVerifier:co.convert(kl(i.getVerifierDevices()))},c=i.getRandomPassword();try{return await Ac({endpointResolver:As({endpointOverride:t})})({region:vo(e)},{AccessToken:r,DeviceName:await oo(),DeviceKey:n?.DeviceKey,DeviceSecretVerifierConfig:s}),{deviceKey:a,deviceGroupKey:o,randomPassword:c}}catch{return}}async function Wl(e){let t=Ui.getConfig().Auth?.Cognito;Gn(t);let{username:n,signInSession:r,signInDetails:i,challengeName:a}=dc.getState();if(a!==`WEB_AUTHN`||!n)throw new X({name:go.SignInException,message:`Unable to proceed due to invalid sign in state.`});let{CREDENTIAL_REQUEST_OPTIONS:o}=e;bc(!!o,gc.InvalidPasskeyAuthenticationOptions);let s=await kc(JSON.parse(o)),{ChallengeName:c,ChallengeParameters:l,AuthenticationResult:u,Session:d}=await Ds({endpointResolver:As({endpointOverride:t.userPoolEndpoint})})({region:vo(t.userPoolId),userAgentValue:_s(Gr.ConfirmSignIn)},{ChallengeName:`WEB_AUTHN`,ChallengeResponses:{USERNAME:n,CREDENTIAL:JSON.stringify(s)},ClientId:t.userPoolClientId,Session:r});if(fc({signInSession:d,username:n,challengeName:c,signInDetails:i}),u)return await Zs({...u,username:n,NewDeviceMetadata:await Ul({userPoolId:t.userPoolId,userPoolEndpoint:t.userPoolEndpoint,newDeviceMetadata:u.NewDeviceMetadata,accessToken:u.AccessToken}),signInDetails:i}),dc.dispatch({type:`RESET_STATE`}),await $s(),{isSignedIn:!0,nextStep:{signInStep:`DONE`}};if(c===`WEB_AUTHN`)throw new X({name:go.SignInException,message:`Sequential WEB_AUTHN challenges returned from underlying service cannot be handled.`});return{challengeName:c,challengeParameters:l}}function Gl({username:e,userPoolId:t,userPoolClientId:n}){if(typeof window>`u`)return;let r=window.AmazonCognitoAdvancedSecurityData;if(r===void 0)return;let i=r.getData(e,t,n);return i?{EncodedData:i}:{}}var Kl=[`Jan`,`Feb`,`Mar`,`Apr`,`May`,`Jun`,`Jul`,`Aug`,`Sep`,`Oct`,`Nov`,`Dec`],ql=[`Sun`,`Mon`,`Tue`,`Wed`,`Thu`,`Fri`,`Sat`],Jl=()=>{let e=new Date,t=ql[e.getUTCDay()],n=Kl[e.getUTCMonth()],r=e.getUTCDate(),i=e.getUTCHours();i<10&&(i=`0${i}`);let a=e.getUTCMinutes();a<10&&(a=`0${a}`);let o=e.getUTCSeconds();o<10&&(o=`0${o}`);let s=e.getUTCFullYear();return`${t} ${n} ${r} ${i}:${a}:${o} UTC ${s}`},Yl=({userPoolName:e,username:t,challengeParameters:n,dateNow:r,hkdf:i})=>{let a=jc.convert(e),o=jc.convert(t),s=Xl(n.SECRET_BLOCK),c=jc.convert(r),l=new Uint8Array(a.byteLength+o.byteLength+s.byteLength+c.byteLength);l.set(a,0),l.set(o,a.byteLength),l.set(s,a.byteLength+o.byteLength),l.set(c,a.byteLength+o.byteLength+s.byteLength);let u=new Ir(i);u.update(l);let d=u.digestSync();return co.convert(d)},Xl=e=>{let t=(e+`=`.repeat((4-e.length%4)%4)).replace(/-/g,`+`).replace(/_/g,`/`),n=Hn.convert(t),r=new Uint8Array(n.length);for(let e=0;e<n.length;++e)r[e]=n.charCodeAt(e);return r};async function Zl({username:e,config:t,clientMetadata:n,session:r,tokenOrchestrator:i}){let{userPoolId:a,userPoolEndpoint:o}=t,s=t.userPoolClientId,c=await i?.getDeviceMetadata(e);ls(c);let l=await Vl(c.deviceGroupKey),u={ChallengeName:`DEVICE_SRP_AUTH`,ClientId:s,ChallengeResponses:{USERNAME:e,SRP_A:l.A.toString(16),DEVICE_KEY:c.deviceKey},ClientMetadata:n,Session:r},{ChallengeParameters:d,Session:f}=await Ds({endpointResolver:As({endpointOverride:o})})({region:vo(a)},u);return Ql(e,d,n,f,l,t,i)}async function Ql(e,t,n,r,i,{userPoolId:a,userPoolClientId:o,userPoolEndpoint:s},c){let l=await c?.getDeviceMetadata(e);ls(l);let u=new Z(t?.SRP_B,16),d=new Z(t?.SALT,16),{deviceKey:f}=l,{deviceGroupKey:p}=l,m=await i.getPasswordAuthenticationKey({username:l.deviceKey,password:l.randomPassword,serverBValue:u,salt:d}),h=Jl(),g={ChallengeName:`DEVICE_PASSWORD_VERIFIER`,ClientId:o,ChallengeResponses:{USERNAME:t?.USERNAME??e,PASSWORD_CLAIM_SECRET_BLOCK:t?.SECRET_BLOCK,TIMESTAMP:h,PASSWORD_CLAIM_SIGNATURE:Yl({username:f,userPoolName:p,challengeParameters:t,dateNow:h,hkdf:m}),DEVICE_KEY:f},Session:r,ClientMetadata:n,UserContextData:Gl({username:e,userPoolId:a,userPoolClientId:o})};return Ds({endpointResolver:As({endpointOverride:s})})({region:vo(a)},g)}async function $l(e,t,n,r,i,a,o){let{userPoolId:s,userPoolClientId:c,userPoolEndpoint:l}=a,u=s?.split(`_`)[1]||``,d=new Z(t?.SRP_B,16),f=new Z(t?.SALT,16),p=t?.USER_ID_FOR_SRP;if(!p)throw new X({name:`EmptyUserIdForSRPException`,message:`USER_ID_FOR_SRP was not found in challengeParameters`});let m=await i.getPasswordAuthenticationKey({username:p,password:e,serverBValue:d,salt:f}),h=Jl(),g={USERNAME:p,PASSWORD_CLAIM_SECRET_BLOCK:t?.SECRET_BLOCK,TIMESTAMP:h,PASSWORD_CLAIM_SIGNATURE:Yl({username:p,userPoolName:u,challengeParameters:t,dateNow:h,hkdf:m})},_=await o.getDeviceMetadata(p);_&&_.deviceKey&&(g.DEVICE_KEY=_.deviceKey);let v={ChallengeName:`PASSWORD_VERIFIER`,ChallengeResponses:g,ClientMetadata:n,Session:r,ClientId:c,UserContextData:Gl({username:p,userPoolId:s,userPoolClientId:c})},y=await Ds({endpointResolver:As({endpointOverride:l})})({region:vo(s)},v);return y.ChallengeName===`DEVICE_SRP_AUTH`?Zl({username:p,config:a,clientMetadata:n,session:y.Session,tokenOrchestrator:o}):y}async function eu(e,t,n,r){try{return await e(...t)}catch(i){if(i instanceof X&&i.name===`ResourceNotFoundException`&&i.message.includes(`Device does not exist.`))return await r.clearDeviceMetadata(n),e(...t);throw i}}function tu(e){let{dispatch:t}=dc;t({type:`SET_USERNAME`,value:e})}async function nu({username:e,password:t,clientMetadata:n,config:r,tokenOrchestrator:i,authFlow:a,preferredChallenge:o}){let{userPoolId:s,userPoolClientId:c,userPoolEndpoint:l}=r,u=await Vl(s?.split(`_`)[1]||``),d={USERNAME:e,SRP_A:u.A.toString(16)};a===`USER_AUTH`&&o&&(d.PREFERRED_CHALLENGE=o);let f={AuthFlow:a,AuthParameters:d,ClientMetadata:n,ClientId:c,UserContextData:Gl({username:e,userPoolId:s,userPoolClientId:c})},p=await Es({endpointResolver:As({endpointOverride:l})})({region:vo(s),userAgentValue:_s(Gr.SignIn)},f),{ChallengeParameters:m,Session:h}=p,g=m?.USERNAME??e;return tu(g),p.ChallengeName===`PASSWORD_VERIFIER`?eu($l,[t,m,n,h,u,r,i],g,i):p}var ru=`userAttributes.`;function iu(e){return`isSignedIn`in e&&`nextStep`in e}async function au(e,t,n,r,i){let{userPoolClientId:a,userPoolId:o,userPoolEndpoint:s}=r,c={USERNAME:e,PASSWORD:t},l=await i.getDeviceMetadata(e);l&&l.deviceKey&&(c.DEVICE_KEY=l.deviceKey);let u={AuthFlow:`USER_PASSWORD_AUTH`,AuthParameters:c,ClientMetadata:n,ClientId:a,UserContextData:Gl({username:e,userPoolId:o,userPoolClientId:a})},d=await Es({endpointResolver:As({endpointOverride:s})})({region:vo(o),userAgentValue:_s(Gr.SignIn)},u),f=d.ChallengeParameters?.USERNAME??d.ChallengeParameters?.USER_ID_FOR_SRP??e;return tu(f),d.ChallengeName===`DEVICE_SRP_AUTH`?Zl({username:f,config:r,clientMetadata:n,session:d.Session,tokenOrchestrator:i}):d}async function ou(e,t,n,r,i){return nu({username:e,password:t,clientMetadata:n,config:r,tokenOrchestrator:i,authFlow:`USER_SRP_AUTH`})}async function su(e,t,n,r){let{userPoolClientId:i,userPoolId:a,userPoolEndpoint:o}=n,s={USERNAME:e},c=await r.getDeviceMetadata(e);c&&c.deviceKey&&(s.DEVICE_KEY=c.deviceKey);let l={AuthFlow:`CUSTOM_AUTH`,AuthParameters:s,ClientMetadata:t,ClientId:i,UserContextData:Gl({username:e,userPoolId:a,userPoolClientId:i})},u=await Es({endpointResolver:As({endpointOverride:o})})({region:vo(a),userAgentValue:_s(Gr.SignIn)},l),d=u.ChallengeParameters?.USERNAME??e;return tu(d),u.ChallengeName===`DEVICE_SRP_AUTH`?Zl({username:d,config:n,clientMetadata:t,session:u.Session,tokenOrchestrator:r}):u}async function cu(e,t,n,r,i){Gn(r);let{userPoolId:a,userPoolClientId:o,userPoolEndpoint:s}=r,c=await Vl(a?.split(`_`)[1]||``),l={AuthFlow:`CUSTOM_AUTH`,AuthParameters:{USERNAME:e,SRP_A:c.A.toString(16),CHALLENGE_NAME:`SRP_A`},ClientMetadata:n,ClientId:o,UserContextData:Gl({username:e,userPoolId:a,userPoolClientId:o})},{ChallengeParameters:u,Session:d}=await Es({endpointResolver:As({endpointOverride:s})})({region:vo(a),userAgentValue:_s(Gr.SignIn)},l),f=u?.USERNAME??e;return tu(f),eu($l,[t,u,n,d,c,r,i],f,i)}async function lu(e){let{challengeName:t,challengeParameters:n,availableChallenges:r}=e,i=Ui.getConfig().Auth?.Cognito;switch(Gn(i),t){case`CUSTOM_CHALLENGE`:return{isSignedIn:!1,nextStep:{signInStep:`CONFIRM_SIGN_IN_WITH_CUSTOM_CHALLENGE`,additionalInfo:n}};case`MFA_SETUP`:{let{signInSession:e,username:t}=dc.getState(),r=mu(hu(n.MFAS_CAN_SETUP))||[],a=gu(r),o=a.includes(`TOTP`),s=a.includes(`EMAIL`);if(o&&s)return{isSignedIn:!1,nextStep:{signInStep:`CONTINUE_SIGN_IN_WITH_MFA_SETUP_SELECTION`,allowedMFATypes:a}};if(s)return{isSignedIn:!1,nextStep:{signInStep:`CONTINUE_SIGN_IN_WITH_EMAIL_SETUP`}};if(o){let{Session:n,SecretCode:r}=await Os({endpointResolver:As({endpointOverride:i.userPoolEndpoint})})({region:vo(i.userPoolId)},{Session:e});return dc.dispatch({type:`SET_SIGN_IN_SESSION`,value:n}),{isSignedIn:!1,nextStep:{signInStep:`CONTINUE_SIGN_IN_WITH_TOTP_SETUP`,totpSetupDetails:uu(r,t)}}}throw new X({name:go.SignInException,message:`Cannot initiate MFA setup from available types: ${r}`})}case`NEW_PASSWORD_REQUIRED`:return{isSignedIn:!1,nextStep:{signInStep:`CONFIRM_SIGN_IN_WITH_NEW_PASSWORD_REQUIRED`,missingAttributes:fu(n.requiredAttributes)}};case`SELECT_MFA_TYPE`:return{isSignedIn:!1,nextStep:{signInStep:`CONTINUE_SIGN_IN_WITH_MFA_SELECTION`,allowedMFATypes:mu(hu(n.MFAS_CAN_CHOOSE))}};case`SMS_OTP`:case`SMS_MFA`:return{isSignedIn:!1,nextStep:{signInStep:`CONFIRM_SIGN_IN_WITH_SMS_CODE`,codeDeliveryDetails:{deliveryMedium:n.CODE_DELIVERY_DELIVERY_MEDIUM,destination:n.CODE_DELIVERY_DESTINATION}}};case`SOFTWARE_TOKEN_MFA`:return{isSignedIn:!1,nextStep:{signInStep:`CONFIRM_SIGN_IN_WITH_TOTP_CODE`}};case`EMAIL_OTP`:return{isSignedIn:!1,nextStep:{signInStep:`CONFIRM_SIGN_IN_WITH_EMAIL_CODE`,codeDeliveryDetails:{deliveryMedium:n.CODE_DELIVERY_DELIVERY_MEDIUM,destination:n.CODE_DELIVERY_DESTINATION}}};case`WEB_AUTHN`:{let e=await Wl(n);return iu(e)?e:lu(e)}case`PASSWORD`:case`PASSWORD_SRP`:return{isSignedIn:!1,nextStep:{signInStep:`CONFIRM_SIGN_IN_WITH_PASSWORD`}};case`SELECT_CHALLENGE`:return{isSignedIn:!1,nextStep:{signInStep:`CONTINUE_SIGN_IN_WITH_FIRST_FACTOR_SELECTION`,availableChallenges:r}}}throw new X({name:go.SignInException,message:`An error occurred during the sign in process. ${t} challengeName returned by the underlying service was not addressed.`})}function uu(e,t){return{sharedSecret:e,getSetupUri:(n,r)=>new La(`otpauth://totp/${n}:${r??t}?secret=${e}&issuer=${n}`)}}function du(e){if(e===Io.PasswordResetRequiredException)return{isSignedIn:!1,nextStep:{signInStep:`RESET_PASSWORD`}};if(e===Io.UserNotConfirmedException)return{isSignedIn:!1,nextStep:{signInStep:`CONFIRM_SIGN_UP`}}}function fu(e){return e?JSON.parse(e).map(e=>e.includes(ru)?e.replace(ru,``):e):[]}function pu(e){if(e===`SMS_MFA`)return`SMS`;if(e===`SOFTWARE_TOKEN_MFA`)return`TOTP`;if(e===`EMAIL_OTP`)return`EMAIL`}function mu(e){if(e)return e.map(pu).filter(Boolean)}function hu(e){return e?JSON.parse(e):[]}function gu(e){return e.filter(e=>e===`EMAIL`||e===`TOTP`)}async function _u(){let e;try{e=await gs()}catch{}if(e&&e.userId&&e.username)throw new X({name:qo,message:`There is already a signed in user.`,recoverySuggestion:`Call signOut before calling signIn again.`})}function vu(e){return dc.getState().username??e}async function yu(e){let t=Ui.getConfig().Auth?.Cognito;Gn(t);let{username:n,password:r,options:i}=e,a={loginId:n,authFlowType:`CUSTOM_WITHOUT_SRP`},o=i?.clientMetadata;_o(!!n,po.EmptySignInUsername),_o(!r,po.CustomAuthSignInPassword);try{let{ChallengeName:e,ChallengeParameters:r,AuthenticationResult:i,Session:s}=await eu(su,[n,o,t,Xs],n,Xs),c=vu(n);return fc({signInSession:s,username:c,challengeName:e,signInDetails:a}),i?(await Zs({username:c,...i,NewDeviceMetadata:await Ul({userPoolId:t.userPoolId,userPoolEndpoint:t.userPoolEndpoint,newDeviceMetadata:i.NewDeviceMetadata,accessToken:i.AccessToken}),signInDetails:a}),sc(),await $s(),{isSignedIn:!0,nextStep:{signInStep:`DONE`}}):lu({challengeName:e,challengeParameters:r})}catch(e){sc(),xs(e);let t=du(e.name);if(t)return t;throw e}}async function bu(e){let{username:t,password:n,options:r}=e,i={loginId:t,authFlowType:`CUSTOM_WITH_SRP`},a=Ui.getConfig().Auth?.Cognito;Gn(a);let o=r?.clientMetadata;_o(!!t,po.EmptySignInUsername),_o(!!n,po.EmptySignInPassword);try{let{ChallengeName:e,ChallengeParameters:r,AuthenticationResult:s,Session:c}=await cu(t,n,o,a,Xs),l=vu(t);return fc({signInSession:c,username:l,challengeName:e,signInDetails:i}),s?(await Zs({username:l,...s,NewDeviceMetadata:await Ul({userPoolId:a.userPoolId,userPoolEndpoint:a.userPoolEndpoint,newDeviceMetadata:s.NewDeviceMetadata,accessToken:s.AccessToken}),signInDetails:i}),sc(),await $s(),{isSignedIn:!0,nextStep:{signInStep:`DONE`}}):lu({challengeName:e,challengeParameters:r})}catch(e){sc(),xs(e);let t=du(e.name);if(t)return t;throw e}}function xu(e=!0){tc.dispatch({type:`RESET`})}async function Su(e){let{username:t,password:n}=e,r=Ui.getConfig().Auth?.Cognito,i={loginId:t,authFlowType:`USER_SRP_AUTH`};Gn(r);let a=e.options?.clientMetadata;_o(!!t,po.EmptySignInUsername),_o(!!n,po.EmptySignInPassword);try{let{ChallengeName:e,ChallengeParameters:o,AuthenticationResult:s,Session:c}=await ou(t,n,a,r,Xs),l=vu(t);return fc({signInSession:c,username:l,challengeName:e,signInDetails:i}),s?(await Zs({username:l,...s,NewDeviceMetadata:await Ul({userPoolId:r.userPoolId,userPoolEndpoint:r.userPoolEndpoint,newDeviceMetadata:s.NewDeviceMetadata,accessToken:s.AccessToken}),signInDetails:i}),sc(),await $s(),xu(),{isSignedIn:!0,nextStep:{signInStep:`DONE`}}):lu({challengeName:e,challengeParameters:o})}catch(e){sc(),xu(),xs(e);let t=du(e.name);if(t)return t;throw e}}async function Cu(e){let{username:t,password:n,options:r}=e,i=Ui.getConfig().Auth?.Cognito,a={loginId:t,authFlowType:`USER_PASSWORD_AUTH`};Gn(i);let o=r?.clientMetadata;_o(!!t,po.EmptySignInUsername),_o(!!n,po.EmptySignInPassword);try{let{ChallengeName:e,ChallengeParameters:r,AuthenticationResult:s,Session:c}=await eu(au,[t,n,o,i,Xs],t,Xs),l=vu(t);return fc({signInSession:c,username:l,challengeName:e,signInDetails:a}),s?(await Zs({...s,username:l,NewDeviceMetadata:await Ul({userPoolId:i.userPoolId,userPoolEndpoint:i.userPoolEndpoint,newDeviceMetadata:s.NewDeviceMetadata,accessToken:s.AccessToken}),signInDetails:a}),sc(),await $s(),xu(),{isSignedIn:!0,nextStep:{signInStep:`DONE`}}):lu({challengeName:e,challengeParameters:r})}catch(e){sc(),xu(),xs(e);let t=du(e.name);if(t)return t;throw e}}async function wu({username:e,clientMetadata:t,config:n,tokenOrchestrator:r,preferredChallenge:i,password:a,session:o}){let{userPoolId:s,userPoolClientId:c,userPoolEndpoint:l}=n,u=Gl({username:e,userPoolId:s,userPoolClientId:c}),d={USERNAME:e};if(i){if(n.passwordless&&(i===`EMAIL_OTP`&&!n.passwordless.emailOtpEnabled||i===`SMS_OTP`&&!n.passwordless.smsOtpEnabled||i===`WEB_AUTHN`&&!n.passwordless.webAuthn)&&_o(!1,po.InvalidPreferredChallenge),i===`PASSWORD_SRP`)return _o(!!a,po.EmptySignInPassword),nu({username:e,password:a,clientMetadata:t,config:n,tokenOrchestrator:r,authFlow:`USER_AUTH`,preferredChallenge:i});i===`PASSWORD`&&(_o(!!a,po.EmptySignInPassword),d.PASSWORD=a),d.PREFERRED_CHALLENGE=i}let f={AuthFlow:`USER_AUTH`,AuthParameters:d,ClientMetadata:t,ClientId:c,UserContextData:u};o&&(f.Session=o);let p=await Es({endpointResolver:As({endpointOverride:l})})({region:vo(s),userAgentValue:_s(Gr.SignIn)},f);return tu(e),p}async function Tu(e){let{username:t,password:n,options:r}=e,i=Ui.getConfig().Auth?.Cognito,a={loginId:t,authFlowType:`USER_AUTH`};Gn(i);let o=r?.clientMetadata,s=r?.preferredChallenge??i?.passwordless?.preferredChallenge;_o(!!t,po.EmptySignInUsername);try{let e={username:t,config:i,tokenOrchestrator:Xs,clientMetadata:o,preferredChallenge:s,password:n},r=tc.getState();r.active&&r.username===t&&(e.session=r.session);let c=await wu(e),l=vu(t);return fc({signInSession:c.Session,username:l,challengeName:c.ChallengeName,signInDetails:a}),c.AuthenticationResult?(await Zs({username:l,...c.AuthenticationResult,NewDeviceMetadata:await Ul({userPoolId:i.userPoolId,userPoolEndpoint:i.userPoolEndpoint,newDeviceMetadata:c.AuthenticationResult.NewDeviceMetadata,accessToken:c.AuthenticationResult.AccessToken}),signInDetails:a}),sc(),await $s(),xu(),{isSignedIn:!0,nextStep:{signInStep:`DONE`}}):lu({challengeName:c.ChallengeName,challengeParameters:c.ChallengeParameters,availableChallenges:`AvailableChallenges`in c?c.AvailableChallenges:void 0})}catch(e){sc(),xu(),xs(e);let t=du(e.name);if(t)return t;throw e}}async function Eu(e){xu(!1);let t=e.options?.authFlowType;switch(await _u(),t){case`USER_SRP_AUTH`:return Su(e);case`USER_PASSWORD_AUTH`:return Cu(e);case`CUSTOM_WITHOUT_SRP`:return yu(e);case`CUSTOM_WITH_SRP`:return bu(e);case`USER_AUTH`:return Tu(e);default:return Su(e)}}var Du=180*1e3;function Ou(e){let t=Rn.listen(`auth-internal`,async({payload:e})=>{switch(e.event){case`confirmSignUp`:e.data?.isSignUpComplete&&(Rn.dispatch(`auth-internal`,{event:`autoSignIn`}),t())}}),n=setTimeout(()=>{t(),clearTimeout(n),xu()},Du)}function ku(e,t){let n;return r=>{n||e(...r),clearTimeout(n),n=setTimeout(()=>{n=void 0},t)}}var Au=ku(ju,300);async function ju(e,t,n){try{t(e?.options?.authFlowType===`USER_AUTH`?await Tu(e):await Eu(e)),xu()}catch(e){n(e),xu()}}function Mu(e){return async()=>new Promise((t,n)=>{Au([e,t,n])})}var Nu=Mu,Pu=()=>async e=>{if(e.statusCode>=300){let t=await Yi(e);if(xs(t),t.name===Bo.InvalidParameterException&&/'password'/.test(t.message)&&/Member must not be null/.test(t.message)){let e=po.EmptySignUpPassword,{message:t,recoverySuggestion:n}=mo[e];throw new X({name:e,message:t,recoverySuggestion:n})}throw new X({name:t.name,message:t.message})}return Xi(e)},Fu=e=>Zi(Cs,vs(`SignUp`),Pu(),{...Ts,...e});async function Iu(e){let{username:t,password:n,options:r}=e,i=Ui.getConfig().Auth?.Cognito,a=i?.signUpVerificationMethod??`code`,{clientMetadata:o,validationData:s,autoSignIn:c}=e.options??{};Gn(i),_o(!!t,po.EmptySignUpUsername);let l=typeof c==`boolean`?void 0:c,u={username:t,options:l};l?.authFlowType!==`CUSTOM_WITHOUT_SRP`&&(u.password=n);let{userPoolId:d,userPoolClientId:f,userPoolEndpoint:p}=i,m=Fu({endpointResolver:As({endpointOverride:p})}),h={Username:t,Password:void 0,UserAttributes:r?.userAttributes&&bo(r?.userAttributes),ClientMetadata:o,ValidationData:s&&bo(s),ClientId:f,UserContextData:Gl({username:t,userPoolId:d,userPoolClientId:f})};n&&(h.Password=n);let{UserSub:g,CodeDeliveryDetails:_,UserConfirmed:v,Session:y}=await m({region:vo(d),userAgentValue:_s(Gr.SignUp)},h);(l||c===!0)&&(tc.dispatch({type:`START`}),tc.dispatch({type:`SET_USERNAME`,value:t}),tc.dispatch({type:`SET_SESSION`,value:y}));let b={destination:_?.Destination,deliveryMedium:_?.DeliveryMedium,attributeName:_?.AttributeName},x=!!v,S=tc.getState().active;if(x)return S?(Nu(u),{isSignUpComplete:!0,nextStep:{signUpStep:`COMPLETE_AUTO_SIGN_IN`},userId:g}):{isSignUpComplete:!0,nextStep:{signUpStep:`DONE`},userId:g};if(S){if(a===`link`)return{isSignUpComplete:!1,nextStep:{signUpStep:`COMPLETE_AUTO_SIGN_IN`,codeDeliveryDetails:b},userId:g};Ou(u)}return{isSignUpComplete:!1,nextStep:{signUpStep:`CONFIRM_SIGN_UP`,codeDeliveryDetails:b},userId:g}}var Lu=e=>Zi(Cs,vs(`ForgotPassword`),Ss(),{...Ts,...e});async function Ru(e){let{username:t}=e;_o(!!t,po.EmptyResetPasswordUsername);let n=Ui.getConfig().Auth?.Cognito;Gn(n);let{userPoolClientId:r,userPoolId:i,userPoolEndpoint:a}=n,o=e.options?.clientMetadata,s=Gl({username:t,userPoolId:i,userPoolClientId:r}),c=(await Lu({endpointResolver:As({endpointOverride:a})})({region:vo(i),userAgentValue:_s(Gr.ResetPassword)},{Username:t,ClientMetadata:o,ClientId:r,UserContextData:s})).CodeDeliveryDetails;return{isPasswordReset:!1,nextStep:{resetPasswordStep:`CONFIRM_RESET_PASSWORD_WITH_CODE`,codeDeliveryDetails:{deliveryMedium:c?.DeliveryMedium,destination:c?.Destination,attributeName:c?.AttributeName}}}}var zu=e=>Zi(Cs,vs(`ConfirmForgotPassword`),Ss(),{...Ts,...e});async function Bu(e){let t=Ui.getConfig().Auth?.Cognito;Gn(t);let{userPoolClientId:n,userPoolId:r,userPoolEndpoint:i}=t,{username:a,newPassword:o}=e;_o(!!a,po.EmptyConfirmResetPasswordUsername),_o(!!o,po.EmptyConfirmResetPasswordNewPassword);let s=e.confirmationCode;_o(!!s,po.EmptyConfirmResetPasswordConfirmationCode);let c=e.options?.clientMetadata,l=Gl({username:a,userPoolId:r,userPoolClientId:n});await zu({endpointResolver:As({endpointOverride:i})})({region:vo(t.userPoolId),userAgentValue:_s(Gr.ConfirmResetPassword)},{Username:a,ConfirmationCode:s,Password:o,ClientMetadata:c,ClientId:t.userPoolClientId,UserContextData:l})}var Vu=e=>Zi(Cs,vs(`ResendConfirmationCode`),Ss(),{...Ts,...e});async function Hu(e){let{username:t}=e;_o(!!t,po.EmptySignUpUsername);let n=Ui.getConfig().Auth?.Cognito;Gn(n);let{userPoolClientId:r,userPoolId:i,userPoolEndpoint:a}=n,o=e.options?.clientMetadata,s=Gl({username:t,userPoolId:i,userPoolClientId:r}),{CodeDeliveryDetails:c}=await Vu({endpointResolver:As({endpointOverride:a})})({region:vo(n.userPoolId),userAgentValue:_s(Gr.ResendSignUpCode)},{Username:t,ClientMetadata:o,ClientId:n.userPoolClientId,UserContextData:s}),{DeliveryMedium:l,AttributeName:u,Destination:d}={...c};return{destination:d,deliveryMedium:l,attributeName:u||void 0}}var Uu=e=>Zi(Cs,vs(`ConfirmSignUp`),Ss(),{...Ts,...e});async function Wu(e){let{username:t,confirmationCode:n,options:r}=e,i=Ui.getConfig().Auth?.Cognito;Gn(i);let{userPoolId:a,userPoolClientId:o,userPoolEndpoint:s}=i,c=r?.clientMetadata;_o(!!t,po.EmptyConfirmSignUpUsername),_o(!!n,po.EmptyConfirmSignUpCode);let l=Gl({username:t,userPoolId:a,userPoolClientId:o}),{Session:u}=await Uu({endpointResolver:As({endpointOverride:s})})({region:vo(i.userPoolId),userAgentValue:_s(Gr.ConfirmSignUp)},{Username:t,ConfirmationCode:n,ClientMetadata:c,ForceAliasCreation:r?.forceAliasCreation,ClientId:i.userPoolClientId,UserContextData:l});return new Promise((e,n)=>{try{let n={isSignUpComplete:!0,nextStep:{signUpStep:`DONE`}},r=tc.getState();if(!r.active||r.username!==t){e(n),xu();return}tc.dispatch({type:`SET_SESSION`,value:u});let i=Rn.listen(`auth-internal`,({payload:t})=>{switch(t.event){case`autoSignIn`:e({isSignUpComplete:!0,nextStep:{signUpStep:`COMPLETE_AUTO_SIGN_IN`}}),i()}});Rn.dispatch(`auth-internal`,{event:`confirmSignUp`,data:n})}catch(e){n(e)}})}var Gu=e=>Zi(Cs,vs(`GetUser`),Ss(),{...Ts,...e});new jn(`AuthError`);var Ku={oauthSignInError:{message:ho.OAUTH_ERROR,log:`Make sure Cognito Hosted UI has been configured correctly`},noConfig:{message:ho.DEFAULT_MSG,log:`
            Error: Amplify has not been configured correctly.
            This error is typically caused by one of the following scenarios:

            1. Make sure you're passing the awsconfig object to Amplify.configure() in your app's entry point
                See https://aws-amplify.github.io/docs/js/authentication#configure-your-app for more information
            
            2. There might be multiple conflicting versions of amplify packages in your node_modules.
				Refer to our docs site for help upgrading Amplify packages (https://docs.amplify.aws/lib/troubleshooting/upgrading/q/platform/js)
        `},missingAuthConfig:{message:ho.DEFAULT_MSG,log:`
            Error: Amplify has not been configured correctly. 
            The configuration object is missing required auth properties.
            This error is typically caused by one of the following scenarios:

            1. Did you run \`amplify push\` after adding auth via \`amplify add auth\`?
                See https://aws-amplify.github.io/docs/js/authentication#amplify-project-setup for more information

            2. This could also be caused by multiple conflicting versions of amplify packages, see (https://docs.amplify.aws/lib/troubleshooting/upgrading/q/platform/js) for help upgrading Amplify packages.
        `},emptyUsername:{message:ho.EMPTY_USERNAME},invalidUsername:{message:ho.INVALID_USERNAME},emptyPassword:{message:ho.EMPTY_PASSWORD},emptyCode:{message:ho.EMPTY_CODE},signUpError:{message:ho.SIGN_UP_ERROR,log:`The first parameter should either be non-null string or object`},noMFA:{message:ho.NO_MFA},invalidMFA:{message:ho.INVALID_MFA},emptyChallengeResponse:{message:ho.EMPTY_CHALLENGE},noUserSession:{message:ho.NO_USER_SESSION},deviceConfig:{message:ho.DEVICE_CONFIG},networkError:{message:ho.NETWORK_ERROR},autoSignInError:{message:ho.AUTOSIGNIN_ERROR},default:{message:ho.DEFAULT_MSG}},qu=(e,t)=>new X({message:e??`An error has occurred during the oauth process.`,name:go.OAuthSignInError,recoverySuggestion:t??Ku.oauthSignInError.log}),Ju;(function(e){e.NoConfig=`noConfig`,e.MissingAuthConfig=`missingAuthConfig`,e.EmptyUsername=`emptyUsername`,e.InvalidUsername=`invalidUsername`,e.EmptyPassword=`emptyPassword`,e.EmptyCode=`emptyCode`,e.SignUpError=`signUpError`,e.NoMFA=`noMFA`,e.InvalidMFA=`invalidMFA`,e.EmptyChallengeResponse=`emptyChallengeResponse`,e.NoUserSession=`noUserSession`,e.Default=`default`,e.DeviceConfig=`deviceConfig`,e.NetworkError=`networkError`,e.AutoSignInError=`autoSignInError`,e.OAuthSignInError=`oauthSignInError`})(Ju||={});var Yu="`signInWithRedirect` has been canceled.",Xu=`An error occurred while validating the state.`,Zu=`Try to initiate an OAuth flow from Amplify`,Qu=async e=>{let t=await Ws.loadOAuthState(),n=e===t?t:void 0;if(!n)throw new X({name:Ju.OAuthSignInError,message:e===null?Yu:Xu,recoverySuggestion:e===null?void 0:Zu});return n},$u=async({currentUrl:e,userAgentValue:t,clientId:n,redirectUri:r,responseType:i,domain:a,preferPrivateSession:o})=>{let s=new La(e),c=s.searchParams.get(`error`),l=s.searchParams.get(`error_description`);if(c)throw qu(l??c);return i===`code`?ed({currentUrl:e,userAgentValue:t,clientId:n,redirectUri:r,domain:a,preferPrivateSession:o}):td({currentUrl:e,redirectUri:r,preferPrivateSession:o})},ed=async({currentUrl:e,userAgentValue:t,clientId:n,redirectUri:r,domain:i,preferPrivateSession:a})=>{let o=new La(e),s=o.searchParams.get(`code`),c=o.searchParams.get(`state`);if(!s||!c)throw qu(`User cancelled OAuth flow.`);let l=await Qu(c),u=`https://`+i+`/oauth2/token`,d=await Ws.loadPKCE(),f={grant_type:`authorization_code`,code:s,client_id:n,redirect_uri:r,...d?{code_verifier:d}:{}},p=Object.entries(f).map(([e,t])=>`${encodeURIComponent(e)}=${encodeURIComponent(t)}`).join(`&`),{access_token:m,refresh_token:h,id_token:g,error:_,error_message:v,token_type:y,expires_in:b}=await(await fetch(u,{method:`POST`,headers:{"Content-Type":`application/x-www-form-urlencoded`,[Dn]:t},body:p})).json();if(_)throw qu(v??_);return await Zs({username:(m&&Jn(m).payload.username)??`username`,AccessToken:m,IdToken:g,RefreshToken:h}),nd({redirectUri:r,state:l,preferPrivateSession:a})},td=async({currentUrl:e,redirectUri:t,preferPrivateSession:n})=>{let{id_token:r,access_token:i,state:a,token_type:o,expires_in:s,error_description:c,error:l}=(new La(e).hash??`#`).substring(1).split(`&`).map(e=>e.split(`=`)).reduce((e,[t,n])=>({...e,[t]:n}),{id_token:void 0,access_token:void 0,state:void 0,token_type:void 0,expires_in:void 0,error_description:void 0,error:void 0});if(l)throw qu(c??l);if(!i)throw qu(`No access token returned from OAuth flow.`);let u=await Qu(a);return await Zs({username:(i&&Jn(i).payload.username)??`username`,AccessToken:i,IdToken:r}),nd({redirectUri:t,state:u,preferPrivateSession:n})},nd=async({redirectUri:e,state:t,preferPrivateSession:n})=>{await Xs.setOAuthMetadata({oauthSignIn:!0}),await Ws.clearOAuthData(),await Ws.storeOAuthSignIn(!0,n),qs(),ad(e),rd(t)&&Ln.dispatch(`auth`,{event:`customOAuthState`,data:ro(id(t))},`Auth`,Pn),Ln.dispatch(`auth`,{event:`signInWithRedirect`},`Auth`,Pn),await $s()},rd=e=>/-/.test(e),id=e=>e.split(`-`).splice(1).join(`-`),ad=e=>{typeof window<`u`&&window.history!==void 0&&window.history.replaceState(window.history.state,``,e)};function od(e,t){if(t){let n=e?.find(e=>e===t);if(!n)throw $o;return n}else{let t=e?.find(sd)??e?.find(cd),n=e?.find(ud)??e?.find(ld);if(t)return t;throw n?es:Qo}}var sd=e=>e.startsWith(String(window.location.origin+(window.location.pathname||`/`))),cd=e=>e.includes(String(window.location.hostname)),ld=e=>e.startsWith(`http://`),ud=e=>e.startsWith(`https://`),dd=async e=>{qs(),await Ws.clearOAuthInflightData(),Ln.dispatch(`auth`,{event:`signInWithRedirect_failure`,data:{error:e}},`Auth`,Pn)};zi()&&Ui[nr](async e=>{try{Gn(e),Kn(e),Ws.setAuthConfig(e)}catch{return}if(await Ws.loadOAuthInFlight())try{let t=window.location.href,{loginWith:n,userPoolClientId:r}=e,{domain:i,redirectSignIn:a,responseType:o}=n.oauth;await $u({currentUrl:t,clientId:r,domain:i,redirectUri:od(a),responseType:o,userAgentValue:_s(Gr.SignInWithRedirect)})}catch(e){await dd(e)}});var fd={Google:`Google`,Facebook:`Facebook`,Amazon:`LoginWithAmazon`,Apple:`SignInWithApple`},pd=async e=>{window?.location&&(window.location.href=e.replace(`http://`,`https://`))},md=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789`,hd=e=>{let t=new Uint8Array(e);zn().getRandomValues(t);let n=``,r;for(let e of t)n+=md.charAt(e%62);return{value:n,method:`S256`,toCodeChallenge(){return r||(r=gd(n),r)}}};function gd(e){let t=new Ir;return t.update(e),_d(co.convert(t.digestSync(),{urlSafe:!0}))}function _d(e){return e.replace(/=/g,``)}var vd=()=>no(32),yd=e=>{async function t(n){n.persisted&&await e.loadOAuthInFlight()&&await dd(qu(`User cancelled OAuth flow.`)),window.removeEventListener(`pageshow`,t)}window.addEventListener(`pageshow`,t)};async function bd(e){let t=Ui.getConfig().Auth?.Cognito;Gn(t),Kn(t),Ws.setAuthConfig(t),e?.options?.prompt||await _u();let n=`COGNITO`,r;return typeof e?.provider==`string`?n=fd[e.provider]:e?.provider?.custom?n=e.provider.custom:e?.provider?.idpIdentifier&&({idpIdentifier:r}=e.provider),xd({oauthConfig:t.loginWith.oauth,clientId:t.userPoolClientId,provider:n,idpIdentifier:r,customState:e?.customState,preferPrivateSession:e?.options?.preferPrivateSession,options:{loginHint:e?.options?.loginHint,lang:e?.options?.lang,nonce:e?.options?.nonce,prompt:e?.options?.prompt},authSessionOpener:e?.options?.authSessionOpener})}var xd=async({oauthConfig:e,provider:t,idpIdentifier:n,clientId:r,customState:i,preferPrivateSession:a,options:o,authSessionOpener:s})=>{let{domain:c,redirectSignIn:l,responseType:u,scopes:d}=e,{loginHint:f,lang:p,nonce:m,prompt:h}=o??{},g=vd(),_=s||pd,v=i?`${g}-${Y(i)}`:g,{value:y,method:b,toCodeChallenge:x}=hd(128),S=od(e.redirectSignIn);zi()&&Ws.storeOAuthInFlight(!0),Ws.storeOAuthState(v),Ws.storePKCE(y);let C=new URLSearchParams;C.append(`redirect_uri`,S),C.append(`response_type`,u),C.append(`client_id`,r),n?C.append(`idp_identifier`,n):C.append(`identity_provider`,t),C.append(`scope`,d.join(` `)),f&&C.append(`login_hint`,f),p&&C.append(`lang`,p),m&&C.append(`nonce`,m),h&&C.append(`prompt`,h.toLowerCase()),C.append(`state`,v),u===`code`&&(C.append(`code_challenge`,x()),C.append(`code_challenge_method`,b));let w=`https://${c}/oauth2/authorize?${C.toString()}`;yd(Ws);let{type:T,error:E,url:D}=await _(w,l,a)??{};try{if(T===`error`)throw qu(String(E));if(T===`canceled`)throw qu(String(T));T===`success`&&D&&await $u({currentUrl:D,clientId:r,domain:c,redirectUri:S,responseType:u,userAgentValue:_s(Gr.SignInWithRedirect),preferPrivateSession:a})}catch(e){throw await dd(e),e}},Sd=async e=>{let t=e.getConfig().Auth?.Cognito;Gn(t);let{userPoolEndpoint:n,userPoolId:r}=t,{tokens:i}=await Wi(e,{forceRefresh:!1});is(i);let{UserAttributes:a}=await Gu({endpointResolver:As({endpointOverride:n})})({region:vo(r),userAgentValue:_s(Gr.FetchUserAttributes)},{AccessToken:i.accessToken.toString()});return xo(a)},Cd=()=>Sd(Ui),wd=async e=>{await e.clearOAuthData(),Xs.clearTokens(),await Ki(),Ln.dispatch(`auth`,{event:`signedOut`},`Auth`,Pn)},Td=async(e,t=!1,n)=>{Kn(e);let{loginWith:r,userPoolClientId:i}=e,{domain:a,redirectSignOut:o}=r.oauth,s=od(o,n);return pd(`https://${a}/logout?${Object.entries({client_id:i,logout_uri:encodeURIComponent(s)}).map(([e,t])=>`${e}=${t}`).join(`&`)}`)},Ed=async(e,t,n,r)=>{let{isOAuthSignIn:i}=await t.loadOAuthSignIn(),a=await n.getOAuthMetadata();if(await wd(t),i||a?.oauthSignIn)return Td(e,!1,r)},Dd=e=>Zi(Cs,vs(`RevokeToken`),Ss(),{...Ts,...e}),Od=e=>Zi(Cs,vs(`GlobalSignOut`),Ss(),{...Ts,...e}),kd=new jn(`Auth`);async function Ad(e){let t=Ui.getConfig().Auth?.Cognito;Gn(t),e?.global?await Md(t):await jd(t);let n;try{Kn(t),n=!0}catch{n=!1}if(n){let n=new Hs(eo);n.setAuthConfig(t);let{type:r}=await Ed(t,n,Xs,e?.oauth?.redirectUrl)??{};if(r===`error`)throw new X({name:ts,message:`An error occurred when attempting to log out from OAuth provider.`})}else Xs.clearTokens(),await Ki(),Ln.dispatch(`auth`,{event:`signedOut`},`Auth`,Pn)}async function jd(e){try{let{userPoolEndpoint:t,userPoolId:n,userPoolClientId:r}=e,i=await Xs.getTokenStore().loadTokens();cs(i),Nd(i.accessToken)&&await Dd({endpointResolver:As({endpointOverride:t})})({region:vo(n),userAgentValue:_s(Gr.SignOut)},{ClientId:r,Token:i.refreshToken})}catch{kd.debug(`Client signOut error caught but will proceed with token removal`)}}async function Md(e){try{let{userPoolEndpoint:t,userPoolId:n}=e,r=await Xs.getTokenStore().loadTokens();is(r),await Od({endpointResolver:As({endpointOverride:t})})({region:vo(n),userAgentValue:_s(Gr.SignOut)},{AccessToken:r.accessToken.toString()})}catch{kd.debug(`Global signOut error caught but will proceed with token removal`)}}var Nd=e=>!!e?.payload?.origin_jti,Pd={identityId:`identityId`},Fd=new jn(`DefaultIdentityIdStore`),Id=class{setAuthConfig(e){qn(e.Cognito),this.authConfig=e,this._authKeys=Ld(`Cognito`,e.Cognito.identityPoolId)}constructor(e){this._authKeys={},this._hasGuestIdentityId=!1,this.keyValueStorage=e}async loadIdentityId(){qn(this.authConfig?.Cognito);try{if(this._primaryIdentityId)return{id:this._primaryIdentityId,type:`primary`};{let e=await this.keyValueStorage.getItem(this._authKeys.identityId);return e?(this._hasGuestIdentityId=!0,{id:e,type:`guest`}):null}}catch(e){return Fd.log(`Error getting stored IdentityId.`,e),null}}async storeIdentityId(e){qn(this.authConfig?.Cognito),e.type===`guest`?(this.keyValueStorage.setItem(this._authKeys.identityId,e.id),this._primaryIdentityId=void 0,this._hasGuestIdentityId=!0):(this._primaryIdentityId=e.id,this._hasGuestIdentityId&&=(this.keyValueStorage.removeItem(this._authKeys.identityId),!1))}async clearIdentityId(){this._primaryIdentityId=void 0,await this.keyValueStorage.removeItem(this._authKeys.identityId)}},Ld=(e,t)=>zs(Pd)(`com.amplify.${e}`,t),Rd=({endpointOverride:e})=>t=>e?{url:new La(e)}:Ra(t);function zd(e){let t=Jn(e).payload.iss,n={};if(!t)throw new X({name:`InvalidIdTokenException`,message:`Invalid Idtoken.`});let r=t.replace(/(^\w+:|^)\/\//,``);return n[r]=e,n}async function Bd({tokens:e,authConfig:t,identityIdStore:n}){n.setAuthConfig({Cognito:t});let r=await n.loadIdentityId();if(r)return r.id;let i=await Vd(e?.idToken?zd(e.idToken.toString()):{},t);return n.storeIdentityId({id:i,type:e?`primary`:`guest`}),i}async function Vd(e,t){let n=t?.identityPoolId,r=yo(n),i=Ma({endpointResolver:Rd({endpointOverride:t.identityPoolEndpoint})}),a;try{a=(await i({region:r},{IdentityPoolId:n,Logins:e})).IdentityId}catch(e){throw xs(e),new X(e)}if(!a)throw new X({name:`GetIdResponseException`,message:`Received undefined response from getId operation`,recoverySuggestion:`Make sure to pass a valid identityPoolId in the configuration.`});return a}var Hd=new jn(`CognitoCredentialsProvider`),Ud=3e3*1e3,Wd=class{constructor(e){this._nextCredentialsRefresh=0,this._identityIdStore=e}async clearCredentialsAndIdentityId(){Hd.debug(`Clearing out credentials and identityId`),this._credentialsAndIdentityId=void 0,await this._identityIdStore.clearIdentityId()}async clearCredentials(){Hd.debug(`Clearing out in-memory credentials`),this._credentialsAndIdentityId=void 0}async getCredentialsAndIdentityId(e){let t=e.authenticated,{tokens:n}=e,{authConfig:r}=e;try{qn(r?.Cognito)}catch{return}if(!t&&!r.Cognito.allowGuestAccess)return;let{forceRefresh:i}=e,a=this.hasTokenChanged(n),o=await Bd({tokens:n,authConfig:r.Cognito,identityIdStore:this._identityIdStore});return(i||a)&&this.clearCredentials(),t?(as(n),this.credsForOIDCTokens(r.Cognito,n,o)):this.getGuestCredentials(o,r.Cognito)}async getGuestCredentials(e,t){if(this._credentialsAndIdentityId&&!this.isPastTTL()&&this._credentialsAndIdentityId.isAuthenticatedCreds===!1)return Hd.info(`returning stored credentials as they neither past TTL nor expired.`),this._credentialsAndIdentityId;this.clearCredentials();let n=yo(t.identityPoolId),r=ka({endpointResolver:Rd({endpointOverride:t.identityPoolEndpoint})}),i;try{i=await r({region:n},{IdentityId:e})}catch(e){throw xs(e),new X(e)}if(i?.Credentials?.AccessKeyId&&i?.Credentials?.SecretKey){this._nextCredentialsRefresh=new Date().getTime()+Ud;let t={credentials:{accessKeyId:i.Credentials.AccessKeyId,secretAccessKey:i.Credentials.SecretKey,sessionToken:i.Credentials.SessionToken,expiration:i.Credentials.Expiration},identityId:e};return i.IdentityId&&(t.identityId=i.IdentityId,this._identityIdStore.storeIdentityId({id:i.IdentityId,type:`guest`})),this._credentialsAndIdentityId={...t,isAuthenticatedCreds:!1},t}else throw new X({name:`CredentialsNotFoundException`,message:`Cognito did not respond with either Credentials, AccessKeyId or SecretKey.`})}async credsForOIDCTokens(e,t,n){if(this._credentialsAndIdentityId&&!this.isPastTTL()&&this._credentialsAndIdentityId.isAuthenticatedCreds===!0)return Hd.debug(`returning stored credentials as they neither past TTL nor expired.`),this._credentialsAndIdentityId;this.clearCredentials();let r=t.idToken?zd(t.idToken.toString()):{},i=yo(e.identityPoolId),a=ka({endpointResolver:Rd({endpointOverride:e.identityPoolEndpoint})}),o;try{o=await a({region:i},{IdentityId:n,Logins:r})}catch(e){throw xs(e),new X(e)}if(o?.Credentials?.AccessKeyId&&o?.Credentials?.SecretKey){this._nextCredentialsRefresh=new Date().getTime()+Ud;let e={credentials:{accessKeyId:o.Credentials.AccessKeyId,secretAccessKey:o.Credentials.SecretKey,sessionToken:o.Credentials.SessionToken,expiration:o.Credentials.Expiration},identityId:n};return o.IdentityId&&(e.identityId=o.IdentityId,this._identityIdStore.storeIdentityId({id:o.IdentityId,type:`primary`})),this._credentialsAndIdentityId={...e,isAuthenticatedCreds:!0,associatedIdToken:t.idToken?.toString()},e}else throw new X({name:`CredentialsException`,message:`Cognito did not respond with either Credentials, AccessKeyId or SecretKey.`})}isPastTTL(){return this._nextCredentialsRefresh===void 0?!0:this._nextCredentialsRefresh<=Date.now()}hasTokenChanged(e){return!!e&&!!this._credentialsAndIdentityId?.associatedIdToken&&e.idToken?.toString()!==this._credentialsAndIdentityId.associatedIdToken}},Gd=o((e=>{var t=Symbol.for(`react.transitional.element`),n=Symbol.for(`react.fragment`);function r(e,n,r){var i=null;if(r!==void 0&&(i=``+r),n.key!==void 0&&(i=``+n.key),`key`in n)for(var a in r={},n)a!==`key`&&(r[a]=n[a]);else r=n;return n=r.ref,{$$typeof:t,type:e,key:i,ref:n===void 0?null:n,props:r}}e.Fragment=n,e.jsx=r,e.jsxs=r})),Kd=o(((e,t)=>{t.exports=Gd()})),qd=g(),Q=Kd(),Jd=(0,x.createContext)(void 0);function Yd({children:e}){let[t,n]=(0,x.useState)(!1),[r,i]=(0,x.useState)(null),[a,o]=(0,x.useState)(null),[s,c]=(0,x.useState)(null),[l,u]=(0,x.useState)(!0),d=async()=>{try{let e=await Gi(),t=e.tokens?.idToken?.payload[`cognito:groups`],n=e.tokens?.accessToken?.payload[`cognito:groups`],r=t||n||[];return console.log(`User Groups Found:`,r),r.includes(`admin`)?`admin`:`user`}catch(e){return console.error(`Li ly role:`,e),null}},f=async()=>{try{let e=await gs(),t=await Cd(),r=await d();i(e),o(t),c(r),n(!0)}catch{n(!1),i(null),o(null),c(null)}finally{u(!1)}};return(0,x.useEffect)(()=>{f()},[]),(0,Q.jsx)(Jd.Provider,{value:{isAuthenticated:t,user:r,userAttributes:a,role:s,isLoading:l,checkAuth:f,logout:async()=>{try{await Ad(),n(!1),i(null),o(null),c(null)}catch(e){console.error(`Logout error:`,e)}},getUserRole:d},children:e})}function Xd(){let e=(0,x.useContext)(Jd);if(e===void 0)throw Error(`useAuth must be used within an AuthProvider`);return e}const Zd=e=>{if(e.startsWith(`http`)||e.startsWith(`data:`))return e;let t=`/EcobrickWeb/`;return`${t.endsWith(`/`)?t:`${t}/`}${e.startsWith(`/`)?e.slice(1):e}`};var Qd=(0,x.createContext)(void 0);function $d({children:e}){let{user:t,isAuthenticated:n}=Xd(),r=n&&t?t.username||t.id:`guest`,i=`ecobrick_cart_${r}`,[a,o]=(0,x.useState)([]),[s,c]=(0,x.useState)(null);(0,x.useEffect)(()=>{let e=localStorage.getItem(i);if(e)try{o(JSON.parse(e))}catch{o([])}else o([]);c(null)},[r,i]),(0,x.useEffect)(()=>{localStorage.setItem(i,JSON.stringify(a))},[a,i]);let l=(e,t=1)=>{o(n=>n.find(t=>t.productId===e.id)?n.map(n=>n.productId===e.id?{...n,quantity:n.quantity+t}:n):[...n,{productId:e.id,product:e,quantity:t}])},u=e=>{o(t=>t.filter(t=>t.productId!==e))},d=(e,t)=>{if(t<=0){u(e);return}o(n=>n.map(n=>n.productId===e?{...n,quantity:t}:n))},f=()=>{o([]),c(null)},p=e=>{c(e)},m=()=>{c(null)},h=(0,x.useMemo)(()=>a.reduce((e,t)=>e+t.product.price*t.quantity,0),[a]),g=(0,x.useMemo)(()=>{if(!s)return 0;let e=s.discount;if(e.includes(`%`)){let t=parseFloat(e.replace(`%`,``));if(!isNaN(t))return h*t/100}else{let t=parseFloat(e);if(!isNaN(t))return t}return 0},[h,s]),_=Math.max(0,h-g),v=a.reduce((e,t)=>e+t.quantity,0);return(0,Q.jsx)(Qd.Provider,{value:{items:a,addToCart:l,removeFromCart:u,updateQuantity:d,clearCart:f,appliedVoucher:s,applyVoucher:p,removeVoucher:m,subtotal:h,discountAmount:g,total:_,cartCount:v},children:e})}function ef(){let e=(0,x.useContext)(Qd);if(!e)throw Error(`useCart must be used within CartProvider`);return e}var tf=({isActive:e})=>`navbar-link${e?` active`:``}`;function nf(){let[e,t]=(0,x.useState)(``),[n,r]=(0,x.useState)(!1),{isAuthenticated:i,user:a,userAttributes:o,logout:s,role:c}=Xd(),{cartCount:l}=ef(),u=(0,x.useRef)(null),d=Qe();(0,x.useEffect)(()=>{let e=e=>{u.current&&!u.current.contains(e.target)&&r(!1)},t=()=>{n&&r(!1)};return document.addEventListener(`mousedown`,e),window.addEventListener(`scroll`,t,{passive:!0}),()=>{document.removeEventListener(`mousedown`,e),window.removeEventListener(`scroll`,t)}},[n]);let f=async()=>{await s(),r(!1),d(`/`)},p=()=>o?.name?o.name.split(` `).map(e=>e[0]).join(``).toUpperCase().slice(0,2):o?.email?o.email[0].toUpperCase():a?.username?.[0]?.toUpperCase()||`U`;return(0,Q.jsx)(`header`,{className:`header`,"data-header":!0,children:(0,Q.jsxs)(`div`,{className:`container`,style:{position:`relative`},children:[(0,Q.jsx)(`div`,{className:`overlay`,"data-overlay":!0}),(0,Q.jsx)(un,{to:`/`,className:`logo`,children:(0,Q.jsx)(`img`,{src:Zd(`LogoEBcolor.png`),width:60,height:60,alt:`Ecobrick logo`})}),(0,Q.jsxs)(`nav`,{className:`navbar`,"data-navbar":!0,children:[(0,Q.jsxs)(`ul`,{className:`navbar-list`,children:[(0,Q.jsx)(`li`,{className:`navbar-item`,children:(0,Q.jsx)(dn,{to:`/`,className:tf,children:`Trang ch`})}),(0,Q.jsx)(`li`,{className:`navbar-item`,children:(0,Q.jsx)(dn,{to:`/about`,className:tf,children:`V chng ti`})}),(0,Q.jsxs)(`li`,{className:`navbar-item dropdown`,children:[(0,Q.jsx)(dn,{to:`/products`,className:tf,children:`Sn phm`}),(0,Q.jsxs)(`ul`,{className:`dropdown-menu`,children:[(0,Q.jsx)(`li`,{children:(0,Q.jsx)(un,{to:`/products/gach-mosaic-xanh`,children:`Gch Mosaic`})}),(0,Q.jsx)(`li`,{children:(0,Q.jsx)(un,{to:`/products/tam-op-ecoterrazzo`,children:`Tm p Tng`})}),(0,Q.jsx)(`li`,{children:(0,Q.jsx)(un,{to:`/products/khoi-nhua-hdpe`,children:`Nha p Khi`})})]})]}),(0,Q.jsx)(`li`,{className:`navbar-item`,children:(0,Q.jsx)(dn,{to:`/process`,className:tf,children:`Quy trnh`})}),(0,Q.jsx)(`li`,{className:`navbar-item`,children:(0,Q.jsx)(dn,{to:`/contact`,className:tf,children:`Lin h`})}),(0,Q.jsxs)(`li`,{className:`navbar-item dropdown`,children:[(0,Q.jsx)(`span`,{className:`navbar-link`,children:`Cch thc hot ng`}),(0,Q.jsxs)(`ul`,{className:`dropdown-menu`,children:[(0,Q.jsx)(`li`,{children:(0,Q.jsx)(un,{to:`/how-it-works`,children:`Hng dn`})}),(0,Q.jsx)(`li`,{children:(0,Q.jsx)(un,{to:`/rewards`,children:`im & u i`})})]})]})]}),(0,Q.jsxs)(`ul`,{className:`nav-action-list`,children:[(0,Q.jsx)(`li`,{className:`search-wrapper`,children:(0,Q.jsxs)(`div`,{className:`search-bar`,children:[(0,Q.jsx)(`i`,{className:`fa-solid fa-magnifying-glass search-icon`,"aria-hidden":`true`}),(0,Q.jsx)(`input`,{type:`text`,placeholder:`Tm kim`,className:`search-input`,value:e,onChange:e=>t(e.target.value)}),e&&(0,Q.jsx)(`button`,{type:`button`,className:`search-close`,onClick:()=>t(``),"aria-label":`Xa tm kim`,children:(0,Q.jsx)(`i`,{className:`fa-solid fa-xmark`,"aria-hidden":`true`})})]})}),(0,Q.jsx)(`li`,{children:(0,Q.jsxs)(un,{to:`/cart`,className:`nav-action-btn`,style:{position:`relative`,border:`none`,padding:`0.6rem`},children:[(0,Q.jsx)(`i`,{className:`fa-solid fa-cart-shopping`,style:{fontSize:`1.2rem`}}),l>0&&(0,Q.jsx)(`span`,{style:{position:`absolute`,top:`-5px`,right:`-5px`,background:`#ef4444`,color:`white`,borderRadius:`50%`,width:`20px`,height:`20px`,fontSize:`0.75rem`,display:`flex`,alignItems:`center`,justifyContent:`center`,fontWeight:700},children:l})]})}),(0,Q.jsx)(`li`,{children:i?(0,Q.jsxs)(`div`,{className:`user-menu`,ref:u,children:[(0,Q.jsx)(`button`,{className:`user-avatar-btn`,onClick:()=>r(!n),"aria-label":`User menu`,children:(0,Q.jsx)(`div`,{className:`user-avatar`,children:p()})}),n&&(0,Q.jsxs)(`div`,{className:`user-dropdown`,children:[(0,Q.jsxs)(`div`,{className:`user-dropdown-header`,children:[(0,Q.jsx)(`div`,{className:`user-avatar large`,children:p()}),(0,Q.jsxs)(`div`,{className:`user-info`,children:[(0,Q.jsx)(`div`,{className:`user-name`,children:o?.name||a?.username}),(0,Q.jsx)(`div`,{className:`user-email`,children:o?.email})]})]}),(0,Q.jsx)(`div`,{className:`user-dropdown-divider`}),(0,Q.jsxs)(`ul`,{className:`user-dropdown-menu`,children:[c===`admin`&&(0,Q.jsx)(`li`,{children:(0,Q.jsx)(un,{to:`/admin`,onClick:()=>r(!1),children:(0,Q.jsx)(`span`,{children:`Trang qun tr`})})}),(0,Q.jsx)(`li`,{children:(0,Q.jsx)(un,{to:`/profile`,onClick:()=>r(!1),children:(0,Q.jsx)(`span`,{children:`H s ca ti`})})}),(0,Q.jsx)(`li`,{children:(0,Q.jsx)(un,{to:`/rewards`,onClick:()=>r(!1),children:(0,Q.jsx)(`span`,{children:`im thng`})})}),(0,Q.jsx)(`li`,{children:(0,Q.jsx)(un,{to:`/history`,onClick:()=>r(!1),children:(0,Q.jsx)(`span`,{children:`Lch s hot ng`})})}),(0,Q.jsx)(`li`,{children:(0,Q.jsx)(un,{to:`/vouchers`,onClick:()=>r(!1),children:(0,Q.jsx)(`span`,{children:`Voucher ca ti`})})}),(0,Q.jsx)(`li`,{children:(0,Q.jsx)(un,{to:`/redeem`,onClick:()=>r(!1),children:(0,Q.jsx)(`span`,{children:`i qu`})})})]}),(0,Q.jsx)(`div`,{className:`user-dropdown-divider`}),(0,Q.jsx)(`button`,{className:`user-dropdown-logout`,onClick:f,children:(0,Q.jsx)(`span`,{children:`ng xut`})})]})]}):(0,Q.jsxs)(dn,{to:`/login`,className:`nav-action-btn`,children:[(0,Q.jsx)(`i`,{className:`fa-solid fa-user`,"aria-hidden":`true`}),(0,Q.jsx)(`span`,{className:`nav-action-text`,children:`ng nhp`})]})})]})]})]})})}function rf(){return(0,Q.jsxs)(`footer`,{className:`footer`,children:[(0,Q.jsxs)(`div`,{className:`footer-container`,children:[(0,Q.jsx)(`div`,{className:`footer-about`,children:(0,Q.jsx)(`img`,{src:Zd(`LogoEBwhile.png`),alt:`Ecobrick Logo`,className:`footer-logo`})}),(0,Q.jsxs)(`div`,{className:`footer-links`,children:[(0,Q.jsx)(`h4`,{children:`Lin kt nhanh`}),(0,Q.jsxs)(`ul`,{children:[(0,Q.jsx)(`li`,{children:(0,Q.jsx)(`a`,{href:`/`,children:`Trang ch`})}),(0,Q.jsx)(`li`,{children:(0,Q.jsx)(`a`,{href:`/about`,children:`Gii thiu`})}),(0,Q.jsx)(`li`,{children:(0,Q.jsx)(`a`,{href:`/products`,children:`Sn phm`})}),(0,Q.jsx)(`li`,{children:(0,Q.jsx)(`a`,{href:`/process`,children:`Quy trnh sn xut`})}),(0,Q.jsx)(`li`,{children:(0,Q.jsx)(`a`,{href:`/contact`,children:`Lin h`})})]})]}),(0,Q.jsxs)(`div`,{className:`footer-contact`,children:[(0,Q.jsx)(`h4`,{children:`Lin h`}),(0,Q.jsx)(`p`,{children:` Nguyn Vn C, Ninh Kiu, TP Cn Th`}),(0,Q.jsx)(`p`,{children:` 0909 123 456`}),(0,Q.jsx)(`p`,{children:` ecobrick.vn@gmail.com`}),(0,Q.jsx)(`p`,{children:` 8:00 - 17:00 (T2 - T7)`})]}),(0,Q.jsxs)(`div`,{className:`footer-social`,children:[(0,Q.jsx)(`h4`,{children:`Kt ni vi chng ti`}),(0,Q.jsxs)(`div`,{className:`social-icons`,children:[(0,Q.jsx)(`a`,{href:`#`,"aria-label":`Facebook`,children:(0,Q.jsx)(`i`,{className:`fab fa-facebook-f`})}),(0,Q.jsx)(`a`,{href:`#`,"aria-label":`Instagram`,children:(0,Q.jsx)(`i`,{className:`fab fa-instagram`})}),(0,Q.jsx)(`a`,{href:`#`,"aria-label":`TikTok`,children:(0,Q.jsx)(`i`,{className:`fab fa-tiktok`})}),(0,Q.jsx)(`a`,{href:`#`,"aria-label":`LinkedIn`,children:(0,Q.jsx)(`i`,{className:`fab fa-linkedin-in`})})]})]})]}),(0,Q.jsx)(`div`,{className:`footer-bottom`,children:(0,Q.jsx)(`p`,{children:` 2026 Ecobrick. All rights reserved. Thit k v pht trin bi Ecobrick Team.`})})]})}function af({children:e}){let{isAuthenticated:t,isLoading:n}=Xd();return n?(0,Q.jsxs)(`div`,{style:{display:`flex`,justifyContent:`center`,alignItems:`center`,minHeight:`60vh`,flexDirection:`column`,gap:`1rem`},children:[(0,Q.jsx)(`div`,{className:`spinner`,style:{width:`48px`,height:`48px`,border:`4px solid #f3f3f3`,borderTop:`4px solid #20803F`,borderRadius:`50%`,animation:`spin 1s linear infinite`}}),(0,Q.jsx)(`p`,{style:{color:`#666`,fontSize:`1rem`},children:`ang ti...`})]}):t?(0,Q.jsx)(Q.Fragment,{children:e}):(0,Q.jsx)(xt,{to:`/login`,replace:!0})}function of({children:e}){let{isAuthenticated:t,role:n,isLoading:r}=Xd();return r?(0,Q.jsxs)(`div`,{style:{display:`flex`,justifyContent:`center`,alignItems:`center`,minHeight:`60vh`,flexDirection:`column`,gap:`1rem`},children:[(0,Q.jsx)(`div`,{className:`spinner`,style:{width:`48px`,height:`48px`,border:`4px solid #f3f3f3`,borderTop:`4px solid #20803F`,borderRadius:`50%`,animation:`spin 1s linear infinite`}}),(0,Q.jsx)(`p`,{style:{color:`#666`,fontSize:`1rem`},children:`ang ti...`})]}):t?n===`admin`?(0,Q.jsx)(Q.Fragment,{children:e}):(0,Q.jsxs)(`div`,{style:{display:`flex`,justifyContent:`center`,alignItems:`center`,minHeight:`60vh`,flexDirection:`column`,gap:`1.5rem`,padding:`2rem`,textAlign:`center`},children:[(0,Q.jsx)(`div`,{style:{fontSize:`4rem`,color:`#dc3545`},children:``}),(0,Q.jsx)(`h2`,{style:{color:`#2d2d2d`,fontSize:`1.75rem`,fontWeight:600},children:`Khng c quyn truy cp`}),(0,Q.jsx)(`p`,{style:{color:`#666`,fontSize:`1.1rem`,maxWidth:`480px`},children:`Bn khng c quyn truy cp trang ny. Ch ti khon Admin mi c th truy cp trang qun tr.`}),(0,Q.jsx)(`a`,{href:`/`,style:{display:`inline-block`,padding:`0.75rem 2rem`,background:`#20803F`,color:`white`,textDecoration:`none`,borderRadius:`8px`,fontWeight:600,transition:`all 0.3s ease`},onMouseOver:e=>e.currentTarget.style.background=`#1a6633`,onMouseOut:e=>e.currentTarget.style.background=`#20803F`,children:`V trang ch`})]}):(0,Q.jsx)(xt,{to:`/login`,replace:!0})}const sf=[{id:`product-1`,slug:`gach-xanh`,name:`Gch Mosaic Xanh`,summary:`To im nhn c o cho khng gian sng vi ha tit mu sc sinh ng.`,description:`Gch Mosaic Xanh c sn xut t nha ti ch thn thin vi mi trng,  bn cao, chng thm tt v ph hp cho lt nn, p tng.`,price:`160.000 / vin`,images:[`images/green-mosaic-tile.jpg`,`images/banner.jpg`]},{id:`product-2`,slug:`gach-vang`,name:`EcoTerrazzo Panel`,summary:`Gii php thm m, thn thin mi trng cho ni tht hin i.`,description:`EcoTerrazzo Panel mang li v p t nhin v tinh t vi hiu ng terrazzo c o, ph hp cho nhiu phong cch kin trc bn vng.`,price:`180.000 / vin`,images:[`images/ecoterrazzo-panel.jpg`,`images/hdpe.jpg`]},{id:`product-3`,slug:`gach-do`,name:`Gch lc gic Ecobrick Hexa`,summary:`Thit k ti u v bn vng cho li i cng cng v sn vn.`,description:`Gch Hexa gip ti u kt cu lp t, tng  bn v tnh thm m, ph hp cho khu vc sinh hot ngoi tri v cng trnh xanh.`,price:`140.000 / vin`,images:[`images/hdpe.jpg`,`images/banner.jpg`]}];function cf(){return(0,x.useEffect)(()=>{let e=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&e.target.classList.add(`visible`)})},{threshold:.15,rootMargin:`0px 0px -50px 0px`});return document.querySelectorAll(`.fade-in, .product-card, .process-card, .impact-card`).forEach(t=>e.observe(t)),()=>e.disconnect()},[]),(0,Q.jsxs)(`div`,{className:`page content`,children:[(0,Q.jsxs)(`section`,{className:`hero`,children:[(0,Q.jsxs)(`div`,{className:`hero-left`,children:[(0,Q.jsxs)(`h1`,{children:[`GCH TI CH `,(0,Q.jsx)(`span`,{className:`highlight`,children:`ECOBRICK`})]}),(0,Q.jsx)(`h2`,{children:`D n th nghim sn xut gch t nha ti ch`}),(0,Q.jsx)(`p`,{className:`lead`,children:`Chng ti tn dng rc thi nha, ti ch thnh vt liu xy dng bn  p  thn thin vi mi trng.`}),(0,Q.jsx)(`div`,{className:`hero-cta`,children:(0,Q.jsx)(un,{to:`/products`,className:`btn primary`,children:`Khm ph sn phm `})})]}),(0,Q.jsx)(`div`,{className:`hero-right`,children:(0,Q.jsx)(`img`,{src:Zd(`images/banner.jpg`),alt:`Gch lt t rc nha`,loading:`lazy`})})]}),(0,Q.jsx)(`section`,{className:`section pad`,children:(0,Q.jsxs)(`div`,{className:`container`,children:[(0,Q.jsx)(`h2`,{className:`section-title`,children:`ECOBRICK C G?`}),(0,Q.jsx)(`p`,{className:`section-sub`,children:`Nhng mu gch ti ch ni bt ca chng ti`}),(0,Q.jsx)(`div`,{className:`product-list`,children:sf.map((e,t)=>(0,Q.jsxs)(`article`,{className:`card product-card fade-in`,style:{transitionDelay:`${t*.1}s`},children:[(0,Q.jsx)(`img`,{src:Zd(e.images[0]),alt:e.name,loading:`lazy`}),(0,Q.jsxs)(`div`,{className:`card-body`,children:[(0,Q.jsx)(`h3`,{children:e.name}),(0,Q.jsx)(`p`,{children:e.summary}),(0,Q.jsx)(un,{to:`/products/${e.slug}`,className:`chip`,children:`Xem chi tit`})]})]},e.id))}),(0,Q.jsx)(`div`,{className:`center`,style:{marginTop:`2rem`},children:(0,Q.jsx)(un,{id:`view-all`,to:`/products`,children:`Xem tt c sn phm`})})]})}),(0,Q.jsx)(`section`,{className:`section pad`,children:(0,Q.jsxs)(`div`,{className:`container`,children:[(0,Q.jsx)(`h2`,{className:`section-title`,children:`QUY TRNH SN XUT`}),(0,Q.jsx)(`p`,{className:`section-sub`,children:`Hnh trnh ti ch xanh t rc thi n vt liu xy dng`}),(0,Q.jsxs)(`div`,{className:`process-grid`,children:[(0,Q.jsxs)(`div`,{className:`process-card fade-in`,style:{background:`#1565C0`,transitionDelay:`0s`},children:[(0,Q.jsx)(`div`,{className:`icon`,children:``}),(0,Q.jsx)(`h3`,{children:`Thu gom nha`}),(0,Q.jsx)(`p`,{children:`Thu thp rc thi nha t h gia nh, khu dn c v nh my  ti ch`})]}),(0,Q.jsxs)(`div`,{className:`process-card fade-in`,style:{background:`#00796B`,transitionDelay:`0.1s`},children:[(0,Q.jsx)(`div`,{className:`icon`,children:``}),(0,Q.jsx)(`h3`,{children:`Phn loi  X l`}),(0,Q.jsx)(`p`,{children:`Phn loi, lm sch v x l nha nhm m bo cht lng vt liu u vo`})]}),(0,Q.jsxs)(`div`,{className:`process-card fade-in`,style:{background:`#FBC02D`,transitionDelay:`0.2s`},children:[(0,Q.jsx)(`div`,{className:`icon`,children:``}),(0,Q.jsx)(`h3`,{children:`p thnh nha`}),(0,Q.jsx)(`p`,{children:`Nung chy v p thnh cc khi nha c  bn cao, sn sng to hnh`})]}),(0,Q.jsxs)(`div`,{className:`process-card fade-in`,style:{background:`#4DB6AC`,transitionDelay:`0.3s`},children:[(0,Q.jsx)(`div`,{className:`icon`,children:``}),(0,Q.jsx)(`h3`,{children:`Lt ng`}),(0,Q.jsx)(`p`,{children:`Gia cng, hon thin b mt v lp t lm gch lt cho cng trnh xanh`})]})]})]})}),(0,Q.jsx)(`section`,{className:`section pad section-light`,children:(0,Q.jsxs)(`div`,{className:`container`,children:[(0,Q.jsx)(`h2`,{className:`section-title`,children:`TC NG & LI CH`}),(0,Q.jsx)(`p`,{className:`section-sub`,children:`Gim rc thi nha, to vic lm v nng cao cnh quan  th`}),(0,Q.jsxs)(`div`,{className:`impact-cards`,children:[(0,Q.jsxs)(`div`,{className:`impact-card fade-in`,style:{transitionDelay:`0s`},children:[(0,Q.jsx)(`div`,{className:`icon`,children:``}),(0,Q.jsx)(`h4`,{children:`Gim  nhim`}),(0,Q.jsx)(`p`,{children:`Gim lng nha ra mi trng, gp phn v sinh  th`})]}),(0,Q.jsxs)(`div`,{className:`impact-card fade-in`,style:{transitionDelay:`0.1s`},children:[(0,Q.jsx)(`div`,{className:`icon`,children:``}),(0,Q.jsx)(`h4`,{children:`Bn & Tit kim`}),(0,Q.jsx)(`p`,{children:`Sn phm  bn cao, t bo tr hn vt liu truyn thng`})]}),(0,Q.jsxs)(`div`,{className:`impact-card fade-in`,style:{transitionDelay:`0.2s`},children:[(0,Q.jsx)(`div`,{className:`icon`,children:``}),(0,Q.jsx)(`h4`,{children:`To vic lm`}),(0,Q.jsx)(`p`,{children:`To chui gi tr v c hi vic lm cho cng ng`})]})]})]})})]})}function lf(){return(0,x.useEffect)(()=>{let e=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&e.target.classList.add(`visible`)})},{threshold:.15,rootMargin:`0px 0px -50px 0px`});return document.querySelectorAll(`.slide-left, .slide-right, .fade-in`).forEach(t=>e.observe(t)),()=>e.disconnect()},[]),(0,Q.jsxs)(`div`,{className:`page content`,children:[(0,Q.jsx)(`section`,{className:`about-section`,children:(0,Q.jsxs)(`div`,{className:`about-container`,children:[(0,Q.jsxs)(`div`,{className:`about-text slide-left`,children:[(0,Q.jsx)(`h2`,{className:`section-title left`,children:`GII THIU`}),(0,Q.jsx)(`p`,{children:(0,Q.jsxs)(`em`,{children:[(0,Q.jsx)(`strong`,{children:`Ecobrick`}),` - D n Gch ti ch t rc nha mm`]})}),(0,Q.jsxs)(`p`,{children:[(0,Q.jsx)(`strong`,{children:`Ecobrick`}),` l sng kin hng ti gim  nhim nha bng cch tn dng cc loi nha mm kh ti ch (chai nha mng, ti nilon, mng bc) a vo thnh phn sn xut gch xy dng. Mi vin gch c thit k cha khong 1% nha ti ch (130 g i vi vin 13 kg), bo m va x l c mt phn rc thi nha, va duy tr  bn c hc ca sn phm. D n ng thi theo ui mc tiu kinh t tun hon v ph hp xu hng vt liu xanh trong l trnh Net Zero 2050.`]})]}),(0,Q.jsx)(`div`,{className:`about-image slide-right`,children:(0,Q.jsx)(`img`,{src:Zd(`images/banner.jpg`),alt:`Ecobrick gii thiu`,loading:`lazy`})})]})}),(0,Q.jsx)(`section`,{className:`vision-section section-light`,children:(0,Q.jsxs)(`div`,{className:`vision-container`,children:[(0,Q.jsx)(`div`,{className:`vision-image slide-left`,children:(0,Q.jsx)(`img`,{src:Zd(`images/ecoterrazzo-panel.jpg`),alt:`Tm nhn Ecobrick`,loading:`lazy`})}),(0,Q.jsxs)(`div`,{className:`vision-text slide-right`,children:[(0,Q.jsx)(`h2`,{className:`section-title left`,children:`TM NHN`}),(0,Q.jsx)(`p`,{children:`Tr thnh doanh nghip tin phong trong lnh vc vt liu xy dng xanh ti Vit Nam, gp phn gim thiu  nhim nha v thc y li sng bn vng.`}),(0,Q.jsx)(`p`,{children:`Mc tiu ca Ecobrick khng ch l to ra mt loi gch thn thin vi mi trng m cn nng cao nhn thc ca cng ng v kh nng ti ch rc thi  bin nhng th tng chng v gi tr thnh nn tng cho nhng cng trnh vng chc v nhn vn.`})]})]})}),(0,Q.jsx)(`section`,{className:`mission-section`,children:(0,Q.jsxs)(`div`,{className:`mission-container`,children:[(0,Q.jsxs)(`div`,{className:`mission-text slide-left`,children:[(0,Q.jsx)(`h2`,{className:`section-title left`,children:`S MNH`}),(0,Q.jsx)(`p`,{children:`Cung cp cc gii php xy dng bn vng, thn thin vi mi trng v tit kim chi ph bng cch bin rc thi nha mm thnh vt liu hu ch cho cuc sng con ngi.`}),(0,Q.jsx)(`p`,{children:`D n hng n vic to ra sn phm gch c  bn cao, gi thnh hp l, ng thi gim lng rc thi nha trong t nhin. Bn cnh , nhm  cao gio dc cng ng, khuyn khch ngi dn v doanh nghip cng tham gia vo chui ti ch.`})]}),(0,Q.jsx)(`div`,{className:`mission-image slide-right`,children:(0,Q.jsx)(`img`,{src:Zd(`images/hdpe.jpg`),alt:`S mnh Ecobrick`,loading:`lazy`})})]})})]})}var uf=[{id:`p1`,name:`Gch Mosaic Xanh (Tiu chun)`,slug:`gach-mosaic-xanh`,price:45e3,description:`Gch Mosaic c lm t nha ti ch 100%, c  bn cao, chng thm nc, ph hp trang tr ni ngoi tht. Mu xanh t nhin t nha HDPE.`,image:`images/green-mosaic-tile.jpg`,category:`Vt liu xy dng`,stock:120,sizes:[`15x15cm`,`30x30cm`],specifications:{"Kch thc":`15x15 cm`," dy":`1.2 cm`,"Trng lng":`0.3 kg`,"Cht liu":`100% HDPE ti ch`,"Mu sc":`Xanh l`}},{id:`p2`,name:`Tm p EcoTerrazzo`,slug:`tam-op-ecoterrazzo`,price:25e4,description:`Tm p tng phong cch Terrazzo hin i. Sn phm c p nhit cao tn t nha ph thi, to nn ha tit c bn cho mi tm.`,image:`images/ecoterrazzo-panel.jpg`,category:`Vt liu xy dng`,stock:45,sizes:[`60x60cm`,`120x60cm`],specifications:{"Kch thc":`60x60 cm`," dy":`2.0 cm`,"Trng lng":`2.5 kg`,"Cht liu":`Nha hn hp`,"B mt":`Nhn bng / Nhm m`}},{id:`p3`,name:`Khi Nha HDPE Th`,slug:`khoi-nhua-hdpe`,price:35e3,description:`Khi nha HDPE  qua s ch v p khi, thch hp cho cc n v gia cng, iu khc hoc ti ch th cp.`,image:`images/hdpe.jpg`,category:`Material`,stock:500,sizes:[`1kg`,`5kg`,`10kg`],specifications:{"Kch thc":`Ty chnh`," tinh khit":`>95%`,"Nhit  nng chy":`130C`,"Mu sc":`a dng`}}],df=(0,x.createContext)(void 0);function ff({children:e}){let[t,n]=(0,x.useState)(()=>uf);return(0,x.useEffect)(()=>{localStorage.setItem(`ecobrick_products`,JSON.stringify(t))},[t]),(0,Q.jsx)(df.Provider,{value:{products:t,addProduct:e=>{let t={...e,id:`prod-${Date.now()}`};n(e=>[...e,t])},updateProduct:e=>{n(t=>t.map(t=>t.id===e.id?e:t))},deleteProduct:e=>{n(t=>t.filter(t=>t.id!==e))},getProductBySlug:e=>t.find(t=>t.slug===e)},children:e})}function pf(){let e=(0,x.useContext)(df);if(!e)throw Error(`useProducts must be used within ProductProvider`);return e}function mf(){let{products:e}=pf();return(0,Q.jsx)(`div`,{className:`page content`,style:{background:`#f8fafc`},children:(0,Q.jsx)(`section`,{className:`section pad`,children:(0,Q.jsxs)(`div`,{className:`container`,children:[(0,Q.jsx)(`h2`,{className:`section-title`,children:`SN PHM`}),(0,Q.jsx)(`p`,{className:`section-sub`,children:`Ton b sn phm gch ti ch`}),(0,Q.jsx)(`div`,{className:`grid-3`,children:e.map(e=>(0,Q.jsxs)(`article`,{className:`card`,children:[(0,Q.jsx)(`img`,{src:Zd(e.image||`images/ecobrick-std.jpg`),alt:e.name,style:{background:`#e2e8f0`}}),(0,Q.jsxs)(`div`,{className:`card-body`,children:[(0,Q.jsx)(`div`,{style:{textTransform:`uppercase`,fontSize:`0.8rem`,color:`#64748b`,fontWeight:600,marginBottom:`0.5rem`},children:e.category}),(0,Q.jsx)(`h3`,{children:e.name}),(0,Q.jsxs)(`div`,{style:{fontSize:`1.25rem`,color:`#20803F`,fontWeight:700,marginBottom:`0.5rem`},children:[e.price.toLocaleString(),` `]}),(0,Q.jsx)(`p`,{className:`line-clamp-2`,style:{display:`-webkit-box`,WebkitLineClamp:2,WebkitBoxOrient:`vertical`,overflow:`hidden`},children:e.description}),(0,Q.jsx)(un,{to:`/products/${e.slug}`,className:`btn outline`,style:{marginTop:`auto`,textAlign:`center`},children:`Xem chi tit`})]})]},e.id))})]})})})}var hf=(0,x.createContext)(void 0);function gf({children:e}){let[t,n]=(0,x.useState)([]),[r,i]=(0,x.useState)(1),a=(0,x.useCallback)((e,t=`info`)=>{let a=r;i(a+1),n(n=>[...n,{id:a,message:e,type:t}]),setTimeout(()=>{o(a)},5e3)},[r]),o=e=>{n(t=>t.filter(t=>t.id!==e))};return(0,Q.jsxs)(hf.Provider,{value:{toasts:t,showToast:a,removeToast:o},children:[e,(0,Q.jsx)(vf,{toasts:t,removeToast:o})]})}function _f(){let e=(0,x.useContext)(hf);if(e===void 0)throw Error(`useToast must be used within a ToastProvider`);return e}function vf({toasts:e,removeToast:t}){return e.length===0?null:(0,Q.jsx)(`div`,{style:{position:`fixed`,top:`80px`,right:`20px`,zIndex:1e4,display:`flex`,flexDirection:`column`,gap:`10px`,maxWidth:`400px`},children:e.map(e=>(0,Q.jsxs)(`div`,{style:{padding:`16px 20px`,borderRadius:`8px`,boxShadow:`0 4px 12px rgba(0,0,0,0.15)`,display:`flex`,alignItems:`center`,justifyContent:`space-between`,gap:`12px`,backgroundColor:e.type===`success`?`#d4edda`:e.type===`error`?`#f8d7da`:e.type===`warning`?`#fff3cd`:`#d1ecf1`,color:e.type===`success`?`#155724`:e.type===`error`?`#721c24`:e.type===`warning`?`#856404`:`#0c5460`,border:`1px solid ${e.type===`success`?`#c3e6cb`:e.type===`error`?`#f5c6cb`:e.type===`warning`?`#ffeeba`:`#bee5eb`}`,animation:`slideInRight 0.3s ease-out`},children:[(0,Q.jsxs)(`div`,{style:{display:`flex`,alignItems:`center`,gap:`10px`,flex:1},children:[(0,Q.jsx)(`span`,{style:{fontSize:`20px`},children:e.type===`success`?``:e.type===`error`?``:e.type===`warning`?``:``}),(0,Q.jsx)(`span`,{style:{fontSize:`14px`,fontWeight:500},children:e.message})]}),(0,Q.jsx)(`button`,{onClick:()=>t(e.id),style:{background:`none`,border:`none`,cursor:`pointer`,fontSize:`18px`,color:`inherit`,opacity:.7,padding:`0 4px`},"aria-label":`ng`,children:``})]},e.id))})}function yf(){let{slug:e}=L(),{getProductBySlug:t,products:n}=pf(),{addToCart:r}=ef(),{showToast:i}=_f(),a=(0,x.useMemo)(()=>t(e||``),[e,t,n]),o=a?a.image||`images/green-mosaic-tile.jpg`:``,[s,c]=(0,x.useState)(1),[l,u]=(0,x.useState)(``);(0,x.useEffect)(()=>{a&&a.sizes&&a.sizes.length>0&&u(a.sizes[0])},[a]);let d=(0,x.useMemo)(()=>a?n.filter(e=>e.category===a.category&&e.id!==a.id).slice(0,3):[],[a,n]);return a?(0,Q.jsx)(`div`,{className:`page content`,style:{background:`#fff`},children:(0,Q.jsx)(`section`,{className:`product-page`,style:{padding:`4rem 0`},children:(0,Q.jsxs)(`div`,{className:`container`,children:[(0,Q.jsxs)(`div`,{className:`product-container`,style:{display:`grid`,gridTemplateColumns:`repeat(auto-fit, minmax(300px, 1fr))`,gap:`4rem`,alignItems:`start`},children:[(0,Q.jsx)(`div`,{className:`product-gallery`,children:(0,Q.jsx)(`div`,{className:`main-image`,style:{borderRadius:`16px`,overflow:`hidden`,boxShadow:`0 4px 20px rgba(0,0,0,0.08)`,border:`1px solid #f0f0f0`,position:`sticky`,top:`100px`},children:(0,Q.jsx)(`img`,{src:Zd(o),alt:a.name,style:{width:`100%`,height:`auto`,display:`block`,objectFit:`cover`}})})}),(0,Q.jsxs)(`div`,{className:`product-info`,children:[(0,Q.jsx)(`div`,{style:{marginBottom:`0.5rem`,color:`#64748b`,fontSize:`0.9rem`,textTransform:`uppercase`,letterSpacing:`1px`,fontWeight:600},children:a.category}),(0,Q.jsx)(`h1`,{className:`product-title`,style:{fontSize:`2.5rem`,color:`#1e293b`,marginBottom:`1rem`,lineHeight:1.2},children:a.name}),(0,Q.jsxs)(`div`,{className:`product-price`,style:{fontSize:`1.75rem`,color:`#20803F`,fontWeight:700,marginBottom:`1.5rem`},children:[a.price.toLocaleString(),` `]}),(0,Q.jsx)(`p`,{className:`product-desc`,style:{fontSize:`1.05rem`,color:`#475569`,lineHeight:1.7,marginBottom:`2rem`},children:a.description}),a.sizes&&a.sizes.length>0&&(0,Q.jsxs)(`div`,{style:{marginBottom:`2rem`},children:[(0,Q.jsx)(`h4`,{style:{marginBottom:`0.75rem`,fontSize:`1rem`,fontWeight:600},children:`Kch thc`}),(0,Q.jsx)(`div`,{style:{display:`flex`,gap:`0.75rem`,flexWrap:`wrap`},children:a.sizes.map(e=>(0,Q.jsx)(`button`,{onClick:()=>u(e),style:{padding:`0.5rem 1.25rem`,border:l===e?`2px solid #20803F`:`1px solid #cbd5e1`,borderRadius:`8px`,background:l===e?`rgba(32, 128, 63, 0.05)`:`white`,color:l===e?`#20803F`:`#64748b`,fontWeight:l===e?600:400,cursor:`pointer`,fontSize:`0.95rem`,transition:`all 0.2s ease`},children:e},e))})]}),(0,Q.jsxs)(`div`,{className:`product-actions`,style:{display:`flex`,gap:`1rem`,alignItems:`center`,marginBottom:`2.5rem`,flexWrap:`wrap`},children:[(0,Q.jsxs)(`div`,{style:{display:`flex`,alignItems:`center`,border:`1px solid #cbd5e1`,borderRadius:`8px`,background:`white`},children:[(0,Q.jsx)(`button`,{onClick:()=>c(Math.max(1,s-1)),style:{padding:`0.8rem 1.2rem`,background:`none`,border:`none`,cursor:`pointer`,fontSize:`1.1rem`},children:`-`}),(0,Q.jsx)(`span`,{style:{padding:`0 0.5rem`,fontWeight:600,minWidth:`40px`,textAlign:`center`},children:s}),(0,Q.jsx)(`button`,{onClick:()=>c(s+1),style:{padding:`0.8rem 1.2rem`,background:`none`,border:`none`,cursor:`pointer`,fontSize:`1.1rem`},children:`+`})]}),(0,Q.jsxs)(`button`,{className:`btn primary`,onClick:()=>{r(a,s),i(` thm ${s} ${a.name} vo gi hng!`,`success`)},style:{flex:1,minWidth:`200px`,display:`flex`,alignItems:`center`,justifyContent:`center`,gap:`0.75rem`},children:[(0,Q.jsx)(`i`,{className:`fa-solid fa-cart-shopping`}),` Thm vo gi hng`]})]}),(0,Q.jsxs)(`div`,{style:{marginBottom:`2.5rem`},children:[(0,Q.jsx)(`h4`,{style:{marginBottom:`1rem`,fontSize:`1.1rem`,fontWeight:600,color:`#334155`},children:`M t chi tit`}),(0,Q.jsxs)(`div`,{style:{lineHeight:`1.8`,color:`#475569`,fontSize:`1rem`},children:[(0,Q.jsx)(`p`,{style:{marginBottom:`1rem`},children:a.description}),(0,Q.jsxs)(`p`,{children:[`Sn phm `,a.name,` l gii php bn vng cho cng trnh xanh. c sn xut t quy trnh ti ch khp kn, m bo cht lng cao v thm m vt tri. S dng sn phm ny l bn ang gp phn gim thiu rc thi nha ra mi trng.`]})]})]}),a.specifications&&Object.keys(a.specifications).length>0&&(0,Q.jsxs)(`div`,{style:{background:`#f8fafc`,padding:`1.5rem`,borderRadius:`12px`,marginBottom:`2rem`,border:`1px solid #e2e8f0`},children:[(0,Q.jsx)(`h4`,{style:{marginBottom:`1rem`,fontSize:`1.1rem`},children:`Thng s k thut`}),(0,Q.jsx)(`ul`,{style:{listStyle:`none`,padding:0,margin:0},children:Object.entries(a.specifications).map(([e,t])=>(0,Q.jsxs)(`li`,{style:{display:`flex`,justifyContent:`space-between`,padding:`0.75rem 0`,borderBottom:`1px solid #e2e8f0`},children:[(0,Q.jsx)(`span`,{style:{color:`#64748b`},children:e}),(0,Q.jsx)(`span`,{style:{fontWeight:500,color:`#334155`},children:t})]},e))})]}),(0,Q.jsxs)(`div`,{style:{marginTop:`1rem`,color:`#64748b`,fontSize:`0.9rem`,display:`flex`,gap:`1.5rem`,flexWrap:`wrap`},children:[(0,Q.jsxs)(`span`,{children:[(0,Q.jsx)(`i`,{className:`fa-solid fa-truck-fast`,style:{color:`#20803F`}}),` Giao hng ton quc`]}),(0,Q.jsxs)(`span`,{children:[(0,Q.jsx)(`i`,{className:`fa-solid fa-shield-halved`,style:{color:`#20803F`}}),` Bo hnh chnh hng`]}),(0,Q.jsxs)(`span`,{children:[(0,Q.jsx)(`i`,{className:`fa-solid fa-rotate-left`,style:{color:`#20803F`}}),` i tr trong 7 ngy`]})]})]})]}),d.length>0&&(0,Q.jsxs)(`div`,{className:`related-products-section`,style:{marginTop:`5rem`,borderTop:`1px solid #e2e8f0`,paddingTop:`3rem`},children:[(0,Q.jsx)(`h2`,{className:`section-title`,style:{textAlign:`left`,marginBottom:`0.5rem`,fontSize:`1.8rem`},children:`Sn phm  xut`}),(0,Q.jsx)(`p`,{style:{color:`#64748b`,marginBottom:`2rem`},children:`C th bn cng quan tm n cc sn phm ny`}),(0,Q.jsx)(`div`,{className:`grid-3`,style:{display:`grid`,gridTemplateColumns:`repeat(auto-fill, minmax(260px, 1fr))`,gap:`2rem`},children:d.map(e=>(0,Q.jsx)(un,{to:`/products/${e.slug}`,style:{textDecoration:`none`,color:`inherit`},className:`related-card-link`,children:(0,Q.jsxs)(`article`,{className:`card`,style:{height:`100%`,display:`flex`,flexDirection:`column`,transition:`transform 0.3s ease, box-shadow 0.3s ease`},children:[(0,Q.jsx)(`div`,{style:{position:`relative`,overflow:`hidden`,paddingTop:`75%`},children:(0,Q.jsx)(`img`,{src:Zd(e.image||`images/hdpe.jpg`),alt:e.name,style:{position:`absolute`,top:0,left:0,width:`100%`,height:`100%`,objectFit:`cover`}})}),(0,Q.jsxs)(`div`,{className:`card-body`,style:{padding:`1.5rem`,flex:1,display:`flex`,flexDirection:`column`},children:[(0,Q.jsx)(`div`,{style:{fontSize:`0.75rem`,color:`#64748b`,textTransform:`uppercase`,marginBottom:`0.5rem`,fontWeight:700,letterSpacing:`0.05em`},children:e.category}),(0,Q.jsx)(`h3`,{style:{fontSize:`1.1rem`,marginBottom:`0.5rem`,fontWeight:700,color:`#1e293b`,lineHeight:1.4},children:e.name}),(0,Q.jsxs)(`div`,{style:{marginTop:`auto`,color:`#20803F`,fontWeight:700,fontSize:`1.1rem`},children:[e.price.toLocaleString(),` `]})]})]})},e.id))})]})]})})}):(0,Q.jsx)(`div`,{className:`page content`,style:{padding:`4rem 0`},children:(0,Q.jsx)(`section`,{className:`section pad`,children:(0,Q.jsxs)(`div`,{className:`container center`,style:{textAlign:`center`},children:[(0,Q.jsx)(`h2`,{className:`section-title`,children:`Khng tm thy sn phm`}),(0,Q.jsx)(`p`,{className:`section-sub`,children:`Vui lng quay li danh sch sn phm.`}),(0,Q.jsx)(un,{to:`/products`,className:`btn primary`,children:`Quay li danh sch`})]})})})}const bf=[{id:`step-1`,title:`Thu gom nha`,description:`Nha ph thi c thu gom t cc ngun sinh hot, cng nghip v khu dn c, m bo ngun nguyn liu sch v bn vng cho qu trnh sn xut.`,image:`images/banner.jpg`},{id:`step-2`,title:`Phn loi & x l`,description:`S dng cng ngh hin i  phn loi v lm sch nha, loi b tp cht nhm m bo cht lng cao cho sn phm cui cng.`,image:`images/hdpe.jpg`},{id:`step-3`,title:`Nghin nha`,description:`Nha sch c nghin thnh ht nh hoc mnh vn, gip d dng trn u trong hn hp vt liu xy dng vi  ng u cao.`,image:`images/ecoterrazzo-panel.jpg`},{id:`step-4`,title:`Phi trn`,description:`Nha nghin c phi trn vi hn hp vt liu v c gm xi mng, ct,  theo t l khoa hc, m bo tnh lin kt v  bn ti u.`,image:`images/green-mosaic-tile.jpg`},{id:`step-5`,title:`nh hnh`,description:`Hn hp sau khi trn c  vo khun v nh hnh trn c ch rung vi tn sut cao, to hnh dng vin gch chun xc v cht lng ng nht.`,image:`images/green-mosaic-tile.jpg`}];function xf(){return(0,x.useEffect)(()=>{let e=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&e.target.classList.add(`visible`)})},{threshold:.1,rootMargin:`0px 0px -50px 0px`});return document.querySelectorAll(`.process-card`).forEach((t,n)=>{t.style.transitionDelay=`${n*.1}s`,e.observe(t)}),()=>e.disconnect()},[]),(0,Q.jsx)(`div`,{className:`page content`,children:(0,Q.jsx)(`section`,{className:`process-page`,children:(0,Q.jsx)(`div`,{className:`container`,children:(0,Q.jsxs)(`div`,{className:`process-section`,children:[(0,Q.jsx)(`h1`,{className:`process-title`,children:`QUY TRNH SN XUT`}),(0,Q.jsx)(`p`,{className:`process-subtitle`,children:`T rc thi nha n vt liu xy dng bn vng  Hnh trnh ti ch xanh ca Ecobrick`}),(0,Q.jsx)(`div`,{className:`process-grid`,children:bf.map((e,t)=>(0,Q.jsxs)(`article`,{className:`process-card fade-in`,children:[(0,Q.jsx)(`div`,{className:`process-number`,children:String(t+1).padStart(2,`0`)}),(0,Q.jsx)(`div`,{className:`process-image`,children:(0,Q.jsx)(`img`,{src:Zd(e.image),alt:e.title,loading:`lazy`})}),(0,Q.jsxs)(`div`,{className:`process-content`,children:[(0,Q.jsx)(`h3`,{children:e.title}),(0,Q.jsx)(`p`,{children:e.description})]}),(0,Q.jsx)(`div`,{className:`process-dot`})]},e.id))})]})})})})}function Sf(){let[e,t]=(0,x.useState)({name:``,phone:``,email:``,message:``}),[n,r]=(0,x.useState)(!1),[i,a]=(0,x.useState)(`idle`),o=e=>{t(t=>({...t,[e.target.name]:e.target.value}))};return(0,Q.jsx)(`div`,{className:`page content`,children:(0,Q.jsx)(`section`,{className:`section pad`,children:(0,Q.jsxs)(`div`,{className:`container contact-grid`,children:[(0,Q.jsxs)(`div`,{className:`contact-left`,children:[(0,Q.jsx)(`h1`,{style:{fontSize:`2.5rem`,color:`#20803F`,marginBottom:`1.5rem`,fontWeight:700},children:`ECOBRICK`}),(0,Q.jsx)(`p`,{style:{marginBottom:`1rem`,fontSize:`1.05rem`,lineHeight:1.7},children:`Chng ti lun sn sng lng nghe v h tr bn. Hy lin h vi Ecobrick  cng xy dng tng lai xanh v bn vng!`}),(0,Q.jsxs)(`div`,{style:{marginTop:`2rem`},children:[(0,Q.jsxs)(`div`,{style:{display:`flex`,alignItems:`flex-start`,gap:`1rem`,marginBottom:`1.25rem`},children:[(0,Q.jsx)(`div`,{style:{color:`#20803F`,fontSize:`1.5rem`,marginTop:`0.2rem`},children:``}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`h4`,{style:{color:`#20803F`,marginBottom:`0.25rem`,fontSize:`1.1rem`,fontWeight:600},children:`a ch`}),(0,Q.jsx)(`p`,{style:{color:`#555`,lineHeight:1.6},children:`Nguyn Vn C, Ninh Kiu, TP Cn Th`})]})]}),(0,Q.jsxs)(`div`,{style:{display:`flex`,alignItems:`flex-start`,gap:`1rem`,marginBottom:`1.25rem`},children:[(0,Q.jsx)(`div`,{style:{color:`#20803F`,fontSize:`1.5rem`,marginTop:`0.2rem`},children:``}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`h4`,{style:{color:`#20803F`,marginBottom:`0.25rem`,fontSize:`1.1rem`,fontWeight:600},children:`in thoi`}),(0,Q.jsx)(`p`,{style:{color:`#555`,lineHeight:1.6},children:`0909 123 456`})]})]}),(0,Q.jsxs)(`div`,{style:{display:`flex`,alignItems:`flex-start`,gap:`1rem`,marginBottom:`1.25rem`},children:[(0,Q.jsx)(`div`,{style:{color:`#20803F`,fontSize:`1.5rem`,marginTop:`0.2rem`},children:``}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`h4`,{style:{color:`#20803F`,marginBottom:`0.25rem`,fontSize:`1.1rem`,fontWeight:600},children:`Email`}),(0,Q.jsx)(`p`,{style:{color:`#555`,lineHeight:1.6},children:`ecobrick.vn@gmail.com`})]})]}),(0,Q.jsxs)(`div`,{style:{display:`flex`,alignItems:`flex-start`,gap:`1rem`},children:[(0,Q.jsx)(`div`,{style:{color:`#20803F`,fontSize:`1.5rem`,marginTop:`0.2rem`},children:``}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`h4`,{style:{color:`#20803F`,marginBottom:`0.25rem`,fontSize:`1.1rem`,fontWeight:600},children:`Gi lm vic`}),(0,Q.jsx)(`p`,{style:{color:`#555`,lineHeight:1.6},children:`8:00 - 17:00 (Th 2 - Th 7)`})]})]})]})]}),(0,Q.jsx)(`div`,{className:`contact-right`,children:(0,Q.jsxs)(`form`,{className:`contact-form`,onSubmit:async e=>{e.preventDefault(),r(!0),a(`idle`),setTimeout(()=>{r(!1),a(`success`),t({name:``,phone:``,email:``,message:``}),setTimeout(()=>a(`idle`),3e3)},1500)},children:[(0,Q.jsx)(`h2`,{style:{textAlign:`center`,color:`#20803F`,fontSize:`2.2rem`,margin:`0 0 1.5rem`,fontWeight:700,width:`100%`},children:`LIN H`}),(0,Q.jsx)(`input`,{type:`text`,name:`name`,placeholder:`H tn *`,value:e.name,onChange:o,required:!0,style:{width:`100%`,padding:`0.9rem 1rem`,border:`1.5px solid #ddd`,borderRadius:`8px`,fontSize:`1rem`,transition:`all 0.3s ease`}}),(0,Q.jsx)(`input`,{type:`tel`,name:`phone`,placeholder:`S in thoi *`,value:e.phone,onChange:o,required:!0,style:{width:`100%`,padding:`0.9rem 1rem`,border:`1.5px solid #ddd`,borderRadius:`8px`,fontSize:`1rem`,transition:`all 0.3s ease`}}),(0,Q.jsx)(`input`,{type:`email`,name:`email`,placeholder:`a ch email *`,value:e.email,onChange:o,required:!0,style:{width:`100%`,padding:`0.9rem 1rem`,border:`1.5px solid #ddd`,borderRadius:`8px`,fontSize:`1rem`,transition:`all 0.3s ease`}}),(0,Q.jsx)(`textarea`,{name:`message`,rows:5,placeholder:`Ni dung *`,value:e.message,onChange:o,required:!0,style:{width:`100%`,padding:`0.9rem 1rem`,border:`1.5px solid #ddd`,borderRadius:`8px`,fontSize:`1rem`,resize:`vertical`,transition:`all 0.3s ease`}}),i===`success`&&(0,Q.jsx)(`div`,{style:{padding:`0.75rem`,background:`rgba(32, 128, 63, 0.1)`,color:`#20803F`,borderRadius:`8px`,textAlign:`center`,fontWeight:600},children:` Gi lin h thnh cng! Chng ti s phn hi sm nht.`}),(0,Q.jsx)(`button`,{className:`btn primary`,type:`submit`,disabled:n,style:{background:n?`#ccc`:`#20803F`,color:`#ffffff`,border:`none`,padding:`1rem`,textAlign:`center`,width:`100%`,fontSize:`1.05rem`,fontWeight:600,borderRadius:`8px`,cursor:n?`not-allowed`:`pointer`,transition:`all 0.3s ease`},children:n?`ANG GI...`:`GI LIN H`})]})})]})})})}function Cf(){let e=Qe(),t=Ye().state?.message,{checkAuth:n}=Xd(),{showToast:r}=_f(),[i,a]=(0,x.useState)(``),[o,s]=(0,x.useState)(``),[c,l]=(0,x.useState)(!1),[u,d]=(0,x.useState)(!1),[f,p]=(0,x.useState)(``),m=async t=>{t.preventDefault(),p(``),d(!0);let a=i.trim().toLowerCase();if(!a||!o){p(`Vui lng nhp y  email v mt khu.`),d(!1);return}try{await Eu({username:a,password:o}),await n();let t=await Gi();(t.tokens?.idToken?.payload[`cognito:groups`]||t.tokens?.accessToken?.payload[`cognito:groups`]||[]).includes(`admin`)?(r(`Xin cho Admin! ang chuyn hng...`,`success`),e(`/admin`)):(r(`ng nhp thnh cng! Cho mng bn quay tr li.`,`success`),e(`/rewards`))}catch(t){console.error(`Login error:`,t);let n=typeof t==`object`&&t&&`name`in t?String(t.name):``;n===`UserNotConfirmedException`?(p(` Ti khon cha c xc thc. Vui lng kim tra email v nhp m xc nhn  kch hot ti khon.`),setTimeout(()=>{e(`/register?email=`+encodeURIComponent(a))},3e3)):p(n===`NotAuthorizedException`?` Sai mt khu. Vui lng kim tra li hoc dng chc nng "Qun mt khu".`:n===`UserNotFoundException`?` Email ny cha c ng k. Vui lng to ti khon mi.`:n===`InvalidParameterException`?` Thng tin ng nhp khng hp l. Vui lng kim tra email v mt khu.`:n===`TooManyRequestsException`||n===`LimitExceededException`?` Bn  th ng nhp qu nhiu ln. Vui lng i 15 pht v th li.`:` Li: ${t instanceof Error?t.message:`ng nhp tht bi.`}`)}finally{d(!1)}},h=async()=>{p(``);try{await bd({provider:`Google`})}catch{p(` Khng th ng nhp vi Google. Vui lng th li.`)}};return(0,Q.jsx)(`div`,{className:`page content`,children:(0,Q.jsx)(`section`,{className:`auth-section`,children:(0,Q.jsx)(`div`,{className:`container`,children:(0,Q.jsxs)(`div`,{className:`login-container`,children:[(0,Q.jsx)(`h2`,{className:`login-title`,children:`ng nhp`}),(0,Q.jsx)(`p`,{className:`login-desc`,children:`ng nhp  theo di im thng v i u i`}),t&&(0,Q.jsxs)(`div`,{style:{padding:`1rem`,background:`#d4edda`,color:`#155724`,borderRadius:`8px`,marginBottom:`1rem`,border:`1px solid #c3e6cb`},children:[` `,t]}),(0,Q.jsxs)(`form`,{onSubmit:m,children:[(0,Q.jsx)(`label`,{className:`form-label`,children:`Email`}),(0,Q.jsxs)(`div`,{className:`input-group`,children:[(0,Q.jsx)(`i`,{className:`fa-solid fa-envelope`}),(0,Q.jsx)(`input`,{type:`email`,placeholder:`email@example.com`,value:i,onChange:e=>a(e.target.value),autoComplete:`email`,required:!0})]}),(0,Q.jsx)(`label`,{className:`form-label`,children:`Mt khu`}),(0,Q.jsxs)(`div`,{className:`input-group`,children:[(0,Q.jsx)(`i`,{className:`fa-solid fa-lock`}),(0,Q.jsx)(`input`,{type:c?`text`:`password`,placeholder:`Nhp mt khu`,value:o,onChange:e=>s(e.target.value),autoComplete:`current-password`,required:!0}),(0,Q.jsx)(`span`,{className:`show-pass`,role:`button`,tabIndex:0,onClick:()=>l(e=>!e),onKeyDown:e=>{(e.key===`Enter`||e.key===` `)&&l(e=>!e)},"aria-label":c?`n mt khu`:`Hin mt khu`,children:c?``:``})]}),f&&(0,Q.jsx)(`p`,{className:`auth-error`,style:{padding:`0.75rem`,background:`#f8d7da`,color:`#721c24`,borderRadius:`8px`,marginBottom:`1rem`,border:`1px solid #f5c6cb`},children:f}),(0,Q.jsx)(`button`,{className:`btn-login`,type:`submit`,disabled:u,children:u?`ang ng nhp...`:`ng nhp`}),(0,Q.jsx)(`div`,{style:{textAlign:`center`,marginTop:`1rem`},children:(0,Q.jsx)(un,{to:`/forgot-password`,className:`forgot`,children:`Qun mt khu?`})}),(0,Q.jsx)(`div`,{className:`divider`,children:(0,Q.jsx)(`span`,{children:`hoc`})}),(0,Q.jsxs)(`button`,{className:`btn-google google-btn`,type:`button`,onClick:h,children:[(0,Q.jsx)(`i`,{className:`fab fa-google`}),`ng nhp vi Google`]})]}),(0,Q.jsxs)(`div`,{className:`signup-section`,children:[(0,Q.jsx)(`p`,{className:`signup-title`,children:`Cha c ti khon?`}),(0,Q.jsx)(`p`,{className:`signup-desc`,children:`To ti khon  bt u tch im i u i.`}),(0,Q.jsx)(un,{to:`/register`,className:`btn-signup secondary`,children:`To ti khon mi`})]})]})})})})}function wf(){let e=Qe(),t=new Date().getFullYear(),n=(0,x.useMemo)(()=>Array.from({length:100},(e,n)=>String(t-n)),[t]),r=(0,x.useMemo)(()=>Array.from({length:12},(e,t)=>String(t+1)),[]),[i,a]=(0,x.useState)(``),[o,s]=(0,x.useState)(``),[c,l]=(0,x.useState)(``),[u,d]=(0,x.useState)(!1),[f,p]=(0,x.useState)(``),[m,h]=(0,x.useState)(``),[g,_]=(0,x.useState)(``),[v,y]=(0,x.useState)(`+84`),[b,S]=(0,x.useState)(``),[C,w]=(0,x.useState)(!1),[T,E]=(0,x.useState)(!1),[D,O]=(0,x.useState)(``),[k,ee]=(0,x.useState)(``),[A,te]=(0,x.useState)(``),[ne,re]=(0,x.useState)(`signup`),[ie,j]=(0,x.useState)(!1),[M,ae]=(0,x.useState)(``),[oe,N]=(0,x.useState)(``),se=(0,x.useMemo)(()=>{if(!m)return[];let e=g?Number(g):t,n=Number(m);if(Number.isNaN(n)||n<1||n>12)return[];let r=new Date(e,n,0).getDate();return Array.from({length:r},(e,t)=>String(t+1))},[m,g,t]);(0,x.useEffect)(()=>{f&&se.length>0&&Number(f)>se.length&&p(``)},[se,f]);let ce=async e=>{if(e.preventDefault(),O(``),ee(``),!C){O(`Vui lng ng  iu khon trc khi to ti khon.`);return}E(!0);try{let e=o.trim().toLowerCase(),t=f&&m&&g?`${g}-${m.padStart(2,`0`)}-${f.padStart(2,`0`)}`:void 0,n=b.replace(/\s+/g,``),r=n?`${v}${n}`:void 0;await Iu({username:e,password:c,options:{userAttributes:{name:i.trim(),email:e,...t?{birthdate:t}:{},...r?{phone_number:r}:{}}}}),ee(`ng k thnh cng. Vui lng kim tra email  xc nhn ti khon.`),re(`confirm`),N(``),te(``),window.scrollTo({top:0,behavior:`smooth`})}catch(e){O(e instanceof Error?e.message:`ng k tht bi.`)}finally{E(!1)}},le=async()=>{O(``),ee(``),await bd({provider:`Google`})};return(0,Q.jsx)(`div`,{className:`page content`,children:(0,Q.jsx)(`section`,{className:`auth-section`,children:(0,Q.jsx)(`div`,{className:`container`,children:(0,Q.jsxs)(`div`,{className:`signup-container`,children:[(0,Q.jsx)(`h2`,{className:`signup-title`,children:`To ti khon`}),(0,Q.jsx)(`p`,{className:`signup-note`,children:`ng k nhanh  nhn im thng`}),(0,Q.jsx)(`p`,{className:`signup-desc`,children:`Thng tin ca bn s c dng  tch im t nha v i u i khi mua gch Ecobrick.`}),ne===`signup`?(0,Q.jsxs)(`form`,{onSubmit:ce,children:[(0,Q.jsx)(`label`,{className:`form-label`,children:`H v tn`}),(0,Q.jsxs)(`div`,{className:`input-group`,children:[(0,Q.jsx)(`i`,{className:`fa-solid fa-user`}),(0,Q.jsx)(`input`,{type:`text`,placeholder:`Nguyn Vn A`,value:i,onChange:e=>a(e.target.value),autoComplete:`name`,required:!0})]}),(0,Q.jsx)(`label`,{className:`form-label`,children:`Email`}),(0,Q.jsxs)(`div`,{className:`input-group`,children:[(0,Q.jsx)(`i`,{className:`fa-solid fa-envelope`}),(0,Q.jsx)(`input`,{type:`email`,placeholder:`email@ecobrick.example`,value:o,onChange:e=>s(e.target.value),autoComplete:`email`,required:!0})]}),(0,Q.jsx)(`label`,{className:`form-label`,children:`Mt khu`}),(0,Q.jsxs)(`div`,{className:`input-group`,children:[(0,Q.jsx)(`i`,{className:`fa-solid fa-lock`}),(0,Q.jsx)(`input`,{type:u?`text`:`password`,placeholder:`********`,value:c,onChange:e=>l(e.target.value),autoComplete:`new-password`,required:!0}),(0,Q.jsx)(`span`,{className:`show-pass`,role:`button`,tabIndex:0,onClick:()=>d(e=>!e),onKeyDown:e=>{(e.key===`Enter`||e.key===` `)&&d(e=>!e)},"aria-label":u?`n mt khu`:`Hin mt khu`,children:``})]}),(0,Q.jsx)(`p`,{className:`password-hint`,children:`Ti thiu 8 k t, gm ch hoa v s.`}),(0,Q.jsx)(`label`,{className:`form-label`,children:`Ngy sinh`}),(0,Q.jsxs)(`div`,{className:`date-group`,children:[(0,Q.jsxs)(`select`,{value:f,onChange:e=>p(e.target.value),children:[(0,Q.jsx)(`option`,{value:``,children:`Ngy`}),se.map(e=>(0,Q.jsx)(`option`,{value:e,children:e},e))]}),(0,Q.jsxs)(`select`,{value:m,onChange:e=>h(e.target.value),children:[(0,Q.jsx)(`option`,{value:``,children:`Thng`}),r.map(e=>(0,Q.jsx)(`option`,{value:e,children:e},e))]}),(0,Q.jsxs)(`select`,{value:g,onChange:e=>_(e.target.value),children:[(0,Q.jsx)(`option`,{value:``,children:`Nm`}),n.map(e=>(0,Q.jsx)(`option`,{value:e,children:e},e))]})]}),(0,Q.jsx)(`label`,{className:`form-label`,children:`S in thoi`}),(0,Q.jsxs)(`div`,{className:`phone-group`,children:[(0,Q.jsxs)(`select`,{value:v,onChange:e=>y(e.target.value),children:[(0,Q.jsx)(`option`,{value:`+84`,children:`+84`}),(0,Q.jsx)(`option`,{value:`+1`,children:`+1`}),(0,Q.jsx)(`option`,{value:`+81`,children:`+81`})]}),(0,Q.jsx)(`input`,{type:`text`,placeholder:`0909 123 456`,value:b,onChange:e=>S(e.target.value),autoComplete:`tel`})]}),(0,Q.jsxs)(`div`,{className:`checkbox-group`,children:[(0,Q.jsx)(`input`,{type:`checkbox`,id:`policy`,checked:C,onChange:e=>w(e.target.checked)}),(0,Q.jsx)(`label`,{htmlFor:`policy`,children:`Ti ng  vi cc iu khon v chnh sch bo mt ca Ecobrick.`})]}),D?(0,Q.jsx)(`p`,{className:`auth-error`,children:D}):null,k?(0,Q.jsx)(`p`,{className:`auth-success`,children:k}):null,(0,Q.jsx)(`button`,{className:`btn-signup`,type:`submit`,children:T?`ang to ti khon...`:`To ti khon`}),(0,Q.jsx)(`div`,{className:`divider`,children:(0,Q.jsx)(`span`,{children:`hoc`})}),(0,Q.jsxs)(`button`,{className:`btn-google google-btn`,type:`button`,onClick:le,children:[(0,Q.jsx)(`i`,{className:`fab fa-google`}),`ng k vi Google`]}),(0,Q.jsx)(`div`,{className:`signup-section`,children:(0,Q.jsxs)(`p`,{className:`signup-desc`,children:[` c ti khon? `,(0,Q.jsx)(un,{to:`/login`,children:`ng nhp ngay`})]})})]}):(0,Q.jsxs)(`div`,{className:`signup-section`,children:[(0,Q.jsx)(`p`,{className:`signup-title`,children:`Xc nhn ti khon`}),(0,Q.jsx)(`p`,{className:`signup-desc`,children:`Nhp m xc thc c gi n email ca bn.`}),(0,Q.jsxs)(`form`,{onSubmit:async t=>{t.preventDefault(),ae(``),N(``),j(!0);let n=o.trim().toLowerCase();if(!n){ae(`Vui lng nhp li email  ng k.`),j(!1);return}try{await Wu({username:n,confirmationCode:A.trim()}),N(`Xc nhn thnh cng. Bn c th ng nhp ngay.`),window.setTimeout(()=>e(`/login`),1200)}catch(e){ae(e instanceof Error?e.message:`Xc nhn tht bi.`)}finally{j(!1)}},children:[(0,Q.jsxs)(`div`,{className:`input-group`,children:[(0,Q.jsx)(`i`,{className:`fa-solid fa-key`}),(0,Q.jsx)(`input`,{type:`text`,placeholder:`M xc thc`,value:A,onChange:e=>te(e.target.value),autoComplete:`one-time-code`,required:!0})]}),M?(0,Q.jsx)(`p`,{className:`auth-error`,children:M}):null,oe?(0,Q.jsx)(`p`,{className:`auth-success`,children:oe}):null,(0,Q.jsx)(`button`,{className:`btn-signup`,type:`submit`,children:ie?`ang xc nhn...`:`Xc nhn`}),(0,Q.jsx)(`button`,{className:`btn-signup secondary`,type:`button`,onClick:async()=>{ae(``),N(``);let e=o.trim().toLowerCase();if(!e){ae(`Vui lng nhp li email  ng k.`);return}try{await Hu({username:e}),N(`M xc nhn  c gi li.`)}catch(e){ae(e instanceof Error?e.message:`Khng th gi li m.`)}},children:`Gi li m`}),(0,Q.jsx)(`button`,{className:`btn-signup secondary`,type:`button`,onClick:()=>re(`signup`),children:`Quay li ng k`})]})]})]})})})})}function Tf(){let e=Qe(),[t]=vn(),n=t.get(`email`)||``,[r,i]=(0,x.useState)(n?`confirm`:`request`),[a,o]=(0,x.useState)(n),[s,c]=(0,x.useState)(``),[l,u]=(0,x.useState)(``),[d,f]=(0,x.useState)(!1),[p,m]=(0,x.useState)(!1),[h,g]=(0,x.useState)(``),[_,v]=(0,x.useState)(``),y=async e=>{e.preventDefault(),g(``),v(``),m(!0);let t=a.trim().toLowerCase();if(!t){g(`Vui lng nhp a ch email.`),m(!1);return}try{await Ru({username:t}),v(`M khi phc  c gi n email ca bn. Vui lng kim tra hp th.`),i(`confirm`),o(t),window.history.replaceState({},``,`/forgot-password?email=${encodeURIComponent(t)}`)}catch(e){console.error(`Reset password error:`,e);let t=typeof e==`object`&&e&&`name`in e?String(e.name):``;g(t===`UserNotFoundException`?`Email ny cha c ng k ti khon.`:t===`LimitExceededException`?`Bn  yu cu qu nhiu ln. Vui lng th li sau 15 pht.`:`Li: ${e instanceof Error?e.message:`Khng th gi m khi phc.`}`)}finally{m(!1)}},b=async t=>{t.preventDefault(),g(``),v(``),m(!0);let n=a.trim().toLowerCase(),r=s.trim();if(!n||!r||!l){g(`Vui lng in y  thng tin.`),m(!1);return}if(l.length<8){g(`Mt khu mi phi c t nht 8 k t.`),m(!1);return}try{await Bu({username:n,confirmationCode:r,newPassword:l}),v(`i mt khu thnh cng! ang chuyn n trang ng nhp...`),setTimeout(()=>{e(`/login`,{state:{message:`Mt khu  c i. Vui lng ng nhp li.`}})},2e3)}catch(e){console.error(`Confirm reset password error:`,e);let t=typeof e==`object`&&e&&`name`in e?String(e.name):``;t===`CodeMismatchException`?g(`M xc nhn khng ng. Vui lng kim tra li.`):t===`ExpiredCodeException`?(g(`M xc nhn  ht hn. Vui lng yu cu gi m mi.`),i(`request`)):g(t===`InvalidPasswordException`?`Mt khu khng  mnh. Cn c ch hoa, ch thng, s v k t c bit.`:`Li: ${e instanceof Error?e.message:`Khng th i mt khu.`}`)}finally{m(!1)}},S=async()=>{g(``),v(``);let e=a.trim().toLowerCase();if(!e){g(`Email khng hp l.`);return}try{await Ru({username:e}),v(`M xc nhn mi  c gi n email ca bn.`)}catch(e){g(`Li: ${e instanceof Error?e.message:`Khng th gi li m.`}`)}};return(0,Q.jsx)(`div`,{className:`page content`,children:(0,Q.jsx)(`section`,{className:`auth-section`,children:(0,Q.jsx)(`div`,{className:`container`,children:(0,Q.jsxs)(`div`,{className:`login-container`,children:[(0,Q.jsx)(`h2`,{className:`login-title`,children:`Khi phc mt khu`}),(0,Q.jsx)(`p`,{className:`login-desc`,children:r===`request`?`Nhp email  nhn m khi phc mt khu`:`Nhp m xc nhn v mt khu mi`}),r===`request`?(0,Q.jsxs)(`form`,{onSubmit:y,children:[(0,Q.jsx)(`label`,{className:`form-label`,children:`Email ng k`}),(0,Q.jsxs)(`div`,{className:`input-group`,children:[(0,Q.jsx)(`i`,{className:`fa-solid fa-envelope`}),(0,Q.jsx)(`input`,{type:`email`,placeholder:`email@example.com`,value:a,onChange:e=>o(e.target.value),autoComplete:`email`,required:!0})]}),h&&(0,Q.jsx)(`p`,{className:`auth-error`,children:h}),_&&(0,Q.jsx)(`p`,{className:`auth-success`,children:_}),(0,Q.jsx)(`button`,{className:`btn-login`,type:`submit`,disabled:p,children:p?`ang gi...`:`Gi m khi phc`}),(0,Q.jsx)(`div`,{style:{marginTop:`1rem`,textAlign:`center`},children:(0,Q.jsx)(un,{to:`/login`,className:`forgot`,children:` Quay li ng nhp`})})]}):(0,Q.jsxs)(`form`,{onSubmit:b,children:[(0,Q.jsxs)(`div`,{style:{marginBottom:`1rem`,padding:`0.75rem`,background:`#f0f8ff`,borderRadius:`8px`,fontSize:`0.9rem`},children:[(0,Q.jsx)(`i`,{className:`fa-solid fa-info-circle`,style:{color:`#20803F`,marginRight:`0.5rem`}}),`M xc nhn  c gi n: `,(0,Q.jsx)(`strong`,{children:a})]}),(0,Q.jsx)(`label`,{className:`form-label`,children:`M xc nhn (6 s)`}),(0,Q.jsxs)(`div`,{className:`input-group`,children:[(0,Q.jsx)(`i`,{className:`fa-solid fa-key`}),(0,Q.jsx)(`input`,{type:`text`,placeholder:`123456`,value:s,onChange:e=>c(e.target.value.replace(/\D/g,``).slice(0,6)),maxLength:6,autoComplete:`one-time-code`,required:!0})]}),(0,Q.jsx)(`label`,{className:`form-label`,children:`Mt khu mi`}),(0,Q.jsxs)(`div`,{className:`input-group`,children:[(0,Q.jsx)(`i`,{className:`fa-solid fa-lock`}),(0,Q.jsx)(`input`,{type:d?`text`:`password`,placeholder:`Ti thiu 8 k t`,value:l,onChange:e=>u(e.target.value),autoComplete:`new-password`,minLength:8,required:!0}),(0,Q.jsx)(`span`,{className:`show-pass`,role:`button`,tabIndex:0,onClick:()=>f(e=>!e),onKeyDown:e=>{(e.key===`Enter`||e.key===` `)&&f(e=>!e)},"aria-label":d?`n mt khu`:`Hin mt khu`,children:d?``:``})]}),(0,Q.jsx)(`div`,{style:{fontSize:`0.85rem`,color:`#666`,marginBottom:`1rem`},children:`Mt khu cn c: ch hoa, ch thng, s v k t c bit`}),h&&(0,Q.jsx)(`p`,{className:`auth-error`,children:h}),_&&(0,Q.jsx)(`p`,{className:`auth-success`,children:_}),(0,Q.jsx)(`button`,{className:`btn-login`,type:`submit`,disabled:p,children:p?`ang x l...`:`i mt khu`}),(0,Q.jsxs)(`div`,{style:{marginTop:`1rem`,textAlign:`center`},children:[(0,Q.jsx)(`button`,{type:`button`,className:`forgot`,onClick:S,style:{background:`none`,border:`none`,cursor:`pointer`},children:`Gi li m xc nhn`}),(0,Q.jsx)(`br`,{}),(0,Q.jsx)(`button`,{type:`button`,className:`forgot`,onClick:()=>{i(`request`),c(``),u(``),g(``),v(``),window.history.replaceState({},``,`/forgot-password`)},style:{background:`none`,border:`none`,cursor:`pointer`,marginTop:`0.5rem`},children:` i email khc`})]})]})]})})})})}function Ef(){return(0,Q.jsx)(`div`,{className:`page content`,children:(0,Q.jsx)(`section`,{className:`section pad`,children:(0,Q.jsxs)(`div`,{className:`container`,children:[(0,Q.jsx)(`h2`,{className:`section-title`,children:`CCH THC HOT NG`}),(0,Q.jsx)(`p`,{className:`section-sub`,children:`H thng tch im i u i gip khuyn khch thu gom nha v xy dng cng ng xanh.`}),(0,Q.jsxs)(`div`,{className:`rewards-actions`,children:[(0,Q.jsxs)(`div`,{className:`rewards-panel`,children:[(0,Q.jsx)(`h2`,{children:`1. ng k / ng nhp`}),(0,Q.jsx)(`p`,{children:`Ngi dng to ti khon  lu im thng, lch s tch im v cc voucher  i.`}),(0,Q.jsx)(un,{to:`/register`,className:`btn primary`,children:`To ti khon`})]}),(0,Q.jsxs)(`div`,{className:`rewards-panel`,children:[(0,Q.jsx)(`h2`,{children:`2. Quyn gp nha`}),(0,Q.jsx)(`p`,{children:`Nha c tnh theo kg. Vi c ch hin ti: 1 kg nha = 10 im.`}),(0,Q.jsx)(un,{to:`/rewards`,className:`btn outline`,children:`Gi thng tin quyn gp`})]}),(0,Q.jsxs)(`div`,{className:`rewards-panel`,children:[(0,Q.jsx)(`h2`,{children:`3. i im ly u i`}),(0,Q.jsx)(`p`,{children:`T 100 im bn  c th i voucher gim gi. Cc mc im c th iu chnh linh hot bi admin.`}),(0,Q.jsx)(un,{to:`/redeem`,className:`btn outline`,children:`Xem mc i im`})]})]}),(0,Q.jsxs)(`div`,{className:`section pad`,children:[(0,Q.jsx)(`h3`,{className:`section-title`,children:`L trnh tch im`}),(0,Q.jsxs)(`div`,{className:`voucher-grid`,children:[(0,Q.jsxs)(`div`,{className:`voucher-card`,children:[(0,Q.jsx)(`span`,{className:`badge`,children:`100 im`}),(0,Q.jsx)(`h3`,{children:`Voucher gim 5%`}),(0,Q.jsx)(`p`,{children:`p dng khi mua gch ti h thng Ecobrick hoc ca hng lin kt.`})]}),(0,Q.jsxs)(`div`,{className:`voucher-card`,children:[(0,Q.jsx)(`span`,{className:`badge`,children:`300 im`}),(0,Q.jsx)(`h3`,{children:`Voucher gim 10%`}),(0,Q.jsx)(`p`,{children:`u i ph hp cho khch hng mua s lng va v d n nh.`})]}),(0,Q.jsxs)(`div`,{className:`voucher-card`,children:[(0,Q.jsx)(`span`,{className:`badge`,children:`500 im`}),(0,Q.jsx)(`h3`,{children:`Voucher gim 15%`}),(0,Q.jsx)(`p`,{children:`p dng cho n hng ln, gip tit kim ng k chi ph vt liu.`})]}),(0,Q.jsxs)(`div`,{className:`voucher-card`,children:[(0,Q.jsx)(`span`,{className:`badge`,children:`1.000 im`}),(0,Q.jsx)(`h3`,{children:`u i c bit`}),(0,Q.jsx)(`p`,{children:`Lin h Ecobrick  nhn bo gi ring cho d n xanh.`})]})]})]})]})})})}const Df=[{id:`tier-100`,title:`Voucher gim 5%`,pointsRequired:100,benefit:`Gim 5% khi mua gch`,description:`p dng cho n hng mua gch ti h thng Ecobrick v i tc.`},{id:`tier-300`,title:`Voucher gim 10%`,pointsRequired:300,benefit:`Gim 10% khi mua gch`,description:`Dnh cho khch hng thn thit v cc n hng t 10 vin tr ln.`},{id:`tier-500`,title:`Voucher gim 15%`,pointsRequired:500,benefit:`Gim 15% khi mua gch`,description:`u i cao nht cho cc d n xanh v cng trnh cng ng.`},{id:`tier-1000`,title:`u i c bit`,pointsRequired:1e3,benefit:`Gi mua gch u i c bit`,description:`Lin h i ng Ecobrick  nhn bo gi ring v quyn li m rng.`}];var Of=`ecobrick_rewards_db_v1`,kf={},Af=(0,x.createContext)(void 0);function jf({children:e}){let{user:t,isAuthenticated:n}=Xd(),[r,i]=(0,x.useState)(()=>{let e=localStorage.getItem(Of);return e?JSON.parse(e):kf}),[a,o]=(0,x.useState)([]),[s,c]=(0,x.useState)(!1),[l,u]=(0,x.useState)({pointsPerKg:10,tiers:Df});(0,x.useEffect)(()=>{localStorage.setItem(Of,JSON.stringify(r))},[r]);let d=t?.username||t?.id||`guest`,f=r[d];(0,x.useEffect)(()=>{n&&d&&!r[d]&&i(e=>({...e,[d]:{id:d,name:t?.attributes?.name||t?.username||`New User`,email:t?.attributes?.email||``,points:0,totalKg:0,history:[],claimedVouchers:[]}}))},[n,d,r,t]);let p=f?.points||0,m=f?.history||[],h=f?.claimedVouchers||[],g=()=>{let e=`https://tcu0chhy89.execute-api.ap-southeast-1.amazonaws.com/Prod/`;return e=e.replace(/\/donate\/?$/,``),e.endsWith(`/`)&&(e=e.slice(0,-1)),e},_=async()=>{try{return(await Gi()).tokens?.idToken?.toString()}catch{return null}},v=(0,x.useCallback)(async()=>{if(!s){c(!0);try{let e=g();if(!e)return;let n=await _(),r={"Content-Type":`application/json`};n&&(r.Authorization=n);let a=await fetch(`${e}/vouchers`,{headers:r});if(a.ok){let e=await a.json(),n=[],r=0;Array.isArray(e)?n=e:e&&typeof e==`object`&&(n=e.vouchers||[],r=e.user_points||0),o(Array.isArray(n)?n.map(e=>({id:e.id,title:e.title,discount:e.discount,code:e.code,status:e.status,pointsRequired:e.points_required||e.pointsRequired,expiresAt:e.expires_at||e.expiresAt})):[]),d&&d!==`guest`&&i(e=>{let n=e[d]||{id:d,name:t?.username||`User`,email:``,totalKg:0,history:[],claimedVouchers:[]};return{...e,[d]:{...n,points:r}}})}}catch(e){console.error(`Fetch vouchers failed`,e)}finally{c(!1)}}},[d,t]);(0,x.useEffect)(()=>{v()},[]);let y=(0,x.useCallback)(async(e,t=`Quyn gp`)=>{if(!n)return alert(`Vui lng ng nhp`),!1;let r=await _();if(!r)return!1;let a=g();try{if((await fetch(`${a}/donate`,{method:`POST`,headers:{"Content-Type":`application/json`,Authorization:r},body:JSON.stringify({amount:e,note:t})})).ok)return alert(`Gi thnh cng!`),i(n=>{let r=n[d];return r?{...n,[d]:{...r,history:[{id:`local-${Date.now()}`,userId:d,type:`donate`,kg:e,points:e*10,note:t,status:`pending`,createdAt:new Date().toISOString()},...r.history]}}:n}),!0}catch(e){console.error(e)}return!1},[n,d]),b=(0,x.useCallback)(async e=>{if(!n)return{success:!1,message:`Vui lng ng nhp`};let t=await _();if(!t)return{success:!1,message:`Li xc thc`};let r=g(),a=e.id;try{let n=await fetch(`${r}/redeem`,{method:`POST`,headers:{"Content-Type":`application/json`,Authorization:t},body:JSON.stringify({voucher_id:a})}),o=await n.json();return n.ok?(i(t=>{let n=t[d];if(!n)return t;let r=e.pointsRequired||0;return{...t,[d]:{...n,points:n.points-r,claimedVouchers:[{id:`claimed-${Date.now()}`,code:e.code||`PENDING`,title:e.title,discount:e.discount||e.benefit,pointsRequired:r,expiresAt:`Unknown`,status:`claimed`},...n.claimedVouchers],history:[{id:`redeem-${Date.now()}`,userId:d,type:`redeem`,points:-r,note:`Chuc ${e.title}`,status:`approved`,createdAt:new Date().toISOString()},...n.history]}}}),{success:!0,message:o.message||`i thnh cng!`}):{success:!1,message:o.message||`Li i im`}}catch{return{success:!1,message:`Li kt ni`}}},[n,d]),S=(0,x.useCallback)(async e=>{let t=await _();if(!t)return!1;let n=g();try{return(await fetch(`${n}/vouchers`,{method:`POST`,headers:{"Content-Type":`application/json`,Authorization:t},body:JSON.stringify({title:e.title,discount:e.discount,points_required:e.pointsRequired,expires_at:e.expiresAt,code:e.code})})).ok?(v(),!0):(alert(`Li to voucher`),!1)}catch(e){return console.error(e),!1}},[v]),C=e=>u(t=>({...t,pointsPerKg:e})),w=e=>{console.log(`Delete not impl in Main Branch yet`)},T=e=>{console.log(`Edit not impl`)},E=(e,t,n)=>{i(r=>{let i=r[e];if(!i)return r;let a=i.history.findIndex(e=>e.id===t);if(a===-1)return r;let o=i.history[a];if(o.status===`approved`||o.status===`rejected`)return r;let s=[...i.history];s[a]={...o,status:n};let c=i.points,u=i.totalKg;if(n===`approved`){let e=o.points||(o.kg||0)*l.pointsPerKg;c+=e,u+=o.kg||0}return{...r,[e]:{...i,points:c,totalKg:u,history:s}}})},D=(e,t,n)=>{},O=(0,x.useCallback)(async(e,t,r,a)=>{if(!n)return!1;let o=await _();if(!o)return!1;let s=g();try{(await fetch(`${s}/admin/award-points`,{method:`POST`,headers:{"Content-Type":`application/json`,Authorization:o},body:JSON.stringify({target_user_id:e,amount_kg:t,manual_points:r?Math.floor(r):Math.floor(t*l.pointsPerKg),note:a||`Admin Award`})})).ok||console.warn(`Backend award API failed. Falling back to local update for UI responsiveness.`)}catch(e){console.error(`Award API connection failed. Falling back to local update.`,e)}return i(n=>{let i=n[e];if(!i)return n;let o=r||t*l.pointsPerKg;return{...n,[e]:{...i,points:(i.points||0)+o,history:[{id:`admin-${Date.now()}`,userId:e,type:`admin_adjust`,points:o,note:a||`Admin Award`,createdAt:new Date().toISOString()},...i.history]}}}),!0},[n,l.pointsPerKg]);return(0,Q.jsx)(Af.Provider,{value:{points:p,history:m,claimedVouchers:h,allUsers:Object.values(r),config:l,availableVouchers:a,addDonation:y,redeemOption:b,updatePointsPerKg:C,addVoucher:S,deleteVoucher:w,editVoucher:T,updateDonationStatus:E,adjustUserPoints:D,adminAwardPoints:O,refreshData:()=>{v()}},children:e})}function Mf(){let e=(0,x.useContext)(Af);if(!e)throw Error(`useRewards must be used within RewardsProvider`);return e}var Nf=Object.defineProperty,Pf=Object.getOwnPropertySymbols,Ff=Object.prototype.hasOwnProperty,If=Object.prototype.propertyIsEnumerable,Lf=(e,t,n)=>t in e?Nf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Rf=(e,t)=>{for(var n in t||={})Ff.call(t,n)&&Lf(e,n,t[n]);if(Pf)for(var n of Pf(t))If.call(t,n)&&Lf(e,n,t[n]);return e},zf=(e,t)=>{var n={};for(var r in e)Ff.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Pf)for(var r of Pf(e))t.indexOf(r)<0&&If.call(e,r)&&(n[r]=e[r]);return n},Bf;(e=>{let t=class t{constructor(e,n,r,a){if(this.version=e,this.errorCorrectionLevel=n,this.modules=[],this.isFunction=[],e<t.MIN_VERSION||e>t.MAX_VERSION)throw RangeError(`Version value out of range`);if(a<-1||a>7)throw RangeError(`Mask value out of range`);this.size=e*4+17;let o=[];for(let e=0;e<this.size;e++)o.push(!1);for(let e=0;e<this.size;e++)this.modules.push(o.slice()),this.isFunction.push(o.slice());this.drawFunctionPatterns();let s=this.addEccAndInterleave(r);if(this.drawCodewords(s),a==-1){let e=1e9;for(let t=0;t<8;t++){this.applyMask(t),this.drawFormatBits(t);let n=this.getPenaltyScore();n<e&&(a=t,e=n),this.applyMask(t)}}i(0<=a&&a<=7),this.mask=a,this.applyMask(a),this.drawFormatBits(a),this.isFunction=[]}static encodeText(n,r){let i=e.QrSegment.makeSegments(n);return t.encodeSegments(i,r)}static encodeBinary(n,r){let i=e.QrSegment.makeBytes(n);return t.encodeSegments([i],r)}static encodeSegments(e,r,a=1,s=40,c=-1,l=!0){if(!(t.MIN_VERSION<=a&&a<=s&&s<=t.MAX_VERSION)||c<-1||c>7)throw RangeError(`Invalid value`);let u,d;for(u=a;;u++){let n=t.getNumDataCodewords(u,r)*8,i=o.getTotalBits(e,u);if(i<=n){d=i;break}if(u>=s)throw RangeError(`Data too long`)}for(let e of[t.Ecc.MEDIUM,t.Ecc.QUARTILE,t.Ecc.HIGH])l&&d<=t.getNumDataCodewords(u,e)*8&&(r=e);let f=[];for(let t of e){n(t.mode.modeBits,4,f),n(t.numChars,t.mode.numCharCountBits(u),f);for(let e of t.getData())f.push(e)}i(f.length==d);let p=t.getNumDataCodewords(u,r)*8;i(f.length<=p),n(0,Math.min(4,p-f.length),f),n(0,(8-f.length%8)%8,f),i(f.length%8==0);for(let e=236;f.length<p;e^=253)n(e,8,f);let m=[];for(;m.length*8<f.length;)m.push(0);return f.forEach((e,t)=>m[t>>>3]|=e<<7-(t&7)),new t(u,r,m,c)}getModule(e,t){return 0<=e&&e<this.size&&0<=t&&t<this.size&&this.modules[t][e]}getModules(){return this.modules}drawFunctionPatterns(){for(let e=0;e<this.size;e++)this.setFunctionModule(6,e,e%2==0),this.setFunctionModule(e,6,e%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);let e=this.getAlignmentPatternPositions(),t=e.length;for(let n=0;n<t;n++)for(let r=0;r<t;r++)n==0&&r==0||n==0&&r==t-1||n==t-1&&r==0||this.drawAlignmentPattern(e[n],e[r]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(e){let t=this.errorCorrectionLevel.formatBits<<3|e,n=t;for(let e=0;e<10;e++)n=n<<1^(n>>>9)*1335;let a=(t<<10|n)^21522;i(a>>>15==0);for(let e=0;e<=5;e++)this.setFunctionModule(8,e,r(a,e));this.setFunctionModule(8,7,r(a,6)),this.setFunctionModule(8,8,r(a,7)),this.setFunctionModule(7,8,r(a,8));for(let e=9;e<15;e++)this.setFunctionModule(14-e,8,r(a,e));for(let e=0;e<8;e++)this.setFunctionModule(this.size-1-e,8,r(a,e));for(let e=8;e<15;e++)this.setFunctionModule(8,this.size-15+e,r(a,e));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let e=this.version;for(let t=0;t<12;t++)e=e<<1^(e>>>11)*7973;let t=this.version<<12|e;i(t>>>18==0);for(let e=0;e<18;e++){let n=r(t,e),i=this.size-11+e%3,a=Math.floor(e/3);this.setFunctionModule(i,a,n),this.setFunctionModule(a,i,n)}}drawFinderPattern(e,t){for(let n=-4;n<=4;n++)for(let r=-4;r<=4;r++){let i=Math.max(Math.abs(r),Math.abs(n)),a=e+r,o=t+n;0<=a&&a<this.size&&0<=o&&o<this.size&&this.setFunctionModule(a,o,i!=2&&i!=4)}}drawAlignmentPattern(e,t){for(let n=-2;n<=2;n++)for(let r=-2;r<=2;r++)this.setFunctionModule(e+r,t+n,Math.max(Math.abs(r),Math.abs(n))!=1)}setFunctionModule(e,t,n){this.modules[t][e]=n,this.isFunction[t][e]=!0}addEccAndInterleave(e){let n=this.version,r=this.errorCorrectionLevel;if(e.length!=t.getNumDataCodewords(n,r))throw RangeError(`Invalid argument`);let a=t.NUM_ERROR_CORRECTION_BLOCKS[r.ordinal][n],o=t.ECC_CODEWORDS_PER_BLOCK[r.ordinal][n],s=Math.floor(t.getNumRawDataModules(n)/8),c=a-s%a,l=Math.floor(s/a),u=[],d=t.reedSolomonComputeDivisor(o);for(let n=0,r=0;n<a;n++){let i=e.slice(r,r+l-o+(n<c?0:1));r+=i.length;let a=t.reedSolomonComputeRemainder(i,d);n<c&&i.push(0),u.push(i.concat(a))}let f=[];for(let e=0;e<u[0].length;e++)u.forEach((t,n)=>{(e!=l-o||n>=c)&&f.push(t[e])});return i(f.length==s),f}drawCodewords(e){if(e.length!=Math.floor(t.getNumRawDataModules(this.version)/8))throw RangeError(`Invalid argument`);let n=0;for(let t=this.size-1;t>=1;t-=2){t==6&&(t=5);for(let i=0;i<this.size;i++)for(let a=0;a<2;a++){let o=t-a,s=t+1&2?i:this.size-1-i;!this.isFunction[s][o]&&n<e.length*8&&(this.modules[s][o]=r(e[n>>>3],7-(n&7)),n++)}}i(n==e.length*8)}applyMask(e){if(e<0||e>7)throw RangeError(`Mask value out of range`);for(let t=0;t<this.size;t++)for(let n=0;n<this.size;n++){let r;switch(e){case 0:r=(n+t)%2==0;break;case 1:r=t%2==0;break;case 2:r=n%3==0;break;case 3:r=(n+t)%3==0;break;case 4:r=(Math.floor(n/3)+Math.floor(t/2))%2==0;break;case 5:r=n*t%2+n*t%3==0;break;case 6:r=(n*t%2+n*t%3)%2==0;break;case 7:r=((n+t)%2+n*t%3)%2==0;break;default:throw Error(`Unreachable`)}!this.isFunction[t][n]&&r&&(this.modules[t][n]=!this.modules[t][n])}}getPenaltyScore(){let e=0;for(let n=0;n<this.size;n++){let r=!1,i=0,a=[0,0,0,0,0,0,0];for(let o=0;o<this.size;o++)this.modules[n][o]==r?(i++,i==5?e+=t.PENALTY_N1:i>5&&e++):(this.finderPenaltyAddHistory(i,a),r||(e+=this.finderPenaltyCountPatterns(a)*t.PENALTY_N3),r=this.modules[n][o],i=1);e+=this.finderPenaltyTerminateAndCount(r,i,a)*t.PENALTY_N3}for(let n=0;n<this.size;n++){let r=!1,i=0,a=[0,0,0,0,0,0,0];for(let o=0;o<this.size;o++)this.modules[o][n]==r?(i++,i==5?e+=t.PENALTY_N1:i>5&&e++):(this.finderPenaltyAddHistory(i,a),r||(e+=this.finderPenaltyCountPatterns(a)*t.PENALTY_N3),r=this.modules[o][n],i=1);e+=this.finderPenaltyTerminateAndCount(r,i,a)*t.PENALTY_N3}for(let n=0;n<this.size-1;n++)for(let r=0;r<this.size-1;r++){let i=this.modules[n][r];i==this.modules[n][r+1]&&i==this.modules[n+1][r]&&i==this.modules[n+1][r+1]&&(e+=t.PENALTY_N2)}let n=0;for(let e of this.modules)n=e.reduce((e,t)=>e+(t?1:0),n);let r=this.size*this.size,a=Math.ceil(Math.abs(n*20-r*10)/r)-1;return i(0<=a&&a<=9),e+=a*t.PENALTY_N4,i(0<=e&&e<=2568888),e}getAlignmentPatternPositions(){if(this.version==1)return[];{let e=Math.floor(this.version/7)+2,t=this.version==32?26:Math.ceil((this.version*4+4)/(e*2-2))*2,n=[6];for(let r=this.size-7;n.length<e;r-=t)n.splice(1,0,r);return n}}static getNumRawDataModules(e){if(e<t.MIN_VERSION||e>t.MAX_VERSION)throw RangeError(`Version number out of range`);let n=(16*e+128)*e+64;if(e>=2){let t=Math.floor(e/7)+2;n-=(25*t-10)*t-55,e>=7&&(n-=36)}return i(208<=n&&n<=29648),n}static getNumDataCodewords(e,n){return Math.floor(t.getNumRawDataModules(e)/8)-t.ECC_CODEWORDS_PER_BLOCK[n.ordinal][e]*t.NUM_ERROR_CORRECTION_BLOCKS[n.ordinal][e]}static reedSolomonComputeDivisor(e){if(e<1||e>255)throw RangeError(`Degree out of range`);let n=[];for(let t=0;t<e-1;t++)n.push(0);n.push(1);let r=1;for(let i=0;i<e;i++){for(let e=0;e<n.length;e++)n[e]=t.reedSolomonMultiply(n[e],r),e+1<n.length&&(n[e]^=n[e+1]);r=t.reedSolomonMultiply(r,2)}return n}static reedSolomonComputeRemainder(e,n){let r=n.map(e=>0);for(let i of e){let e=i^r.shift();r.push(0),n.forEach((n,i)=>r[i]^=t.reedSolomonMultiply(n,e))}return r}static reedSolomonMultiply(e,t){if(e>>>8||t>>>8)throw RangeError(`Byte out of range`);let n=0;for(let r=7;r>=0;r--)n=n<<1^(n>>>7)*285,n^=(t>>>r&1)*e;return i(n>>>8==0),n}finderPenaltyCountPatterns(e){let t=e[1];i(t<=this.size*3);let n=t>0&&e[2]==t&&e[3]==t*3&&e[4]==t&&e[5]==t;return(n&&e[0]>=t*4&&e[6]>=t?1:0)+(n&&e[6]>=t*4&&e[0]>=t?1:0)}finderPenaltyTerminateAndCount(e,t,n){return e&&(this.finderPenaltyAddHistory(t,n),t=0),t+=this.size,this.finderPenaltyAddHistory(t,n),this.finderPenaltyCountPatterns(n)}finderPenaltyAddHistory(e,t){t[0]==0&&(e+=this.size),t.pop(),t.unshift(e)}};t.MIN_VERSION=1,t.MAX_VERSION=40,t.PENALTY_N1=3,t.PENALTY_N2=3,t.PENALTY_N3=40,t.PENALTY_N4=10,t.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],t.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],e.QrCode=t;function n(e,t,n){if(t<0||t>31||e>>>t)throw RangeError(`Value out of range`);for(let r=t-1;r>=0;r--)n.push(e>>>r&1)}function r(e,t){return(e>>>t&1)!=0}function i(e){if(!e)throw Error(`Assertion error`)}let a=class e{constructor(e,t,n){if(this.mode=e,this.numChars=t,this.bitData=n,t<0)throw RangeError(`Invalid argument`);this.bitData=n.slice()}static makeBytes(t){let r=[];for(let e of t)n(e,8,r);return new e(e.Mode.BYTE,t.length,r)}static makeNumeric(t){if(!e.isNumeric(t))throw RangeError(`String contains non-numeric characters`);let r=[];for(let e=0;e<t.length;){let i=Math.min(t.length-e,3);n(parseInt(t.substring(e,e+i),10),i*3+1,r),e+=i}return new e(e.Mode.NUMERIC,t.length,r)}static makeAlphanumeric(t){if(!e.isAlphanumeric(t))throw RangeError(`String contains unencodable characters in alphanumeric mode`);let r=[],i;for(i=0;i+2<=t.length;i+=2){let a=e.ALPHANUMERIC_CHARSET.indexOf(t.charAt(i))*45;a+=e.ALPHANUMERIC_CHARSET.indexOf(t.charAt(i+1)),n(a,11,r)}return i<t.length&&n(e.ALPHANUMERIC_CHARSET.indexOf(t.charAt(i)),6,r),new e(e.Mode.ALPHANUMERIC,t.length,r)}static makeSegments(t){return t==``?[]:e.isNumeric(t)?[e.makeNumeric(t)]:e.isAlphanumeric(t)?[e.makeAlphanumeric(t)]:[e.makeBytes(e.toUtf8ByteArray(t))]}static makeEci(t){let r=[];if(t<0)throw RangeError(`ECI assignment value out of range`);if(t<128)n(t,8,r);else if(t<16384)n(2,2,r),n(t,14,r);else if(t<1e6)n(6,3,r),n(t,21,r);else throw RangeError(`ECI assignment value out of range`);return new e(e.Mode.ECI,0,r)}static isNumeric(t){return e.NUMERIC_REGEX.test(t)}static isAlphanumeric(t){return e.ALPHANUMERIC_REGEX.test(t)}getData(){return this.bitData.slice()}static getTotalBits(e,t){let n=0;for(let r of e){let e=r.mode.numCharCountBits(t);if(r.numChars>=1<<e)return 1/0;n+=4+e+r.bitData.length}return n}static toUtf8ByteArray(e){e=encodeURI(e);let t=[];for(let n=0;n<e.length;n++)e.charAt(n)==`%`?(t.push(parseInt(e.substring(n+1,n+3),16)),n+=2):t.push(e.charCodeAt(n));return t}};a.NUMERIC_REGEX=/^[0-9]*$/,a.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,a.ALPHANUMERIC_CHARSET=`0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:`;let o=a;e.QrSegment=a})(Bf||={}),(e=>{(e=>{let t=class{constructor(e,t){this.ordinal=e,this.formatBits=t}};t.LOW=new t(0,1),t.MEDIUM=new t(1,0),t.QUARTILE=new t(2,3),t.HIGH=new t(3,2),e.Ecc=t})(e.QrCode||={})})(Bf||={}),(e=>{(e=>{let t=class{constructor(e,t){this.modeBits=e,this.numBitsCharCount=t}numCharCountBits(e){return this.numBitsCharCount[Math.floor((e+7)/17)]}};t.NUMERIC=new t(1,[10,12,14]),t.ALPHANUMERIC=new t(2,[9,11,13]),t.BYTE=new t(4,[8,16,16]),t.KANJI=new t(8,[8,10,12]),t.ECI=new t(7,[0,0,0]),e.Mode=t})(e.QrSegment||={})})(Bf||={});var Vf=Bf,Hf={L:Vf.QrCode.Ecc.LOW,M:Vf.QrCode.Ecc.MEDIUM,Q:Vf.QrCode.Ecc.QUARTILE,H:Vf.QrCode.Ecc.HIGH},Uf=128,Wf=`L`,Gf=`#FFFFFF`,Kf=`#000000`,qf=!1,Jf=1,Yf=4,Xf=0,Zf=.1;function Qf(e,t=0){let n=[];return e.forEach(function(e,r){let i=null;e.forEach(function(a,o){if(!a&&i!==null){n.push(`M${i+t} ${r+t}h${o-i}v1H${i+t}z`),i=null;return}if(o===e.length-1){if(!a)return;i===null?n.push(`M${o+t},${r+t} h1v1H${o+t}z`):n.push(`M${i+t},${r+t} h${o+1-i}v1H${i+t}z`);return}a&&i===null&&(i=o)})}),n.join(``)}function $f(e,t){return e.slice().map((e,n)=>n<t.y||n>=t.y+t.h?e:e.map((e,n)=>n<t.x||n>=t.x+t.w?e:!1))}function ep(e,t,n,r){if(r==null)return null;let i=e.length+n*2,a=Math.floor(t*Zf),o=i/t,s=(r.width||a)*o,c=(r.height||a)*o,l=r.x==null?e.length/2-s/2:r.x*o,u=r.y==null?e.length/2-c/2:r.y*o,d=r.opacity==null?1:r.opacity,f=null;if(r.excavate){let e=Math.floor(l),t=Math.floor(u);f={x:e,y:t,w:Math.ceil(s+l-e),h:Math.ceil(c+u-t)}}let p=r.crossOrigin;return{x:l,y:u,h:c,w:s,excavation:f,opacity:d,crossOrigin:p}}function tp(e,t){return t==null?e?Yf:Xf:Math.max(Math.floor(t),0)}function np({value:e,level:t,minVersion:n,includeMargin:r,marginSize:i,imageSettings:a,size:o,boostLevel:s}){let c=x.useMemo(()=>{let r=(Array.isArray(e)?e:[e]).reduce((e,t)=>(e.push(...Vf.QrSegment.makeSegments(t)),e),[]);return Vf.QrCode.encodeSegments(r,Hf[t],n,void 0,void 0,s)},[e,t,n,s]),{cells:l,margin:u,numCells:d,calculatedImageSettings:f}=x.useMemo(()=>{let e=c.getModules(),t=tp(r,i);return{cells:e,margin:t,numCells:e.length+t*2,calculatedImageSettings:ep(e,o,t,a)}},[c,o,a,r,i]);return{qrcode:c,margin:u,cells:l,numCells:d,calculatedImageSettings:f}}var rp=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),ip=x.forwardRef(function(e,t){let n=e,{value:r,size:i=Uf,level:a=Wf,bgColor:o=Gf,fgColor:s=Kf,includeMargin:c=qf,minVersion:l=Jf,boostLevel:u,marginSize:d,imageSettings:f}=n,p=zf(n,[`value`,`size`,`level`,`bgColor`,`fgColor`,`includeMargin`,`minVersion`,`boostLevel`,`marginSize`,`imageSettings`]),{style:m}=p,h=zf(p,[`style`]),g=f?.src,_=x.useRef(null),v=x.useRef(null),y=x.useCallback(e=>{_.current=e,typeof t==`function`?t(e):t&&(t.current=e)},[t]),[b,S]=x.useState(!1),{margin:C,cells:w,numCells:T,calculatedImageSettings:E}=np({value:r,level:a,minVersion:l,boostLevel:u,includeMargin:c,marginSize:d,imageSettings:f,size:i});x.useEffect(()=>{if(_.current!=null){let e=_.current,t=e.getContext(`2d`);if(!t)return;let n=w,r=v.current,a=E!=null&&r!==null&&r.complete&&r.naturalHeight!==0&&r.naturalWidth!==0;a&&E.excavation!=null&&(n=$f(w,E.excavation));let c=window.devicePixelRatio||1;e.height=e.width=i*c;let l=i/T*c;t.scale(l,l),t.fillStyle=o,t.fillRect(0,0,T,T),t.fillStyle=s,rp?t.fill(new Path2D(Qf(n,C))):w.forEach(function(e,n){e.forEach(function(e,r){e&&t.fillRect(r+C,n+C,1,1)})}),E&&(t.globalAlpha=E.opacity),a&&t.drawImage(r,E.x+C,E.y+C,E.w,E.h)}}),x.useEffect(()=>{S(!1)},[g]);let D=Rf({height:i,width:i},m),O=null;return g!=null&&(O=x.createElement(`img`,{src:g,key:g,style:{display:`none`},onLoad:()=>{S(!0)},ref:v,crossOrigin:E?.crossOrigin})),x.createElement(x.Fragment,null,x.createElement(`canvas`,Rf({style:D,height:i,width:i,ref:y,role:`img`},h)),O)});ip.displayName=`QRCodeCanvas`;var ap=x.forwardRef(function(e,t){let n=e,{value:r,size:i=Uf,level:a=Wf,bgColor:o=Gf,fgColor:s=Kf,includeMargin:c=qf,minVersion:l=Jf,boostLevel:u,title:d,marginSize:f,imageSettings:p}=n,m=zf(n,[`value`,`size`,`level`,`bgColor`,`fgColor`,`includeMargin`,`minVersion`,`boostLevel`,`title`,`marginSize`,`imageSettings`]),{margin:h,cells:g,numCells:_,calculatedImageSettings:v}=np({value:r,level:a,minVersion:l,boostLevel:u,includeMargin:c,marginSize:f,imageSettings:p,size:i}),y=g,b=null;p!=null&&v!=null&&(v.excavation!=null&&(y=$f(g,v.excavation)),b=x.createElement(`image`,{href:p.src,height:v.h,width:v.w,x:v.x+h,y:v.y+h,preserveAspectRatio:`none`,opacity:v.opacity,crossOrigin:v.crossOrigin}));let S=Qf(y,h);return x.createElement(`svg`,Rf({height:i,width:i,viewBox:`0 0 ${_} ${_}`,ref:t,role:`img`},m),!!d&&x.createElement(`title`,null,d),x.createElement(`path`,{fill:o,d:`M0,0 h${_}v${_}H0z`,shapeRendering:`crispEdges`}),x.createElement(`path`,{fill:s,d:S,shapeRendering:`crispEdges`}),b)});ap.displayName=`QRCodeSVG`;function op(){let{points:e,config:t,history:n,addDonation:r}=Mf(),{user:i,userAttributes:a}=Xd(),[o,s]=(0,x.useState)(`1`),[c,l]=(0,x.useState)(``),[u,d]=(0,x.useState)(!1),f=parseFloat(o)||0,p=f*t.pointsPerKg,m=async()=>{f<=0||(d(!0),await r(f,c||`Quyn gp nha ti im thu gom`)&&(l(``),s(`1`)),d(!1))},h=()=>a?.name?a.name:a?.email?a.email.split(`@`)[0]:i?.signInDetails?.loginId?i.signInDetails.loginId.split(`@`)[0]:`Thnh vin`,g=()=>a?.email||i?.signInDetails?.loginId||`Cha cp nht email`,_=()=>h().charAt(0).toUpperCase(),v=e=>{switch(e){case`pending`:return(0,Q.jsxs)(`span`,{className:`status-indicator st-pending`,children:[(0,Q.jsx)(`i`,{className:`fa-solid fa-clock`}),` ang ch duyt`]});case`approved`:return(0,Q.jsxs)(`span`,{className:`status-indicator st-approved`,children:[(0,Q.jsx)(`i`,{className:`fa-solid fa-check`}),` Thnh cng`]});case`rejected`:return(0,Q.jsxs)(`span`,{className:`status-indicator st-rejected`,children:[(0,Q.jsx)(`i`,{className:`fa-solid fa-xmark`}),` T chi`]});default:return null}},y=n.filter(e=>e.type===`donate`&&e.status===`approved`).reduce((e,t)=>e+(t.kg||0),0);return(0,Q.jsx)(`div`,{className:`page content`,style:{background:`#f8fafc`,minHeight:`100vh`,paddingBottom:`3rem`},children:(0,Q.jsxs)(`div`,{className:`container`,children:[(0,Q.jsxs)(`div`,{style:{padding:`1.5rem 0`},children:[(0,Q.jsx)(`h1`,{style:{fontSize:`1.75rem`,fontWeight:800,color:`#1e293b`},children:`Tng quan ti khon`}),(0,Q.jsx)(`p`,{style:{color:`#64748b`},children:`Qun l im thng v ng gp ca bn.`})]}),(0,Q.jsxs)(`div`,{className:`dashboard-container`,children:[(0,Q.jsxs)(`aside`,{children:[(0,Q.jsxs)(`div`,{className:`profile-card`,children:[(0,Q.jsx)(`div`,{className:`profile-avatar`,children:_()}),(0,Q.jsxs)(`div`,{className:`profile-info`,children:[(0,Q.jsx)(`h2`,{className:`profile-name`,children:h()}),(0,Q.jsx)(`div`,{className:`profile-email`,children:g()}),(0,Q.jsx)(`div`,{className:`chip-muted`,style:{display:`inline-block`,padding:`0.25rem 0.75rem`,borderRadius:`20px`,fontSize:`0.75rem`},children:`Thnh vin Chnh thc`})]}),(0,Q.jsxs)(`div`,{className:`profile-stats`,children:[(0,Q.jsxs)(`div`,{className:`stat-item`,children:[(0,Q.jsx)(`h4`,{children:`im hin c`}),(0,Q.jsx)(`div`,{className:`value`,style:{color:`#16a34a`},children:e})]}),(0,Q.jsxs)(`div`,{className:`stat-item`,children:[(0,Q.jsx)(`h4`,{children:`Tng nha (kg)`}),(0,Q.jsx)(`div`,{className:`value`,style:{color:`#3b82f6`},children:y})]})]})]}),(0,Q.jsxs)(`div`,{className:`profile-card qr-card`,style:{marginTop:`1.5rem`,textAlign:`center`},children:[(0,Q.jsx)(`h4`,{style:{marginBottom:`1rem`,color:`#1e293b`},children:`M thnh vin ca bn`}),(0,Q.jsx)(`div`,{style:{background:`white`,padding:`10px`,display:`inline-block`,borderRadius:`8px`,border:`1px solid #eee`},children:(0,Q.jsx)(ip,{value:a?.sub||i?.username||`unknown`,size:150})}),(0,Q.jsx)(`p`,{style:{fontSize:`0.8rem`,color:`#64748b`,marginTop:`0.5rem`},children:`a m ny cho Admin ti im thu gom  tch im nhanh.`})]}),(0,Q.jsxs)(`div`,{className:`action-card`,style:{marginTop:`2rem`,textAlign:`center`,background:`linear-gradient(to right, #20803F, #16a34a)`,color:`white`,border:`none`},children:[(0,Q.jsx)(`h3`,{style:{color:`white`,marginBottom:`0.5rem`},children:`i qu ngay?`}),(0,Q.jsx)(`p`,{style:{color:`rgba(255,255,255,0.9)`,marginBottom:`1.5rem`,fontSize:`0.9rem`},children:`S dng im tch ly  i ly voucher gim gi hp dn.`}),(0,Q.jsxs)(un,{to:`/redeem`,className:`btn`,style:{background:`white`,color:`#15803d`,border:`none`,width:`100%`},children:[`Xem kho qu `,(0,Q.jsx)(`i`,{className:`fa-solid fa-arrow-right`})]})]})]}),(0,Q.jsxs)(`main`,{className:`dashboard-main`,children:[(0,Q.jsxs)(`div`,{className:`action-card`,children:[(0,Q.jsxs)(`div`,{className:`card-header`,children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`h3`,{className:`card-title`,children:`Gi yu cu tch im`}),(0,Q.jsx)(`p`,{className:`card-subtitle`,children:`Nhp s lng nha bn  gi ti im thu gom.`})]}),(0,Q.jsx)(`div`,{style:{width:`40px`,height:`40px`,background:`#dcfce7`,borderRadius:`50%`,display:`flex`,alignItems:`center`,justifyContent:`center`,color:`#15803d`},children:(0,Q.jsx)(`i`,{className:`fa-solid fa-recycle`})})]}),(0,Q.jsxs)(`div`,{className:`form-input-group`,children:[(0,Q.jsx)(`label`,{children:`S lng nha (kg)`}),(0,Q.jsx)(`input`,{type:`number`,min:`0.1`,step:`0.1`,className:`form-field`,value:o,onChange:e=>s(e.target.value)})]}),(0,Q.jsxs)(`div`,{className:`form-input-group`,children:[(0,Q.jsx)(`label`,{children:`Ghi ch (Ty chn)`}),(0,Q.jsx)(`input`,{type:`text`,placeholder:`V d:  gi ti KTX Khu A lc 9h sng...`,className:`form-field`,value:c,onChange:e=>l(e.target.value)})]}),(0,Q.jsxs)(`div`,{className:`conversion-box`,children:[(0,Q.jsx)(`i`,{className:`fa-solid fa-circle-info conversion-icon`}),(0,Q.jsxs)(`div`,{children:[`Bn s nhn c `,(0,Q.jsxs)(`strong`,{children:[Math.floor(p),` im`]}),` sau khi Admin ph duyt.`]})]}),(0,Q.jsx)(`div`,{style:{textAlign:`right`},children:(0,Q.jsx)(`button`,{className:`btn primary`,onClick:m,disabled:u,style:{minWidth:`150px`},children:u?(0,Q.jsx)(`i`,{className:`fa-solid fa-spinner fa-spin`}):`Gi yu cu`})})]}),(0,Q.jsxs)(`div`,{className:`action-card`,children:[(0,Q.jsxs)(`div`,{className:`card-header`,children:[(0,Q.jsx)(`h3`,{className:`card-title`,children:`Hot ng gn y`}),(0,Q.jsx)(un,{to:`/history`,style:{fontSize:`0.9rem`,color:`#20803F`,fontWeight:600},children:`Xem tt c`})]}),(0,Q.jsxs)(`div`,{className:`activity-list`,children:[n.length===0&&(0,Q.jsx)(`div`,{style:{textAlign:`center`,padding:`2rem`,color:`#94a3b8`},children:`Cha c hot ng no. Hy bt u quyn gp!`}),n.slice(0,5).map(e=>(0,Q.jsxs)(`div`,{className:`activity-item`,children:[(0,Q.jsxs)(`div`,{style:{display:`flex`,alignItems:`center`},children:[(0,Q.jsx)(`div`,{className:`activity-icon ${e.type===`donate`?`icon-donate`:e.type===`redeem`?`icon-redeem`:`icon-admin`}`,children:(0,Q.jsx)(`i`,{className:`fa-solid ${e.type===`donate`?`fa-leaf`:e.type===`redeem`?`fa-gift`:`fa-user-gear`}`})}),(0,Q.jsxs)(`div`,{className:`activity-details`,children:[(0,Q.jsx)(`div`,{className:`activity-title`,children:e.note}),(0,Q.jsx)(`div`,{className:`activity-date`,children:e.createdAt}),v(e.status)]})]}),(0,Q.jsxs)(`div`,{className:`activity-amount ${e.points>0?`amount-plus`:`amount-minus`}`,children:[e.points>0?`+`:``,e.points]})]},e.id))]})]})]})]})]})})}function sp(){let{config:e,points:t,redeemOption:n,availableVouchers:r}=Mf(),[i,a]=(0,x.useState)(``),o=async e=>{let t=r.find(t=>t.id===e);t&&a((await n(t)).message)};return(0,Q.jsx)(`div`,{className:`page content`,children:(0,Q.jsx)(`section`,{className:`section pad`,children:(0,Q.jsxs)(`div`,{className:`container`,children:[(0,Q.jsx)(`h2`,{className:`section-title`,children:`I IM LY VOUCHER`}),(0,Q.jsxs)(`p`,{className:`section-sub`,children:[`im hin c: `,(0,Q.jsx)(`strong`,{children:t})]}),i&&(0,Q.jsx)(`div`,{className:`chip-muted`,style:{margin:`0 auto 1.5rem`,display:`inline-block`},children:i}),(0,Q.jsx)(`div`,{className:`voucher-grid`,children:r.length>0?r.map(e=>(0,Q.jsxs)(`div`,{className:`voucher-card`,children:[(0,Q.jsx)(`span`,{className:`badge`,children:e.discount}),(0,Q.jsx)(`h3`,{children:e.title}),(0,Q.jsxs)(`p`,{children:[`im cn: `,(0,Q.jsx)(`strong`,{children:e.pointsRequired})]}),(0,Q.jsxs)(`p`,{children:[`Hn s dng: `,e.expiresAt]}),(0,Q.jsx)(`button`,{className:`btn primary`,type:`button`,onClick:()=>o(e.id),children:`i ngay`})]},e.id)):(0,Q.jsx)(`div`,{style:{gridColumn:`1 / -1`,textAlign:`center`,padding:`2rem`},children:(0,Q.jsx)(`p`,{className:`text-muted`,children:`Cha c Voucher no sn sng.`})})})]})})})}function cp(){let{claimedVouchers:e,availableVouchers:t}=Mf();return(0,Q.jsx)(`div`,{className:`page content`,children:(0,Q.jsx)(`section`,{className:`section pad`,children:(0,Q.jsxs)(`div`,{className:`container`,children:[(0,Q.jsx)(`h2`,{className:`section-title`,children:`VOUCHER CA BN`}),(0,Q.jsx)(`p`,{className:`section-sub`,children:`Voucher  i v ang sn sng s dng.`}),(0,Q.jsx)(`div`,{className:`voucher-grid`,style:{marginBottom:`2rem`},children:e.length===0?(0,Q.jsxs)(`div`,{className:`voucher-card`,children:[(0,Q.jsx)(`h3`,{children:`Cha c voucher`}),(0,Q.jsx)(`p`,{children:`Hy i im  nhn voucher u tin.`})]}):e.map(e=>(0,Q.jsxs)(`div`,{className:`voucher-card`,children:[(0,Q.jsx)(`span`,{className:`badge`,children:e.discount}),(0,Q.jsx)(`h3`,{children:e.title}),(0,Q.jsxs)(`p`,{children:[`M: `,(0,Q.jsx)(`strong`,{children:e.code})]}),(0,Q.jsxs)(`p`,{children:[`Hn s dng: `,e.expiresAt]})]},e.id))}),(0,Q.jsx)(`h2`,{className:`section-title`,children:`Voucher  xut`}),(0,Q.jsx)(`div`,{className:`voucher-grid`,children:t.map(e=>(0,Q.jsxs)(`div`,{className:`voucher-card`,children:[(0,Q.jsx)(`span`,{className:`badge`,children:e.discount}),(0,Q.jsx)(`h3`,{children:e.title}),(0,Q.jsxs)(`p`,{children:[`im cn: `,e.pointsRequired]}),(0,Q.jsxs)(`p`,{children:[`Hn s dng: `,e.expiresAt]})]},e.id))})]})})})}const lp=({data:e,title:t,color:n=`#20803F`})=>{if(e.length===0)return(0,Q.jsx)(pp,{message:`Cha c d liu theo thi gian`});let r=Math.max(...e.map(e=>e.value))*1.1||10,i=e.map((t,n)=>`${n/(e.length-1||1)*520+40},${210-t.value/r*170}`).join(` `);return(0,Q.jsxs)(`div`,{className:`chart-container`,children:[t&&(0,Q.jsx)(`h4`,{className:`chart-title`,children:t}),(0,Q.jsxs)(`svg`,{viewBox:`0 0 600 250`,className:`svg-chart`,children:[(0,Q.jsx)(`line`,{x1:40,y1:210,x2:560,y2:210,stroke:`#e2e8f0`,strokeWidth:`1`}),(0,Q.jsx)(`line`,{x1:40,y1:40,x2:40,y2:210,stroke:`#e2e8f0`,strokeWidth:`1`}),(0,Q.jsx)(`text`,{x:30,y:40,textAnchor:`end`,fontSize:`10`,fill:`#94a3b8`,children:Math.round(r)}),(0,Q.jsx)(`text`,{x:30,y:210,textAnchor:`end`,fontSize:`10`,fill:`#94a3b8`,children:`0`}),(0,Q.jsx)(`polyline`,{fill:`none`,stroke:n,strokeWidth:`3`,points:i,strokeLinecap:`round`,strokeLinejoin:`round`}),(0,Q.jsx)(`polygon`,{points:`40,210 ${i} 560,210`,fill:n,opacity:`0.1`}),e.map((t,i)=>{let a=i/(e.length-1||1)*520+40,o=210-t.value/r*170;return(0,Q.jsxs)(`g`,{className:`chart-tooltip-trigger`,children:[(0,Q.jsx)(`circle`,{cx:a,cy:o,r:`4`,fill:`white`,stroke:n,strokeWidth:`2`}),(0,Q.jsx)(`text`,{x:a,y:o-12,textAnchor:`middle`,fontSize:`11`,fontWeight:`bold`,fill:`#334155`,children:t.value}),(0,Q.jsx)(`text`,{x:a,y:225,textAnchor:`middle`,fontSize:`10`,fill:`#64748b`,children:t.date.slice(5)})]},i)})]})]})},up=({data:e,title:t})=>{if(e.length===0)return(0,Q.jsx)(pp,{message:`Cha c d liu so snh`});let n=Math.max(...e.map(e=>e.value))*1.1||10,r=(520-(e.length-1)*20)/e.length;return(0,Q.jsxs)(`div`,{className:`chart-container`,children:[t&&(0,Q.jsx)(`h4`,{className:`chart-title`,children:t}),(0,Q.jsxs)(`svg`,{viewBox:`0 0 600 250`,className:`svg-chart`,children:[(0,Q.jsx)(`line`,{x1:40,y1:210,x2:560,y2:210,stroke:`#e2e8f0`,strokeWidth:`1`}),e.map((e,t)=>{let i=40+t*(r+20),a=e.value/n*170,o=210-a;return(0,Q.jsxs)(`g`,{children:[(0,Q.jsx)(`rect`,{x:i,y:o,width:r,height:a,fill:e.color||`#3b82f6`,rx:`4`,className:`chart-bar`}),(0,Q.jsx)(`text`,{x:i+r/2,y:o-5,textAnchor:`middle`,fontSize:`11`,fontWeight:`bold`,fill:`#334155`,children:e.value}),(0,Q.jsx)(`text`,{x:i+r/2,y:225,textAnchor:`middle`,fontSize:`10`,fill:`#64748b`,style:{textTransform:`capitalize`},children:e.label.length>10?e.label.slice(0,8)+`...`:e.label})]},t)})]})]})},dp=({data:e,title:t})=>{let n=e.reduce((e,t)=>e+t.value,0);if(n===0)return(0,Q.jsx)(pp,{message:`Cha c d liu phn b`});let r={x:120,y:125},i=0;return(0,Q.jsxs)(`div`,{className:`chart-container pie-layout`,style:{display:`flex`,alignItems:`center`},children:[(0,Q.jsxs)(`div`,{style:{flex:1},children:[t&&(0,Q.jsx)(`h4`,{className:`chart-title`,children:t}),(0,Q.jsxs)(`svg`,{viewBox:`0 0 240 250`,className:`svg-chart`,children:[e.map((e,t)=>{let a=e.value/n*360,o=i+a,s=r.x+90*Math.cos(Math.PI*i/180),c=r.y+90*Math.sin(Math.PI*i/180),l=r.x+90*Math.cos(Math.PI*o/180),u=r.y+90*Math.sin(Math.PI*o/180),d=a>180?1:0,f=`M ${r.x} ${r.y} L ${s} ${c} A 90 90 0 ${d} 1 ${l} ${u} Z`;return i+=a,(0,Q.jsx)(`path`,{d:f,fill:e.color,stroke:`white`,strokeWidth:`2`},t)}),(0,Q.jsx)(`circle`,{cx:r.x,cy:r.y,r:90*.6,fill:`white`}),(0,Q.jsx)(`text`,{x:r.x,y:r.y,textAnchor:`middle`,dy:`0.3em`,fontSize:`16`,fontWeight:`bold`,fill:`#334155`,children:n}),(0,Q.jsx)(`text`,{x:r.x,y:r.y+15,textAnchor:`middle`,dy:`0.3em`,fontSize:`10`,fill:`#94a3b8`,children:`Tng n`})]})]}),(0,Q.jsx)(`div`,{className:`chart-legend`,style:{marginLeft:`1rem`},children:e.map((e,t)=>(0,Q.jsxs)(`div`,{style:{display:`flex`,alignItems:`center`,marginBottom:`0.5rem`,fontSize:`0.9rem`},children:[(0,Q.jsx)(`span`,{style:{width:`12px`,height:`12px`,background:e.color,borderRadius:`3px`,marginRight:`8px`}}),(0,Q.jsx)(`span`,{style:{color:`#475569`,flex:1},children:e.label}),(0,Q.jsxs)(`span`,{style:{fontWeight:`bold`,marginLeft:`8px`},children:[Math.round(e.value/n*100),`%`]})]},t))})]})},fp=({data:e,title:t})=>{if(e.length===0)return(0,Q.jsx)(pp,{message:`Cha c d liu xu hng`});let n=(520-(e.length-1)*30)/e.length,r=Math.max(...e.map(e=>e.approved+e.pending+e.rejected))*1.1||10;return(0,Q.jsxs)(`div`,{className:`chart-container`,children:[t&&(0,Q.jsx)(`h4`,{className:`chart-title`,children:t}),(0,Q.jsxs)(`svg`,{viewBox:`0 0 600 250`,className:`svg-chart`,children:[(0,Q.jsx)(`line`,{x1:40,y1:210,x2:560,y2:210,stroke:`#e2e8f0`,strokeWidth:`1`}),e.map((e,t)=>{let i=40+t*(n+30),a=e.approved/r*170,o=e.pending/r*170,s=e.rejected/r*170,c=210-a,l=c-o,u=l-s;return(0,Q.jsxs)(`g`,{children:[e.approved>0&&(0,Q.jsx)(`rect`,{x:i,y:c,width:n,height:a,fill:`#22c55e`,className:`chart-bar`,children:(0,Q.jsxs)(`title`,{children:[` duyt: `,e.approved]})}),e.pending>0&&(0,Q.jsx)(`rect`,{x:i,y:l,width:n,height:o,fill:`#f59e0b`,className:`chart-bar`,children:(0,Q.jsxs)(`title`,{children:[`ang ch: `,e.pending]})}),e.rejected>0&&(0,Q.jsx)(`rect`,{x:i,y:u,width:n,height:s,fill:`#ef4444`,className:`chart-bar`,children:(0,Q.jsxs)(`title`,{children:[`T chi: `,e.rejected]})}),(0,Q.jsx)(`text`,{x:i+n/2,y:225,textAnchor:`middle`,fontSize:`10`,fill:`#64748b`,children:e.date.slice(5)}),(0,Q.jsx)(`text`,{x:i+n/2,y:u-5,textAnchor:`middle`,fontSize:`10`,fill:`#334155`,fontWeight:`bold`,children:e.approved+e.pending+e.rejected})]},t)}),(0,Q.jsxs)(`g`,{transform:`translate(400, 20)`,children:[(0,Q.jsx)(`rect`,{x:`0`,y:`0`,width:`10`,height:`10`,fill:`#22c55e`,rx:`2`}),(0,Q.jsx)(`text`,{x:`15`,y:`9`,fontSize:`10`,fill:`#475569`,children:`Thnh cng`}),(0,Q.jsx)(`rect`,{x:`70`,y:`0`,width:`10`,height:`10`,fill:`#f59e0b`,rx:`2`}),(0,Q.jsx)(`text`,{x:`85`,y:`9`,fontSize:`10`,fill:`#475569`,children:`ang ch`}),(0,Q.jsx)(`rect`,{x:`140`,y:`0`,width:`10`,height:`10`,fill:`#ef4444`,rx:`2`}),(0,Q.jsx)(`text`,{x:`155`,y:`9`,fontSize:`10`,fill:`#475569`,children:`T chi`})]})]})]})};var pp=({message:e})=>(0,Q.jsxs)(`div`,{style:{height:`250px`,background:`#f8fafc`,borderRadius:`8px`,display:`flex`,alignItems:`center`,justifyContent:`center`,color:`#94a3b8`,flexDirection:`column`,gap:`0.5rem`},children:[(0,Q.jsx)(`i`,{className:`fa-solid fa-chart-pie`,style:{fontSize:`2rem`,opacity:.3}}),(0,Q.jsx)(`span`,{style:{fontSize:`0.9rem`},children:e})]});function mp(){let{allUsers:e}=Mf(),t=e.length,n=e.flatMap(e=>e.history).filter(e=>e.type===`donate`&&e.status===`approved`).reduce((e,t)=>e+(t.kg||0),0),r=e.reduce((e,t)=>e+t.points,0),i=e.flatMap(e=>e.history).filter(e=>e.status===`pending`).length,a=(0,x.useMemo)(()=>{let t=e.flatMap(e=>e.history).filter(e=>e.type===`donate`&&e.status===`approved`).sort((e,t)=>new Date(e.createdAt).getTime()-new Date(t.createdAt).getTime()),n={};t.forEach(e=>{let t=e.createdAt.split(`T`)[0];n[t]=(n[t]||0)+(e.kg||0)});let r=Object.keys(n).map(e=>({date:e,value:n[e]}));if(r.length===1){let e=new Date(r[0].date);return e.setDate(e.getDate()-1),[{date:e.toISOString().slice(0,10),value:0},...r]}return r.slice(-7)},[e]),o=(0,x.useMemo)(()=>{let t=e.flatMap(e=>e.history).filter(e=>e.type===`donate`),n=t.filter(e=>e.status===`approved`).length,r=t.filter(e=>e.status===`pending`).length,i=t.filter(e=>e.status===`rejected`).length;return[{label:`Thnh cng`,value:n,color:`#22c55e`},{label:`ang ch`,value:r,color:`#f59e0b`},{label:`T chi`,value:i,color:`#ef4444`}].filter(e=>e.value>0)},[e]),s=(0,x.useMemo)(()=>[...e].sort((e,t)=>t.totalKg-e.totalKg).slice(0,5).map(e=>({label:e.name,value:Number(e.totalKg.toFixed(1)),color:`#3b82f6`})).filter(e=>e.value>0),[e]),c=(0,x.useMemo)(()=>{let t=e.flatMap(e=>e.history).filter(e=>e.type===`donate`).sort((e,t)=>new Date(e.createdAt).getTime()-new Date(t.createdAt).getTime()),n={};return t.forEach(e=>{let t=e.createdAt.split(`T`)[0];n[t]||(n[t]={approved:0,pending:0,rejected:0}),e.status===`approved`?n[t].approved++:e.status===`pending`?n[t].pending++:e.status===`rejected`&&n[t].rejected++}),Object.keys(n).map(e=>({date:e,...n[e]})).slice(-7)},[e]);return(0,Q.jsxs)(`div`,{children:[(0,Q.jsxs)(`div`,{className:`admin-page-header`,children:[(0,Q.jsx)(`h2`,{className:`admin-page-title`,children:`Tng quan h thng`}),(0,Q.jsx)(`p`,{className:`admin-page-desc`,children:`Bo co hiu sut v ch s tc ng x hi.`})]}),(0,Q.jsxs)(`div`,{className:`stats-container`,children:[(0,Q.jsxs)(`div`,{className:`stat-widget`,children:[(0,Q.jsx)(`span`,{className:`stat-label`,children:`Tng thnh vin`}),(0,Q.jsx)(`span`,{className:`stat-number`,children:t}),(0,Q.jsxs)(`span`,{className:`stat-subtext`,children:[(0,Q.jsx)(`i`,{className:`fa-solid fa-arrow-trend-up`}),` Thnh vin tch cc`]})]}),(0,Q.jsxs)(`div`,{className:`stat-widget`,children:[(0,Q.jsx)(`span`,{className:`stat-label`,children:`Nha  thu gom`}),(0,Q.jsxs)(`span`,{className:`stat-number`,children:[n.toFixed(1),` `,(0,Q.jsx)(`span`,{style:{fontSize:`1rem`,color:`#64748b`},children:`kg`})]}),(0,Q.jsxs)(`span`,{className:`stat-subtext`,children:[(0,Q.jsx)(`i`,{className:`fa-solid fa-leaf`}),` Tc ng mi trng`]})]}),(0,Q.jsxs)(`div`,{className:`stat-widget`,children:[(0,Q.jsx)(`span`,{className:`stat-label`,children:`Tng im thng`}),(0,Q.jsx)(`span`,{className:`stat-number`,children:r.toLocaleString()}),(0,Q.jsx)(`span`,{className:`stat-subtext`,children:`im lu hnh`})]}),(0,Q.jsxs)(`div`,{className:`stat-widget`,style:{borderLeft:`4px solid #f59e0b`},children:[(0,Q.jsx)(`span`,{className:`stat-label`,children:`Cn x l`}),(0,Q.jsx)(`span`,{className:`stat-number`,style:{color:i>0?`#b45309`:`#0f172a`},children:i}),(0,Q.jsx)(`span`,{className:`stat-subtext`,style:{color:`#b45309`},children:`Yu cu quy i mi`})]})]}),(0,Q.jsxs)(`div`,{className:`chart-grid`,children:[(0,Q.jsx)(`div`,{className:`chart-card`,style:{gridColumn:`1 / -1`},children:(0,Q.jsx)(lp,{title:`Tng trng thu gom nha (7 ngy gn nht)`,data:a})}),(0,Q.jsx)(`div`,{className:`chart-card`,children:(0,Q.jsx)(up,{title:`Top 5 Thnh vin ng gp`,data:s})}),(0,Q.jsx)(`div`,{className:`chart-card`,children:(0,Q.jsx)(dp,{title:`T l trng thi n (Phn b)`,data:o})}),(0,Q.jsx)(`div`,{className:`chart-card`,style:{gridColumn:`1 / -1`},children:(0,Q.jsx)(fp,{title:`Xu hng x l n theo ngy`,data:c})})]})]})}var $;(function(e){e[e.QR_CODE=0]=`QR_CODE`,e[e.AZTEC=1]=`AZTEC`,e[e.CODABAR=2]=`CODABAR`,e[e.CODE_39=3]=`CODE_39`,e[e.CODE_93=4]=`CODE_93`,e[e.CODE_128=5]=`CODE_128`,e[e.DATA_MATRIX=6]=`DATA_MATRIX`,e[e.MAXICODE=7]=`MAXICODE`,e[e.ITF=8]=`ITF`,e[e.EAN_13=9]=`EAN_13`,e[e.EAN_8=10]=`EAN_8`,e[e.PDF_417=11]=`PDF_417`,e[e.RSS_14=12]=`RSS_14`,e[e.RSS_EXPANDED=13]=`RSS_EXPANDED`,e[e.UPC_A=14]=`UPC_A`,e[e.UPC_E=15]=`UPC_E`,e[e.UPC_EAN_EXTENSION=16]=`UPC_EAN_EXTENSION`})($||={});var hp=new Map([[$.QR_CODE,`QR_CODE`],[$.AZTEC,`AZTEC`],[$.CODABAR,`CODABAR`],[$.CODE_39,`CODE_39`],[$.CODE_93,`CODE_93`],[$.CODE_128,`CODE_128`],[$.DATA_MATRIX,`DATA_MATRIX`],[$.MAXICODE,`MAXICODE`],[$.ITF,`ITF`],[$.EAN_13,`EAN_13`],[$.EAN_8,`EAN_8`],[$.PDF_417,`PDF_417`],[$.RSS_14,`RSS_14`],[$.RSS_EXPANDED,`RSS_EXPANDED`],[$.UPC_A,`UPC_A`],[$.UPC_E,`UPC_E`],[$.UPC_EAN_EXTENSION,`UPC_EAN_EXTENSION`]]),gp;(function(e){e[e.UNKNOWN=0]=`UNKNOWN`,e[e.URL=1]=`URL`})(gp||={});function _p(e){return Object.values($).includes(e)}var vp;(function(e){e[e.SCAN_TYPE_CAMERA=0]=`SCAN_TYPE_CAMERA`,e[e.SCAN_TYPE_FILE=1]=`SCAN_TYPE_FILE`})(vp||={});var yp=function(){function e(){}return e.GITHUB_PROJECT_URL=`https://github.com/mebjas/html5-qrcode`,e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[vp.SCAN_TYPE_CAMERA,vp.SCAN_TYPE_FILE],e}(),bp=function(){function e(e,t){this.format=e,this.formatName=t}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!hp.has(t))throw`${t} not in html5QrcodeSupportedFormatsTextMap`;return new e(t,hp.get(t))},e}(),xp=function(){function e(){}return e.createFromText=function(e){return{decodedText:e,result:{text:e}}},e.createFromQrcodeResult=function(e){return{decodedText:e.text,result:e}},e}(),Sp;(function(e){e[e.UNKWOWN_ERROR=0]=`UNKWOWN_ERROR`,e[e.IMPLEMENTATION_ERROR=1]=`IMPLEMENTATION_ERROR`,e[e.NO_CODE_FOUND_ERROR=2]=`NO_CODE_FOUND_ERROR`})(Sp||={});var Cp=function(){function e(){}return e.createFrom=function(e){return{errorMessage:e,type:Sp.UNKWOWN_ERROR}},e}(),wp=function(){function e(e){this.verbose=e}return e.prototype.log=function(e){this.verbose&&console.log(e)},e.prototype.warn=function(e){this.verbose&&console.warn(e)},e.prototype.logError=function(e,t){(this.verbose||t===!0)&&console.error(e)},e.prototype.logErrors=function(e){if(e.length===0)throw`Logger#logError called without arguments`;this.verbose&&console.error(e)},e}();function Tp(e){return e==null}function Ep(e,t,n){return e>n?n:e<t?t:e}var Dp=function(){function e(){}return e.codeParseError=function(e){return`QR code parse error, error = ${e}`},e.errorGettingUserMedia=function(e){return`Error getting userMedia, error = ${e}`},e.onlyDeviceSupportedError=function(){return`The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string).`},e.cameraStreamingNotSupported=function(){return`Camera streaming not supported by the browser.`},e.unableToQuerySupportedDevices=function(){return`Unable to query supported devices, unknown error.`},e.insecureContextCameraQueryError=function(){return`Camera access is only supported in secure context like https or localhost.`},e.scannerPaused=function(){return`Scanner paused`},e}(),Op=function(){function e(){}return e.scanningStatus=function(){return`Scanning`},e.idleStatus=function(){return`Idle`},e.errorStatus=function(){return`Error`},e.permissionStatus=function(){return`Permission`},e.noCameraFoundErrorStatus=function(){return`No Cameras`},e.lastMatch=function(e){return`Last Match: ${e}`},e.codeScannerTitle=function(){return`Code Scanner`},e.cameraPermissionTitle=function(){return`Request Camera Permissions`},e.cameraPermissionRequesting=function(){return`Requesting camera permissions...`},e.noCameraFound=function(){return`No camera found`},e.scanButtonStopScanningText=function(){return`Stop Scanning`},e.scanButtonStartScanningText=function(){return`Start Scanning`},e.torchOnButton=function(){return`Switch On Torch`},e.torchOffButton=function(){return`Switch Off Torch`},e.torchOnFailedMessage=function(){return`Failed to turn on torch`},e.torchOffFailedMessage=function(){return`Failed to turn off torch`},e.scanButtonScanningStarting=function(){return`Launching Camera...`},e.textIfCameraScanSelected=function(){return`Scan an Image File`},e.textIfFileScanSelected=function(){return`Scan using camera directly`},e.selectCamera=function(){return`Select Camera`},e.fileSelectionChooseImage=function(){return`Choose Image`},e.fileSelectionChooseAnother=function(){return`Choose Another`},e.fileSelectionNoImageSelected=function(){return`No image choosen`},e.anonymousCameraPrefix=function(){return`Anonymous Camera`},e.dragAndDropMessage=function(){return`Or drop an image to scan`},e.dragAndDropMessageOnlyImages=function(){return`Or drop an image to scan (other files not supported)`},e.zoom=function(){return`zoom`},e.loadingImage=function(){return`Loading image...`},e.cameraScanAltText=function(){return`Camera based scan`},e.fileScanAltText=function(){return`Fule based scan`},e}(),kp=function(){function e(){}return e.poweredBy=function(){return`Powered by `},e.reportIssues=function(){return`Report issues`},e}(),Ap=function(){function e(){}return e.isMediaStreamConstraintsValid=function(e,t){if(typeof e!=`object`){var n=typeof e;return t.logError(`videoConstraints should be of type object, the object passed is of type ${n}.`,!0),!1}for(var r=new Set([`autoGainControl`,`channelCount`,`echoCancellation`,`latency`,`noiseSuppression`,`sampleRate`,`sampleSize`,`volume`]),i=Object.keys(e),a=0,o=i;a<o.length;a++){var s=o[a];if(r.has(s))return t.logError(`${s} is not supported videoConstaints.`,!0),!1}return!0},e}(),jp=c(o(((e,t)=>{(function(n,r){typeof e==`object`&&t!==void 0?r(e):typeof define==`function`&&define.amd?define([`exports`],r):(n=typeof globalThis<`u`?globalThis:n||self,r(n.ZXing={}))})(e,(function(e){function t(e){return e==null}var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])};function r(e,t){n(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function i(e,t){var n=Object.setPrototypeOf;n?n(e,t):e.__proto__=t}function a(e,t){t===void 0&&(t=e.constructor);var n=Error.captureStackTrace;n&&n(e,t)}var o=(function(e){r(t,e);function t(t){var n=this.constructor,r=e.call(this,t)||this;return Object.defineProperty(r,`name`,{value:n.name,enumerable:!1}),i(r,n.prototype),a(r),r}return t})(Error);class s extends o{constructor(e=void 0){super(e),this.message=e}getKind(){return this.constructor.kind}}s.kind=`Exception`;class c extends s{}c.kind=`ArgumentException`;class l extends s{}l.kind=`IllegalArgumentException`;class u{constructor(e){if(this.binarizer=e,e===null)throw new l(`Binarizer must be non-null.`)}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(e,t){return this.binarizer.getBlackRow(e,t)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(e,t,n,r){let i=this.binarizer.getLuminanceSource().crop(e,t,n,r);return new u(this.binarizer.createBinarizer(i))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){let e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new u(this.binarizer.createBinarizer(e))}rotateCounterClockwise45(){let e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new u(this.binarizer.createBinarizer(e))}toString(){try{return this.getBlackMatrix().toString()}catch{return``}}}class d extends s{static getChecksumInstance(){return new d}}d.kind=`ChecksumException`;class f{constructor(e){this.source=e}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class p{static arraycopy(e,t,n,r,i){for(;i--;)n[r++]=e[t++]}static currentTimeMillis(){return Date.now()}}class m extends s{}m.kind=`IndexOutOfBoundsException`;class h extends m{constructor(e=void 0,t=void 0){super(t),this.index=e,this.message=t}}h.kind=`ArrayIndexOutOfBoundsException`;class g{static fill(e,t){for(let n=0,r=e.length;n<r;n++)e[n]=t}static fillWithin(e,t,n,r){g.rangeCheck(e.length,t,n);for(let i=t;i<n;i++)e[i]=r}static rangeCheck(e,t,n){if(t>n)throw new l(`fromIndex(`+t+`) > toIndex(`+n+`)`);if(t<0)throw new h(t);if(n>e)throw new h(n)}static asList(...e){return e}static create(e,t,n){return Array.from({length:e}).map(e=>Array.from({length:t}).fill(n))}static createInt32Array(e,t,n){return Array.from({length:e}).map(e=>Int32Array.from({length:t}).fill(n))}static equals(e,t){if(!e||!t||!e.length||!t.length||e.length!==t.length)return!1;for(let n=0,r=e.length;n<r;n++)if(e[n]!==t[n])return!1;return!0}static hashCode(e){if(e===null)return 0;let t=1;for(let n of e)t=31*t+n;return t}static fillUint8Array(e,t){for(let n=0;n!==e.length;n++)e[n]=t}static copyOf(e,t){return e.slice(0,t)}static copyOfUint8Array(e,t){if(e.length<=t){let n=new Uint8Array(t);return n.set(e),n}return e.slice(0,t)}static copyOfRange(e,t,n){let r=n-t,i=new Int32Array(r);return p.arraycopy(e,t,i,0,r),i}static binarySearch(e,t,n){n===void 0&&(n=g.numberComparator);let r=0,i=e.length-1;for(;r<=i;){let a=i+r>>1,o=n(t,e[a]);if(o>0)r=a+1;else if(o<0)i=a-1;else return a}return-r-1}static numberComparator(e,t){return e-t}}class _{static numberOfTrailingZeros(e){let t;if(e===0)return 32;let n=31;return t=e<<16,t!==0&&(n-=16,e=t),t=e<<8,t!==0&&(n-=8,e=t),t=e<<4,t!==0&&(n-=4,e=t),t=e<<2,t!==0&&(n-=2,e=t),n-(e<<1>>>31)}static numberOfLeadingZeros(e){if(e===0)return 32;let t=1;return e>>>16||(t+=16,e<<=16),e>>>24||(t+=8,e<<=8),e>>>28||(t+=4,e<<=4),e>>>30||(t+=2,e<<=2),t-=e>>>31,t}static toHexString(e){return e.toString(16)}static toBinaryString(e){return String(parseInt(String(e),2))}static bitCount(e){return e-=e>>>1&1431655765,e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e+=e>>>8,e+=e>>>16,e&63}static truncDivision(e,t){return Math.trunc(e/t)}static parseInt(e,t=void 0){return parseInt(e,t)}}_.MIN_VALUE_32_BITS=-2147483648,_.MAX_VALUE=2**53-1;class v{constructor(e,t){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,t==null?this.bits=v.makeArray(e):this.bits=t)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(e){if(e>this.bits.length*32){let t=v.makeArray(e);p.arraycopy(this.bits,0,t,0,this.bits.length),this.bits=t}}get(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!=0}set(e){this.bits[Math.floor(e/32)]|=1<<(e&31)}flip(e){this.bits[Math.floor(e/32)]^=1<<(e&31)}getNextSet(e){let t=this.size;if(e>=t)return t;let n=this.bits,r=Math.floor(e/32),i=n[r];i&=~((1<<(e&31))-1);let a=n.length;for(;i===0;){if(++r===a)return t;i=n[r]}let o=r*32+_.numberOfTrailingZeros(i);return o>t?t:o}getNextUnset(e){let t=this.size;if(e>=t)return t;let n=this.bits,r=Math.floor(e/32),i=~n[r];i&=~((1<<(e&31))-1);let a=n.length;for(;i===0;){if(++r===a)return t;i=~n[r]}let o=r*32+_.numberOfTrailingZeros(i);return o>t?t:o}setBulk(e,t){this.bits[Math.floor(e/32)]=t}setRange(e,t){if(t<e||e<0||t>this.size)throw new l;if(t===e)return;t--;let n=Math.floor(e/32),r=Math.floor(t/32),i=this.bits;for(let a=n;a<=r;a++){let o=a>n?0:e&31,s=(2<<(a<r?31:t&31))-(1<<o);i[a]|=s}}clear(){let e=this.bits.length,t=this.bits;for(let n=0;n<e;n++)t[n]=0}isRange(e,t,n){if(t<e||e<0||t>this.size)throw new l;if(t===e)return!0;t--;let r=Math.floor(e/32),i=Math.floor(t/32),a=this.bits;for(let o=r;o<=i;o++){let s=o>r?0:e&31,c=(2<<(o<i?31:t&31))-(1<<s)&4294967295;if((a[o]&c)!==(n?c:0))return!1}return!0}appendBit(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(e,t){if(t<0||t>32)throw new l(`Num bits must be between 0 and 32`);this.ensureCapacity(this.size+t);for(let n=t;n>0;n--)this.appendBit((e>>n-1&1)==1)}appendBitArray(e){let t=e.size;this.ensureCapacity(this.size+t);for(let n=0;n<t;n++)this.appendBit(e.get(n))}xor(e){if(this.size!==e.size)throw new l(`Sizes don't match`);let t=this.bits;for(let n=0,r=t.length;n<r;n++)t[n]^=e.bits[n]}toBytes(e,t,n,r){for(let i=0;i<r;i++){let r=0;for(let t=0;t<8;t++)this.get(e)&&(r|=1<<7-t),e++;t[n+i]=r}}getBitArray(){return this.bits}reverse(){let e=new Int32Array(this.bits.length),t=Math.floor((this.size-1)/32),n=t+1,r=this.bits;for(let i=0;i<n;i++){let n=r[i];n=n>>1&1431655765|(n&1431655765)<<1,n=n>>2&858993459|(n&858993459)<<2,n=n>>4&252645135|(n&252645135)<<4,n=n>>8&16711935|(n&16711935)<<8,n=n>>16&65535|(n&65535)<<16,e[t-i]=n}if(this.size!==n*32){let t=n*32-this.size,r=e[0]>>>t;for(let i=1;i<n;i++){let n=e[i];r|=n<<32-t,e[i-1]=r,r=n>>>t}e[n-1]=r}this.bits=e}static makeArray(e){return new Int32Array(Math.floor((e+31)/32))}equals(e){if(!(e instanceof v))return!1;let t=e;return this.size===t.size&&g.equals(this.bits,t.bits)}hashCode(){return 31*this.size+g.hashCode(this.bits)}toString(){let e=``;for(let t=0,n=this.size;t<n;t++)t&7||(e+=` `),e+=this.get(t)?`X`:`.`;return e}clone(){return new v(this.size,this.bits.slice())}}var y;(function(e){e[e.OTHER=0]=`OTHER`,e[e.PURE_BARCODE=1]=`PURE_BARCODE`,e[e.POSSIBLE_FORMATS=2]=`POSSIBLE_FORMATS`,e[e.TRY_HARDER=3]=`TRY_HARDER`,e[e.CHARACTER_SET=4]=`CHARACTER_SET`,e[e.ALLOWED_LENGTHS=5]=`ALLOWED_LENGTHS`,e[e.ASSUME_CODE_39_CHECK_DIGIT=6]=`ASSUME_CODE_39_CHECK_DIGIT`,e[e.ASSUME_GS1=7]=`ASSUME_GS1`,e[e.RETURN_CODABAR_START_END=8]=`RETURN_CODABAR_START_END`,e[e.NEED_RESULT_POINT_CALLBACK=9]=`NEED_RESULT_POINT_CALLBACK`,e[e.ALLOWED_EAN_EXTENSIONS=10]=`ALLOWED_EAN_EXTENSIONS`})(y||={});var b=y;class x extends s{static getFormatInstance(){return new x}}x.kind=`FormatException`;var S;(function(e){e[e.Cp437=0]=`Cp437`,e[e.ISO8859_1=1]=`ISO8859_1`,e[e.ISO8859_2=2]=`ISO8859_2`,e[e.ISO8859_3=3]=`ISO8859_3`,e[e.ISO8859_4=4]=`ISO8859_4`,e[e.ISO8859_5=5]=`ISO8859_5`,e[e.ISO8859_6=6]=`ISO8859_6`,e[e.ISO8859_7=7]=`ISO8859_7`,e[e.ISO8859_8=8]=`ISO8859_8`,e[e.ISO8859_9=9]=`ISO8859_9`,e[e.ISO8859_10=10]=`ISO8859_10`,e[e.ISO8859_11=11]=`ISO8859_11`,e[e.ISO8859_13=12]=`ISO8859_13`,e[e.ISO8859_14=13]=`ISO8859_14`,e[e.ISO8859_15=14]=`ISO8859_15`,e[e.ISO8859_16=15]=`ISO8859_16`,e[e.SJIS=16]=`SJIS`,e[e.Cp1250=17]=`Cp1250`,e[e.Cp1251=18]=`Cp1251`,e[e.Cp1252=19]=`Cp1252`,e[e.Cp1256=20]=`Cp1256`,e[e.UnicodeBigUnmarked=21]=`UnicodeBigUnmarked`,e[e.UTF8=22]=`UTF8`,e[e.ASCII=23]=`ASCII`,e[e.Big5=24]=`Big5`,e[e.GB18030=25]=`GB18030`,e[e.EUC_KR=26]=`EUC_KR`})(S||={});class C{constructor(e,t,n,...r){this.valueIdentifier=e,this.name=n,typeof t==`number`?this.values=Int32Array.from([t]):this.values=t,this.otherEncodingNames=r,C.VALUE_IDENTIFIER_TO_ECI.set(e,this),C.NAME_TO_ECI.set(n,this);let i=this.values;for(let e=0,t=i.length;e!==t;e++){let t=i[e];C.VALUES_TO_ECI.set(t,this)}for(let e of r)C.NAME_TO_ECI.set(e,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(e){if(e<0||e>=900)throw new x(`incorect value`);let t=C.VALUES_TO_ECI.get(e);if(t===void 0)throw new x(`incorect value`);return t}static getCharacterSetECIByName(e){let t=C.NAME_TO_ECI.get(e);if(t===void 0)throw new x(`incorect value`);return t}equals(e){if(!(e instanceof C))return!1;let t=e;return this.getName()===t.getName()}}C.VALUE_IDENTIFIER_TO_ECI=new Map,C.VALUES_TO_ECI=new Map,C.NAME_TO_ECI=new Map,C.Cp437=new C(S.Cp437,Int32Array.from([0,2]),`Cp437`),C.ISO8859_1=new C(S.ISO8859_1,Int32Array.from([1,3]),`ISO-8859-1`,`ISO88591`,`ISO8859_1`),C.ISO8859_2=new C(S.ISO8859_2,4,`ISO-8859-2`,`ISO88592`,`ISO8859_2`),C.ISO8859_3=new C(S.ISO8859_3,5,`ISO-8859-3`,`ISO88593`,`ISO8859_3`),C.ISO8859_4=new C(S.ISO8859_4,6,`ISO-8859-4`,`ISO88594`,`ISO8859_4`),C.ISO8859_5=new C(S.ISO8859_5,7,`ISO-8859-5`,`ISO88595`,`ISO8859_5`),C.ISO8859_6=new C(S.ISO8859_6,8,`ISO-8859-6`,`ISO88596`,`ISO8859_6`),C.ISO8859_7=new C(S.ISO8859_7,9,`ISO-8859-7`,`ISO88597`,`ISO8859_7`),C.ISO8859_8=new C(S.ISO8859_8,10,`ISO-8859-8`,`ISO88598`,`ISO8859_8`),C.ISO8859_9=new C(S.ISO8859_9,11,`ISO-8859-9`,`ISO88599`,`ISO8859_9`),C.ISO8859_10=new C(S.ISO8859_10,12,`ISO-8859-10`,`ISO885910`,`ISO8859_10`),C.ISO8859_11=new C(S.ISO8859_11,13,`ISO-8859-11`,`ISO885911`,`ISO8859_11`),C.ISO8859_13=new C(S.ISO8859_13,15,`ISO-8859-13`,`ISO885913`,`ISO8859_13`),C.ISO8859_14=new C(S.ISO8859_14,16,`ISO-8859-14`,`ISO885914`,`ISO8859_14`),C.ISO8859_15=new C(S.ISO8859_15,17,`ISO-8859-15`,`ISO885915`,`ISO8859_15`),C.ISO8859_16=new C(S.ISO8859_16,18,`ISO-8859-16`,`ISO885916`,`ISO8859_16`),C.SJIS=new C(S.SJIS,20,`SJIS`,`Shift_JIS`),C.Cp1250=new C(S.Cp1250,21,`Cp1250`,`windows-1250`),C.Cp1251=new C(S.Cp1251,22,`Cp1251`,`windows-1251`),C.Cp1252=new C(S.Cp1252,23,`Cp1252`,`windows-1252`),C.Cp1256=new C(S.Cp1256,24,`Cp1256`,`windows-1256`),C.UnicodeBigUnmarked=new C(S.UnicodeBigUnmarked,25,`UnicodeBigUnmarked`,`UTF-16BE`,`UnicodeBig`),C.UTF8=new C(S.UTF8,26,`UTF8`,`UTF-8`),C.ASCII=new C(S.ASCII,Int32Array.from([27,170]),`ASCII`,`US-ASCII`),C.Big5=new C(S.Big5,28,`Big5`),C.GB18030=new C(S.GB18030,29,`GB18030`,`GB2312`,`EUC_CN`,`GBK`),C.EUC_KR=new C(S.EUC_KR,30,`EUC_KR`,`EUC-KR`);class w extends s{}w.kind=`UnsupportedOperationException`;class T{static decode(e,t){let n=this.encodingName(t);return this.customDecoder?this.customDecoder(e,n):typeof TextDecoder>`u`||this.shouldDecodeOnFallback(n)?this.decodeFallback(e,n):new TextDecoder(n).decode(e)}static shouldDecodeOnFallback(e){return!T.isBrowser()&&e===`ISO-8859-1`}static encode(e,t){let n=this.encodingName(t);return this.customEncoder?this.customEncoder(e,n):typeof TextEncoder>`u`?this.encodeFallback(e):new TextEncoder().encode(e)}static isBrowser(){return typeof window<`u`&&{}.toString.call(window)===`[object Window]`}static encodingName(e){return typeof e==`string`?e:e.getName()}static encodingCharacterSet(e){return e instanceof C?e:C.getCharacterSetECIByName(e)}static decodeFallback(e,t){let n=this.encodingCharacterSet(t);if(T.isDecodeFallbackSupported(n)){let t=``;for(let n=0,r=e.length;n<r;n++){let r=e[n].toString(16);r.length<2&&(r=`0`+r),t+=`%`+r}return decodeURIComponent(t)}if(n.equals(C.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new w(`Encoding ${this.encodingName(t)} not supported by fallback.`)}static isDecodeFallbackSupported(e){return e.equals(C.UTF8)||e.equals(C.ISO8859_1)||e.equals(C.ASCII)}static encodeFallback(e){let t=btoa(unescape(encodeURIComponent(e))).split(``),n=[];for(let e=0;e<t.length;e++)n.push(t[e].charCodeAt(0));return new Uint8Array(n)}}class E{static castAsNonUtf8Char(e,t=null){let n=t?t.getName():this.ISO88591;return T.decode(new Uint8Array([e]),n)}static guessEncoding(e,t){if(t!=null&&t.get(b.CHARACTER_SET)!==void 0)return t.get(b.CHARACTER_SET).toString();let n=e.length,r=!0,i=!0,a=!0,o=0,s=0,c=0,l=0,u=0,d=0,f=0,p=0,m=0,h=0,g=0,_=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191;for(let t=0;t<n&&(r||i||a);t++){let n=e[t]&255;a&&(o>0?n&128?o--:a=!1:n&128&&(n&64?(o++,n&32?(o++,n&16?(o++,n&8?a=!1:l++):c++):s++):a=!1)),r&&(n>127&&n<160?r=!1:n>159&&(n<192||n===215||n===247)&&g++),i&&(u>0?n<64||n===127||n>252?i=!1:u--:n===128||n===160||n>239?i=!1:n>160&&n<224?(d++,p=0,f++,f>m&&(m=f)):n>127?(u++,f=0,p++,p>h&&(h=p)):(f=0,p=0))}return a&&o>0&&(a=!1),i&&u>0&&(i=!1),a&&(_||s+c+l>0)?E.UTF8:i&&(E.ASSUME_SHIFT_JIS||m>=3||h>=3)?E.SHIFT_JIS:r&&i?m===2&&d===2||g*10>=n?E.SHIFT_JIS:E.ISO88591:r?E.ISO88591:i?E.SHIFT_JIS:a?E.UTF8:E.PLATFORM_DEFAULT_ENCODING}static format(e,...t){let n=-1;function r(e,r,i,a,o,s){if(e===`%%`)return`%`;if(t[++n]===void 0)return;e=a?parseInt(a.substr(1)):void 0;let c=o?parseInt(o.substr(1)):void 0,l;switch(s){case`s`:l=t[n];break;case`c`:l=t[n][0];break;case`f`:l=parseFloat(t[n]).toFixed(e);break;case`p`:l=parseFloat(t[n]).toPrecision(e);break;case`e`:l=parseFloat(t[n]).toExponential(e);break;case`x`:l=parseInt(t[n]).toString(c||16);break;case`d`:l=parseFloat(parseInt(t[n],c||10).toPrecision(e)).toFixed(0);break}l=typeof l==`object`?JSON.stringify(l):(+l).toString(c);let u=parseInt(i),d=i&&i[0]+``==`0`?`0`:` `;for(;l.length<u;)l=r===void 0?d+l:l+d;return l}return e.replace(/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g,r)}static getBytes(e,t){return T.encode(e,t)}static getCharCode(e,t=0){return e.charCodeAt(t)}static getCharAt(e){return String.fromCharCode(e)}}E.SHIFT_JIS=C.SJIS.getName(),E.GB2312=`GB2312`,E.ISO88591=C.ISO8859_1.getName(),E.EUC_JP=`EUC_JP`,E.UTF8=C.UTF8.getName(),E.PLATFORM_DEFAULT_ENCODING=E.UTF8,E.ASSUME_SHIFT_JIS=!1;class D{constructor(e=``){this.value=e}enableDecoding(e){return this.encoding=e,this}append(e){return typeof e==`string`?this.value+=e.toString():this.encoding?this.value+=E.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this}appendChars(e,t,n){for(let r=t;t<t+n;r++)this.append(e[r]);return this}length(){return this.value.length}charAt(e){return this.value.charAt(e)}deleteCharAt(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)}setCharAt(e,t){this.value=this.value.substr(0,e)+t+this.value.substr(e+1)}substring(e,t){return this.value.substring(e,t)}setLengthToZero(){this.value=``}toString(){return this.value}insert(e,t){this.value=this.value.substr(0,e)+t+this.value.substr(e+t.length)}}class O{constructor(e,t,n,r){if(this.width=e,this.height=t,this.rowSize=n,this.bits=r,t??=e,this.height=t,e<1||t<1)throw new l(`Both dimensions must be greater than 0`);n??=Math.floor((e+31)/32),this.rowSize=n,r??(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(e){let t=e.length,n=e[0].length,r=new O(n,t);for(let i=0;i<t;i++){let t=e[i];for(let e=0;e<n;e++)t[e]&&r.set(e,i)}return r}static parseFromString(e,t,n){if(e===null)throw new l(`stringRepresentation cannot be null`);let r=Array(e.length),i=0,a=0,o=-1,s=0,c=0;for(;c<e.length;)if(e.charAt(c)===`
`||e.charAt(c)===`\r`){if(i>a){if(o===-1)o=i-a;else if(i-a!==o)throw new l(`row lengths do not match`);a=i,s++}c++}else if(e.substring(c,c+t.length)===t)c+=t.length,r[i]=!0,i++;else if(e.substring(c,c+n.length)===n)c+=n.length,r[i]=!1,i++;else throw new l(`illegal character encountered: `+e.substring(c));if(i>a){if(o===-1)o=i-a;else if(i-a!==o)throw new l(`row lengths do not match`);s++}let u=new O(o,s);for(let e=0;e<i;e++)r[e]&&u.set(Math.floor(e%o),Math.floor(e/o));return u}get(e,t){let n=t*this.rowSize+Math.floor(e/32);return(this.bits[n]>>>(e&31)&1)!=0}set(e,t){let n=t*this.rowSize+Math.floor(e/32);this.bits[n]|=1<<(e&31)&4294967295}unset(e,t){let n=t*this.rowSize+Math.floor(e/32);this.bits[n]&=~(1<<(e&31)&4294967295)}flip(e,t){let n=t*this.rowSize+Math.floor(e/32);this.bits[n]^=1<<(e&31)&4294967295}xor(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new l(`input matrix dimensions do not match`);let t=new v(Math.floor(this.width/32)+1),n=this.rowSize,r=this.bits;for(let i=0,a=this.height;i<a;i++){let a=i*n,o=e.getRow(i,t).getBitArray();for(let e=0;e<n;e++)r[a+e]^=o[e]}}clear(){let e=this.bits,t=e.length;for(let n=0;n<t;n++)e[n]=0}setRegion(e,t,n,r){if(t<0||e<0)throw new l(`Left and top must be nonnegative`);if(r<1||n<1)throw new l(`Height and width must be at least 1`);let i=e+n,a=t+r;if(a>this.height||i>this.width)throw new l(`The region must fit inside the matrix`);let o=this.rowSize,s=this.bits;for(let n=t;n<a;n++){let t=n*o;for(let n=e;n<i;n++)s[t+Math.floor(n/32)]|=1<<(n&31)&4294967295}}getRow(e,t){t==null||t.getSize()<this.width?t=new v(this.width):t.clear();let n=this.rowSize,r=this.bits,i=e*n;for(let e=0;e<n;e++)t.setBulk(e*32,r[i+e]);return t}setRow(e,t){p.arraycopy(t.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)}rotate180(){let e=this.getWidth(),t=this.getHeight(),n=new v(e),r=new v(e);for(let e=0,i=Math.floor((t+1)/2);e<i;e++)n=this.getRow(e,n),r=this.getRow(t-1-e,r),n.reverse(),r.reverse(),this.setRow(e,r),this.setRow(t-1-e,n)}getEnclosingRectangle(){let e=this.width,t=this.height,n=this.rowSize,r=this.bits,i=e,a=t,o=-1,s=-1;for(let e=0;e<t;e++)for(let t=0;t<n;t++){let c=r[e*n+t];if(c!==0){if(e<a&&(a=e),e>s&&(s=e),t*32<i){let e=0;for(;!(c<<31-e&4294967295);)e++;t*32+e<i&&(i=t*32+e)}if(t*32+31>o){let e=31;for(;!(c>>>e);)e--;t*32+e>o&&(o=t*32+e)}}}return o<i||s<a?null:Int32Array.from([i,a,o-i+1,s-a+1])}getTopLeftOnBit(){let e=this.rowSize,t=this.bits,n=0;for(;n<t.length&&t[n]===0;)n++;if(n===t.length)return null;let r=n/e,i=n%e*32,a=t[n],o=0;for(;!(a<<31-o&4294967295);)o++;return i+=o,Int32Array.from([i,r])}getBottomRightOnBit(){let e=this.rowSize,t=this.bits,n=t.length-1;for(;n>=0&&t[n]===0;)n--;if(n<0)return null;let r=Math.floor(n/e),i=Math.floor(n%e)*32,a=t[n],o=31;for(;!(a>>>o);)o--;return i+=o,Int32Array.from([i,r])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(e){if(!(e instanceof O))return!1;let t=e;return this.width===t.width&&this.height===t.height&&this.rowSize===t.rowSize&&g.equals(this.bits,t.bits)}hashCode(){let e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+g.hashCode(this.bits),e}toString(e=`X `,t=`  `,n=`
`){return this.buildToString(e,t,n)}buildToString(e,t,n){let r=new D;for(let i=0,a=this.height;i<a;i++){for(let n=0,a=this.width;n<a;n++)r.append(this.get(n,i)?e:t);r.append(n)}return r.toString()}clone(){return new O(this.width,this.height,this.rowSize,this.bits.slice())}}class k extends s{static getNotFoundInstance(){return new k}}k.kind=`NotFoundException`;class ee extends f{constructor(e){super(e),this.luminances=ee.EMPTY,this.buckets=new Int32Array(ee.LUMINANCE_BUCKETS)}getBlackRow(e,t){let n=this.getLuminanceSource(),r=n.getWidth();t==null||t.getSize()<r?t=new v(r):t.clear(),this.initArrays(r);let i=n.getRow(e,this.luminances),a=this.buckets;for(let e=0;e<r;e++)a[(i[e]&255)>>ee.LUMINANCE_SHIFT]++;let o=ee.estimateBlackPoint(a);if(r<3)for(let e=0;e<r;e++)(i[e]&255)<o&&t.set(e);else{let e=i[0]&255,n=i[1]&255;for(let a=1;a<r-1;a++){let r=i[a+1]&255;(n*4-e-r)/2<o&&t.set(a),e=n,n=r}}return t}getBlackMatrix(){let e=this.getLuminanceSource(),t=e.getWidth(),n=e.getHeight(),r=new O(t,n);this.initArrays(t);let i=this.buckets;for(let r=1;r<5;r++){let a=Math.floor(n*r/5),o=e.getRow(a,this.luminances),s=Math.floor(t*4/5);for(let e=Math.floor(t/5);e<s;e++){let t=o[e]&255;i[t>>ee.LUMINANCE_SHIFT]++}}let a=ee.estimateBlackPoint(i),o=e.getMatrix();for(let e=0;e<n;e++){let n=e*t;for(let i=0;i<t;i++)(o[n+i]&255)<a&&r.set(i,e)}return r}createBinarizer(e){return new ee(e)}initArrays(e){this.luminances.length<e&&(this.luminances=new Uint8ClampedArray(e));let t=this.buckets;for(let e=0;e<ee.LUMINANCE_BUCKETS;e++)t[e]=0}static estimateBlackPoint(e){let t=e.length,n=0,r=0,i=0;for(let a=0;a<t;a++)e[a]>i&&(r=a,i=e[a]),e[a]>n&&(n=e[a]);let a=0,o=0;for(let n=0;n<t;n++){let t=n-r,i=e[n]*t*t;i>o&&(a=n,o=i)}if(r>a){let e=r;r=a,a=e}if(a-r<=t/16)throw new k;let s=a-1,c=-1;for(let t=a-1;t>r;t--){let i=t-r,o=i*i*(a-t)*(n-e[t]);o>c&&(s=t,c=o)}return s<<ee.LUMINANCE_SHIFT}}ee.LUMINANCE_BITS=5,ee.LUMINANCE_SHIFT=8-ee.LUMINANCE_BITS,ee.LUMINANCE_BUCKETS=1<<ee.LUMINANCE_BITS,ee.EMPTY=Uint8ClampedArray.from([0]);class A extends ee{constructor(e){super(e),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;let e=this.getLuminanceSource(),t=e.getWidth(),n=e.getHeight();if(t>=A.MINIMUM_DIMENSION&&n>=A.MINIMUM_DIMENSION){let r=e.getMatrix(),i=t>>A.BLOCK_SIZE_POWER;(t&A.BLOCK_SIZE_MASK)!==0&&i++;let a=n>>A.BLOCK_SIZE_POWER;(n&A.BLOCK_SIZE_MASK)!==0&&a++;let o=A.calculateBlackPoints(r,i,a,t,n),s=new O(t,n);A.calculateThresholdForBlock(r,i,a,t,n,o,s),this.matrix=s}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(e){return new A(e)}static calculateThresholdForBlock(e,t,n,r,i,a,o){let s=i-A.BLOCK_SIZE,c=r-A.BLOCK_SIZE;for(let i=0;i<n;i++){let l=i<<A.BLOCK_SIZE_POWER;l>s&&(l=s);let u=A.cap(i,2,n-3);for(let n=0;n<t;n++){let i=n<<A.BLOCK_SIZE_POWER;i>c&&(i=c);let s=A.cap(n,2,t-3),d=0;for(let e=-2;e<=2;e++){let t=a[u+e];d+=t[s-2]+t[s-1]+t[s]+t[s+1]+t[s+2]}let f=d/25;A.thresholdBlock(e,i,l,f,r,o)}}}static cap(e,t,n){return e<t?t:e>n?n:e}static thresholdBlock(e,t,n,r,i,a){for(let o=0,s=n*i+t;o<A.BLOCK_SIZE;o++,s+=i)for(let i=0;i<A.BLOCK_SIZE;i++)(e[s+i]&255)<=r&&a.set(t+i,n+o)}static calculateBlackPoints(e,t,n,r,i){let a=i-A.BLOCK_SIZE,o=r-A.BLOCK_SIZE,s=Array(n);for(let i=0;i<n;i++){s[i]=new Int32Array(t);let n=i<<A.BLOCK_SIZE_POWER;n>a&&(n=a);for(let a=0;a<t;a++){let t=a<<A.BLOCK_SIZE_POWER;t>o&&(t=o);let c=0,l=255,u=0;for(let i=0,a=n*r+t;i<A.BLOCK_SIZE;i++,a+=r){for(let t=0;t<A.BLOCK_SIZE;t++){let n=e[a+t]&255;c+=n,n<l&&(l=n),n>u&&(u=n)}if(u-l>A.MIN_DYNAMIC_RANGE)for(i++,a+=r;i<A.BLOCK_SIZE;i++,a+=r)for(let t=0;t<A.BLOCK_SIZE;t++)c+=e[a+t]&255}let d=c>>A.BLOCK_SIZE_POWER*2;if(u-l<=A.MIN_DYNAMIC_RANGE&&(d=l/2,i>0&&a>0)){let e=(s[i-1][a]+2*s[i][a-1]+s[i-1][a-1])/4;l<e&&(d=e)}s[i][a]=d}}return s}}A.BLOCK_SIZE_POWER=3,A.BLOCK_SIZE=1<<A.BLOCK_SIZE_POWER,A.BLOCK_SIZE_MASK=A.BLOCK_SIZE-1,A.MINIMUM_DIMENSION=A.BLOCK_SIZE*5,A.MIN_DYNAMIC_RANGE=24;class te{constructor(e,t){this.width=e,this.height=t}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(e,t,n,r){throw new w(`This luminance source does not support cropping.`)}isRotateSupported(){return!1}rotateCounterClockwise(){throw new w(`This luminance source does not support rotation by 90 degrees.`)}rotateCounterClockwise45(){throw new w(`This luminance source does not support rotation by 45 degrees.`)}toString(){let e=new Uint8ClampedArray(this.width),t=new D;for(let n=0;n<this.height;n++){let r=this.getRow(n,e);for(let e=0;e<this.width;e++){let n=r[e]&255,i;i=n<64?`#`:n<128?`+`:n<192?`.`:` `,t.append(i)}t.append(`
`)}return t.toString()}}class ne extends te{constructor(e){super(e.getWidth(),e.getHeight()),this.delegate=e}getRow(e,t){let n=this.delegate.getRow(e,t),r=this.getWidth();for(let e=0;e<r;e++)n[e]=255-(n[e]&255);return n}getMatrix(){let e=this.delegate.getMatrix(),t=this.getWidth()*this.getHeight(),n=new Uint8ClampedArray(t);for(let r=0;r<t;r++)n[r]=255-(e[r]&255);return n}isCropSupported(){return this.delegate.isCropSupported()}crop(e,t,n,r){return new ne(this.delegate.crop(e,t,n,r))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new ne(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new ne(this.delegate.rotateCounterClockwise45())}}class re extends te{constructor(e){super(e.width,e.height),this.canvas=e,this.tempCanvasElement=null,this.buffer=re.makeBufferFromCanvasImageData(e)}static makeBufferFromCanvasImageData(e){let t=e.getContext(`2d`).getImageData(0,0,e.width,e.height);return re.toGrayscaleBuffer(t.data,e.width,e.height)}static toGrayscaleBuffer(e,t,n){let r=new Uint8ClampedArray(t*n);for(let t=0,n=0,i=e.length;t<i;t+=4,n++){let i;if(e[t+3]===0)i=255;else{let n=e[t],r=e[t+1],a=e[t+2];i=306*n+601*r+117*a+512>>10}r[n]=i}return r}getRow(e,t){if(e<0||e>=this.getHeight())throw new l(`Requested row is outside the image: `+e);let n=this.getWidth(),r=e*n;return t===null?t=this.buffer.slice(r,r+n):(t.length<n&&(t=new Uint8ClampedArray(n)),t.set(this.buffer.slice(r,r+n))),t}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(e,t,n,r){return super.crop(e,t,n,r),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){let e=this.canvas.ownerDocument.createElement(`canvas`);e.width=this.canvas.width,e.height=this.canvas.height,this.tempCanvasElement=e}return this.tempCanvasElement}rotate(e){let t=this.getTempCanvasElement(),n=t.getContext(`2d`),r=e*re.DEGREE_TO_RADIANS,i=this.canvas.width,a=this.canvas.height,o=Math.ceil(Math.abs(Math.cos(r))*i+Math.abs(Math.sin(r))*a),s=Math.ceil(Math.abs(Math.sin(r))*i+Math.abs(Math.cos(r))*a);return t.width=o,t.height=s,n.translate(o/2,s/2),n.rotate(r),n.drawImage(this.canvas,i/-2,a/-2),this.buffer=re.makeBufferFromCanvasImageData(t),this}invert(){return new ne(this)}}re.DEGREE_TO_RADIANS=Math.PI/180;class ie{constructor(e,t,n){this.deviceId=e,this.label=t,this.kind=`videoinput`,this.groupId=n||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var j=(globalThis||global||self||window||void 0)&&(globalThis||global||self||window||void 0).__awaiter||function(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||=Promise)(function(n,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){e.done?n(e.value):i(e.value).then(o,s)}c((r=r.apply(e,t||[])).next())})};class M{constructor(e,t=500,n){this.reader=e,this.timeBetweenScansMillis=t,this._hints=n,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<`u`}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(e){this._timeBetweenDecodingAttempts=e<0?0:e}set hints(e){this._hints=e||null}get hints(){return this._hints}listVideoInputDevices(){return j(this,void 0,void 0,function*(){if(!this.hasNavigator)throw Error(`Can't enumerate devices, navigator is not present.`);if(!this.canEnumerateDevices)throw Error(`Can't enumerate devices, method not supported.`);let e=yield navigator.mediaDevices.enumerateDevices(),t=[];for(let n of e){let e=n.kind===`video`?`videoinput`:n.kind;if(e!==`videoinput`)continue;let r={deviceId:n.deviceId||n.id,label:n.label||`Video device ${t.length+1}`,kind:e,groupId:n.groupId};t.push(r)}return t})}getVideoInputDevices(){return j(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(e=>new ie(e.deviceId,e.label))})}findDeviceById(e){return j(this,void 0,void 0,function*(){let t=yield this.listVideoInputDevices();return t?t.find(t=>t.deviceId===e):null})}decodeFromInputVideoDevice(e,t){return j(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(e,t)})}decodeOnceFromVideoDevice(e,t){return j(this,void 0,void 0,function*(){this.reset();let n;n=e?{deviceId:{exact:e}}:{facingMode:`environment`};let r={video:n};return yield this.decodeOnceFromConstraints(r,t)})}decodeOnceFromConstraints(e,t){return j(this,void 0,void 0,function*(){let n=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeOnceFromStream(n,t)})}decodeOnceFromStream(e,t){return j(this,void 0,void 0,function*(){this.reset();let n=yield this.attachStreamToVideo(e,t);return yield this.decodeOnce(n)})}decodeFromInputVideoDeviceContinuously(e,t,n){return j(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(e,t,n)})}decodeFromVideoDevice(e,t,n){return j(this,void 0,void 0,function*(){let r;r=e?{deviceId:{exact:e}}:{facingMode:`environment`};let i={video:r};return yield this.decodeFromConstraints(i,t,n)})}decodeFromConstraints(e,t,n){return j(this,void 0,void 0,function*(){let r=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeFromStream(r,t,n)})}decodeFromStream(e,t,n){return j(this,void 0,void 0,function*(){this.reset();let r=yield this.attachStreamToVideo(e,t);return yield this.decodeContinuously(r,n)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(e,t){return j(this,void 0,void 0,function*(){let n=this.prepareVideoElement(t);return this.addVideoSource(n,e),this.videoElement=n,this.stream=e,yield this.playVideoOnLoadAsync(n),n})}playVideoOnLoadAsync(e){return new Promise((t,n)=>this.playVideoOnLoad(e,()=>t()))}playVideoOnLoad(e,t){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(e),e.addEventListener(`ended`,this.videoEndedListener),e.addEventListener(`canplay`,this.videoCanPlayListener),e.addEventListener(`playing`,t),this.tryPlayVideo(e)}isVideoPlaying(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2}tryPlayVideo(e){return j(this,void 0,void 0,function*(){if(this.isVideoPlaying(e)){console.warn(`Trying to play video that is already playing.`);return}try{yield e.play()}catch{console.warn(`It was not possible to play the video.`)}})}getMediaElement(e,t){let n=document.getElementById(e);if(!n)throw new c(`element with id '${e}' not found`);if(n.nodeName.toLowerCase()!==t.toLowerCase())throw new c(`element with id '${e}' must be an ${t} element`);return n}decodeFromImage(e,t){if(!e&&!t)throw new c(`either imageElement with a src set or an url must be provided`);return t&&!e?this.decodeFromImageUrl(t):this.decodeFromImageElement(e)}decodeFromVideo(e,t){if(!e&&!t)throw new c(`Either an element with a src set or an URL must be provided`);return t&&!e?this.decodeFromVideoUrl(t):this.decodeFromVideoElement(e)}decodeFromVideoContinuously(e,t,n){if(e===void 0&&t===void 0)throw new c(`Either an element with a src set or an URL must be provided`);return t&&!e?this.decodeFromVideoUrlContinuously(t,n):this.decodeFromVideoElementContinuously(e,n)}decodeFromImageElement(e){if(!e)throw new c(`An image element must be provided.`);this.reset();let t=this.prepareImageElement(e);this.imageElement=t;let n;return n=this.isImageLoaded(t)?this.decodeOnce(t,!1,!0):this._decodeOnLoadImage(t),n}decodeFromVideoElement(e){let t=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(t)}decodeFromVideoElementContinuously(e,t){let n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(n,t)}_decodeFromVideoElementSetup(e){if(!e)throw new c(`A video element must be provided.`);this.reset();let t=this.prepareVideoElement(e);return this.videoElement=t,t}decodeFromImageUrl(e){if(!e)throw new c(`An URL must be provided.`);this.reset();let t=this.prepareImageElement();this.imageElement=t;let n=this._decodeOnLoadImage(t);return t.src=e,n}decodeFromVideoUrl(e){if(!e)throw new c(`An URL must be provided.`);this.reset();let t=this.prepareVideoElement(),n=this.decodeFromVideoElement(t);return t.src=e,n}decodeFromVideoUrlContinuously(e,t){if(!e)throw new c(`An URL must be provided.`);this.reset();let n=this.prepareVideoElement(),r=this.decodeFromVideoElementContinuously(n,t);return n.src=e,r}_decodeOnLoadImage(e){return new Promise((t,n)=>{this.imageLoadedListener=()=>this.decodeOnce(e,!1,!0).then(t,n),e.addEventListener(`load`,this.imageLoadedListener)})}_decodeOnLoadVideo(e){return j(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(e),yield this.decodeOnce(e)})}_decodeOnLoadVideoContinuously(e,t){return j(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(e),this.decodeContinuously(e,t)})}isImageLoaded(e){return!(!e.complete||e.naturalWidth===0)}prepareImageElement(e){let t;return e===void 0&&(t=document.createElement(`img`),t.width=200,t.height=200),typeof e==`string`&&(t=this.getMediaElement(e,`img`)),e instanceof HTMLImageElement&&(t=e),t}prepareVideoElement(e){let t;return!e&&typeof document<`u`&&(t=document.createElement(`video`),t.width=200,t.height=200),typeof e==`string`&&(t=this.getMediaElement(e,`video`)),e instanceof HTMLVideoElement&&(t=e),t.setAttribute(`autoplay`,`true`),t.setAttribute(`muted`,`true`),t.setAttribute(`playsinline`,`true`),t}decodeOnce(e,t=!0,n=!0){this._stopAsyncDecode=!1;let r=(i,a)=>{if(this._stopAsyncDecode){a(new k(`Video stream has ended before any code could be detected.`)),this._stopAsyncDecode=void 0;return}try{i(this.decode(e))}catch(e){let o=t&&e instanceof k,s=(e instanceof d||e instanceof x)&&n;if(o||s)return setTimeout(r,this._timeBetweenDecodingAttempts,i,a);a(e)}};return new Promise((e,t)=>r(e,t))}decodeContinuously(e,t){this._stopContinuousDecode=!1;let n=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{t(this.decode(e),null),setTimeout(n,this.timeBetweenScansMillis)}catch(e){t(null,e);let r=e instanceof d||e instanceof x,i=e instanceof k;(r||i)&&setTimeout(n,this._timeBetweenDecodingAttempts)}};n()}decode(e){let t=this.createBinaryBitmap(e);return this.decodeBitmap(t)}_isHTMLVideoElement(e){return e.videoWidth!==0}drawFrameOnCanvas(e,t,n){t||={sx:0,sy:0,sWidth:e.videoWidth,sHeight:e.videoHeight,dx:0,dy:0,dWidth:e.videoWidth,dHeight:e.videoHeight},n||=this.captureCanvasContext,n.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)}drawImageOnCanvas(e,t,n=this.captureCanvasContext){t||={sx:0,sy:0,sWidth:e.naturalWidth,sHeight:e.naturalHeight,dx:0,dy:0,dWidth:e.naturalWidth,dHeight:e.naturalHeight},n||=this.captureCanvasContext,n.drawImage(e,t.sx,t.sy,t.sWidth,t.sHeight,t.dx,t.dy,t.dWidth,t.dHeight)}createBinaryBitmap(e){return this.getCaptureCanvasContext(e),this._isHTMLVideoElement(e)?this.drawFrameOnCanvas(e):this.drawImageOnCanvas(e),new u(new A(new re(this.getCaptureCanvas(e))))}getCaptureCanvasContext(e){return this.captureCanvasContext||=this.getCaptureCanvas(e).getContext(`2d`),this.captureCanvasContext}getCaptureCanvas(e){return this.captureCanvas||=this.createCaptureCanvas(e),this.captureCanvas}decodeBitmap(e){return this.reader.decode(e,this._hints)}createCaptureCanvas(e){if(typeof document>`u`)return this._destroyCaptureCanvas(),null;let t=document.createElement(`canvas`),n,r;return e!==void 0&&(e instanceof HTMLVideoElement?(n=e.videoWidth,r=e.videoHeight):e instanceof HTMLImageElement&&(n=e.naturalWidth||e.width,r=e.naturalHeight||e.height)),t.style.width=n+`px`,t.style.height=r+`px`,t.width=n,t.height=r,t}stopStreams(){this.stream&&=(this.stream.getVideoTracks().forEach(e=>e.stop()),void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&=(this.videoEndedListener!==void 0&&this.videoElement.removeEventListener(`ended`,this.videoEndedListener),this.videoPlayingEventListener!==void 0&&this.videoElement.removeEventListener(`playing`,this.videoPlayingEventListener),this.videoCanPlayListener!==void 0&&this.videoElement.removeEventListener(`loadedmetadata`,this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),void 0)}_destroyImageElement(){this.imageElement&&=(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener(`load`,this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute(`src`),void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(e,t){try{e.srcObject=t}catch{e.src=URL.createObjectURL(t)}}cleanVideoSource(e){try{e.srcObject=null}catch{e.src=``}this.videoElement.removeAttribute(`src`)}}class ae{constructor(e,t,n=t==null?0:8*t.length,r,i,a=p.currentTimeMillis()){this.text=e,this.rawBytes=t,this.numBits=n,this.resultPoints=r,this.format=i,this.timestamp=a,this.text=e,this.rawBytes=t,n==null?this.numBits=t==null?0:8*t.length:this.numBits=n,this.resultPoints=r,this.format=i,this.resultMetadata=null,a==null?this.timestamp=p.currentTimeMillis():this.timestamp=a}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(e,t){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,t)}putAllMetadata(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))}addResultPoints(e){let t=this.resultPoints;if(t===null)this.resultPoints=e;else if(e!==null&&e.length>0){let n=Array(t.length+e.length);p.arraycopy(t,0,n,0,t.length),p.arraycopy(e,0,n,t.length,e.length),this.resultPoints=n}}getTimestamp(){return this.timestamp}toString(){return this.text}}var oe;(function(e){e[e.AZTEC=0]=`AZTEC`,e[e.CODABAR=1]=`CODABAR`,e[e.CODE_39=2]=`CODE_39`,e[e.CODE_93=3]=`CODE_93`,e[e.CODE_128=4]=`CODE_128`,e[e.DATA_MATRIX=5]=`DATA_MATRIX`,e[e.EAN_8=6]=`EAN_8`,e[e.EAN_13=7]=`EAN_13`,e[e.ITF=8]=`ITF`,e[e.MAXICODE=9]=`MAXICODE`,e[e.PDF_417=10]=`PDF_417`,e[e.QR_CODE=11]=`QR_CODE`,e[e.RSS_14=12]=`RSS_14`,e[e.RSS_EXPANDED=13]=`RSS_EXPANDED`,e[e.UPC_A=14]=`UPC_A`,e[e.UPC_E=15]=`UPC_E`,e[e.UPC_EAN_EXTENSION=16]=`UPC_EAN_EXTENSION`})(oe||={});var N=oe,se;(function(e){e[e.OTHER=0]=`OTHER`,e[e.ORIENTATION=1]=`ORIENTATION`,e[e.BYTE_SEGMENTS=2]=`BYTE_SEGMENTS`,e[e.ERROR_CORRECTION_LEVEL=3]=`ERROR_CORRECTION_LEVEL`,e[e.ISSUE_NUMBER=4]=`ISSUE_NUMBER`,e[e.SUGGESTED_PRICE=5]=`SUGGESTED_PRICE`,e[e.POSSIBLE_COUNTRY=6]=`POSSIBLE_COUNTRY`,e[e.UPC_EAN_EXTENSION=7]=`UPC_EAN_EXTENSION`,e[e.PDF417_EXTRA_METADATA=8]=`PDF417_EXTRA_METADATA`,e[e.STRUCTURED_APPEND_SEQUENCE=9]=`STRUCTURED_APPEND_SEQUENCE`,e[e.STRUCTURED_APPEND_PARITY=10]=`STRUCTURED_APPEND_PARITY`})(se||={});var ce=se;class le{constructor(e,t,n,r,i=-1,a=-1){this.rawBytes=e,this.text=t,this.byteSegments=n,this.ecLevel=r,this.structuredAppendSequenceNumber=i,this.structuredAppendParity=a,this.numBits=e==null?0:8*e.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(e){this.numBits=e}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(e){this.errorsCorrected=e}getErasures(){return this.erasures}setErasures(e){this.erasures=e}getOther(){return this.other}setOther(e){this.other=e}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class ue{exp(e){return this.expTable[e]}log(e){if(e===0)throw new l;return this.logTable[e]}static addOrSubtract(e,t){return e^t}}class de{constructor(e,t){if(t.length===0)throw new l;this.field=e;let n=t.length;if(n>1&&t[0]===0){let e=1;for(;e<n&&t[e]===0;)e++;e===n?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(n-e),p.arraycopy(t,e,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);let t=this.coefficients,n;if(e===1){n=0;for(let e=0,r=t.length;e!==r;e++){let r=t[e];n=ue.addOrSubtract(n,r)}return n}n=t[0];let r=t.length,i=this.field;for(let a=1;a<r;a++)n=ue.addOrSubtract(i.multiply(e,n),t[a]);return n}addOrSubtract(e){if(!this.field.equals(e.field))throw new l(`GenericGFPolys do not have same GenericGF field`);if(this.isZero())return e;if(e.isZero())return this;let t=this.coefficients,n=e.coefficients;if(t.length>n.length){let e=t;t=n,n=e}let r=new Int32Array(n.length),i=n.length-t.length;p.arraycopy(n,0,r,0,i);for(let e=i;e<n.length;e++)r[e]=ue.addOrSubtract(t[e-i],n[e]);return new de(this.field,r)}multiply(e){if(!this.field.equals(e.field))throw new l(`GenericGFPolys do not have same GenericGF field`);if(this.isZero()||e.isZero())return this.field.getZero();let t=this.coefficients,n=t.length,r=e.coefficients,i=r.length,a=new Int32Array(n+i-1),o=this.field;for(let e=0;e<n;e++){let n=t[e];for(let t=0;t<i;t++)a[e+t]=ue.addOrSubtract(a[e+t],o.multiply(n,r[t]))}return new de(o,a)}multiplyScalar(e){if(e===0)return this.field.getZero();if(e===1)return this;let t=this.coefficients.length,n=this.field,r=new Int32Array(t),i=this.coefficients;for(let a=0;a<t;a++)r[a]=n.multiply(i[a],e);return new de(n,r)}multiplyByMonomial(e,t){if(e<0)throw new l;if(t===0)return this.field.getZero();let n=this.coefficients,r=n.length,i=new Int32Array(r+e),a=this.field;for(let e=0;e<r;e++)i[e]=a.multiply(n[e],t);return new de(a,i)}divide(e){if(!this.field.equals(e.field))throw new l(`GenericGFPolys do not have same GenericGF field`);if(e.isZero())throw new l(`Divide by 0`);let t=this.field,n=t.getZero(),r=this,i=e.getCoefficient(e.getDegree()),a=t.inverse(i);for(;r.getDegree()>=e.getDegree()&&!r.isZero();){let i=r.getDegree()-e.getDegree(),o=t.multiply(r.getCoefficient(r.getDegree()),a),s=e.multiplyByMonomial(i,o),c=t.buildMonomial(i,o);n=n.addOrSubtract(c),r=r.addOrSubtract(s)}return[n,r]}toString(){let e=``;for(let t=this.getDegree();t>=0;t--){let n=this.getCoefficient(t);if(n!==0){if(n<0?(e+=` - `,n=-n):e.length>0&&(e+=` + `),t===0||n!==1){let t=this.field.log(n);t===0?e+=`1`:t===1?e+=`a`:(e+=`a^`,e+=t)}t!==0&&(t===1?e+=`x`:(e+=`x^`,e+=t))}}return e}}class fe extends s{}fe.kind=`ArithmeticException`;class pe extends ue{constructor(e,t,n){super(),this.primitive=e,this.size=t,this.generatorBase=n;let r=new Int32Array(t),i=1;for(let n=0;n<t;n++)r[n]=i,i*=2,i>=t&&(i^=e,i&=t-1);this.expTable=r;let a=new Int32Array(t);for(let e=0;e<t-1;e++)a[r[e]]=e;this.logTable=a,this.zero=new de(this,Int32Array.from([0])),this.one=new de(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,t){if(e<0)throw new l;if(t===0)return this.zero;let n=new Int32Array(e+1);return n[0]=t,new de(this,n)}inverse(e){if(e===0)throw new fe;return this.expTable[this.size-this.logTable[e]-1]}multiply(e,t){return e===0||t===0?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return`GF(0x`+_.toHexString(this.primitive)+`,`+this.size+`)`}equals(e){return e===this}}pe.AZTEC_DATA_12=new pe(4201,4096,1),pe.AZTEC_DATA_10=new pe(1033,1024,1),pe.AZTEC_DATA_6=new pe(67,64,1),pe.AZTEC_PARAM=new pe(19,16,1),pe.QR_CODE_FIELD_256=new pe(285,256,0),pe.DATA_MATRIX_FIELD_256=new pe(301,256,1),pe.AZTEC_DATA_8=pe.DATA_MATRIX_FIELD_256,pe.MAXICODE_FIELD_64=pe.AZTEC_DATA_6;class me extends s{}me.kind=`ReedSolomonException`;class he extends s{}he.kind=`IllegalStateException`;class ge{constructor(e){this.field=e}decode(e,t){let n=this.field,r=new de(n,e),i=new Int32Array(t),a=!0;for(let e=0;e<t;e++){let t=r.evaluateAt(n.exp(e+n.getGeneratorBase()));i[i.length-1-e]=t,t!==0&&(a=!1)}if(a)return;let o=new de(n,i),s=this.runEuclideanAlgorithm(n.buildMonomial(t,1),o,t),c=s[0],l=s[1],u=this.findErrorLocations(c),d=this.findErrorMagnitudes(l,u);for(let t=0;t<u.length;t++){let r=e.length-1-n.log(u[t]);if(r<0)throw new me(`Bad error location`);e[r]=pe.addOrSubtract(e[r],d[t])}}runEuclideanAlgorithm(e,t,n){if(e.getDegree()<t.getDegree()){let n=e;e=t,t=n}let r=this.field,i=e,a=t,o=r.getZero(),s=r.getOne();for(;a.getDegree()>=(n/2|0);){let e=i,t=o;if(i=a,o=s,i.isZero())throw new me(`r_{i-1} was zero`);a=e;let n=r.getZero(),c=i.getCoefficient(i.getDegree()),l=r.inverse(c);for(;a.getDegree()>=i.getDegree()&&!a.isZero();){let e=a.getDegree()-i.getDegree(),t=r.multiply(a.getCoefficient(a.getDegree()),l);n=n.addOrSubtract(r.buildMonomial(e,t)),a=a.addOrSubtract(i.multiplyByMonomial(e,t))}if(s=n.multiply(o).addOrSubtract(t),a.getDegree()>=i.getDegree())throw new he(`Division algorithm failed to reduce polynomial?`)}let c=s.getCoefficient(0);if(c===0)throw new me(`sigmaTilde(0) was zero`);let l=r.inverse(c);return[s.multiplyScalar(l),a.multiplyScalar(l)]}findErrorLocations(e){let t=e.getDegree();if(t===1)return Int32Array.from([e.getCoefficient(1)]);let n=new Int32Array(t),r=0,i=this.field;for(let a=1;a<i.getSize()&&r<t;a++)e.evaluateAt(a)===0&&(n[r]=i.inverse(a),r++);if(r!==t)throw new me(`Error locator degree does not match number of roots`);return n}findErrorMagnitudes(e,t){let n=t.length,r=new Int32Array(n),i=this.field;for(let a=0;a<n;a++){let o=i.inverse(t[a]),s=1;for(let e=0;e<n;e++)if(a!==e){let n=i.multiply(t[e],o),r=n&1?n&-2:n|1;s=i.multiply(s,r)}r[a]=i.multiply(e.evaluateAt(o),i.inverse(s)),i.getGeneratorBase()!==0&&(r[a]=i.multiply(r[a],o))}return r}}var _e;(function(e){e[e.UPPER=0]=`UPPER`,e[e.LOWER=1]=`LOWER`,e[e.MIXED=2]=`MIXED`,e[e.DIGIT=3]=`DIGIT`,e[e.PUNCT=4]=`PUNCT`,e[e.BINARY=5]=`BINARY`})(_e||={});class ve{decode(e){this.ddata=e;let t=e.getBits(),n=this.extractBits(t),r=this.correctBits(n),i=new le(ve.convertBoolArrayToByteArray(r),ve.getEncodedData(r),null,null);return i.setNumBits(r.length),i}static highLevelDecode(e){return this.getEncodedData(e)}static getEncodedData(e){let t=e.length,n=_e.UPPER,r=_e.UPPER,i=``,a=0;for(;a<t;)if(r===_e.BINARY){if(t-a<5)break;let o=ve.readCode(e,a,5);if(a+=5,o===0){if(t-a<11)break;o=ve.readCode(e,a,11)+31,a+=11}for(let n=0;n<o;n++){if(t-a<8){a=t;break}let n=ve.readCode(e,a,8);i+=E.castAsNonUtf8Char(n),a+=8}r=n}else{let o=r===_e.DIGIT?4:5;if(t-a<o)break;let s=ve.readCode(e,a,o);a+=o;let c=ve.getCharacter(r,s);c.startsWith(`CTRL_`)?(n=r,r=ve.getTable(c.charAt(5)),c.charAt(6)===`L`&&(n=r)):(i+=c,r=n)}return i}static getTable(e){switch(e){case`L`:return _e.LOWER;case`P`:return _e.PUNCT;case`M`:return _e.MIXED;case`D`:return _e.DIGIT;case`B`:return _e.BINARY;case`U`:default:return _e.UPPER}}static getCharacter(e,t){switch(e){case _e.UPPER:return ve.UPPER_TABLE[t];case _e.LOWER:return ve.LOWER_TABLE[t];case _e.MIXED:return ve.MIXED_TABLE[t];case _e.PUNCT:return ve.PUNCT_TABLE[t];case _e.DIGIT:return ve.DIGIT_TABLE[t];default:throw new he(`Bad table`)}}correctBits(e){let t,n;this.ddata.getNbLayers()<=2?(n=6,t=pe.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(n=8,t=pe.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(n=10,t=pe.AZTEC_DATA_10):(n=12,t=pe.AZTEC_DATA_12);let r=this.ddata.getNbDatablocks(),i=e.length/n;if(i<r)throw new x;let a=e.length%n,o=new Int32Array(i);for(let t=0;t<i;t++,a+=n)o[t]=ve.readCode(e,a,n);try{new ge(t).decode(o,i-r)}catch(e){throw new x(e)}let s=(1<<n)-1,c=0;for(let e=0;e<r;e++){let t=o[e];if(t===0||t===s)throw new x;(t===1||t===s-1)&&c++}let l=Array(r*n-c),u=0;for(let e=0;e<r;e++){let t=o[e];if(t===1||t===s-1)l.fill(t>1,u,u+n-1),u+=n-1;else for(let e=n-1;e>=0;--e)l[u++]=(t&1<<e)!=0}return l}extractBits(e){let t=this.ddata.isCompact(),n=this.ddata.getNbLayers(),r=(t?11:14)+n*4,i=new Int32Array(r),a=Array(this.totalBitsInLayer(n,t));if(t)for(let e=0;e<i.length;e++)i[e]=e;else{let e=r+1+2*_.truncDivision(_.truncDivision(r,2)-1,15),t=r/2,n=_.truncDivision(e,2);for(let e=0;e<t;e++){let r=e+_.truncDivision(e,15);i[t-e-1]=n-r-1,i[t+e]=n+r+1}}for(let o=0,s=0;o<n;o++){let c=(n-o)*4+(t?9:12),l=o*2,u=r-1-l;for(let t=0;t<c;t++){let n=t*2;for(let r=0;r<2;r++)a[s+n+r]=e.get(i[l+r],i[l+t]),a[s+2*c+n+r]=e.get(i[l+t],i[u-r]),a[s+4*c+n+r]=e.get(i[u-r],i[u-t]),a[s+6*c+n+r]=e.get(i[u-t],i[l+r])}s+=c*8}return a}static readCode(e,t,n){let r=0;for(let i=t;i<t+n;i++)r<<=1,e[i]&&(r|=1);return r}static readByte(e,t){let n=e.length-t;return n>=8?ve.readCode(e,t,8):ve.readCode(e,t,n)<<8-n}static convertBoolArrayToByteArray(e){let t=new Uint8Array((e.length+7)/8);for(let n=0;n<t.length;n++)t[n]=ve.readByte(e,8*n);return t}totalBitsInLayer(e,t){return((t?88:112)+16*e)*e}}ve.UPPER_TABLE=`CTRL_PS. .A.B.C.D.E.F.G.H.I.J.K.L.M.N.O.P.Q.R.S.T.U.V.W.X.Y.Z.CTRL_LL.CTRL_ML.CTRL_DL.CTRL_BS`.split(`.`),ve.LOWER_TABLE=`CTRL_PS. .a.b.c.d.e.f.g.h.i.j.k.l.m.n.o.p.q.r.s.t.u.v.w.x.y.z.CTRL_US.CTRL_ML.CTRL_DL.CTRL_BS`.split(`.`),ve.MIXED_TABLE=`CTRL_PS. .\\1.\\2.\\3.\\4.\\5.\\6.\\7.\b.	.
.\\13.\f.\r.\\33.\\34.\\35.\\36.\\37.@.\\.^._.\`.|.~.\\177.CTRL_LL.CTRL_UL.CTRL_PL.CTRL_BS`.split(`.`),ve.PUNCT_TABLE=[``,`\r`,`\r
`,`. `,`, `,`: `,`!`,`"`,`#`,`$`,`%`,`&`,`'`,`(`,`)`,`*`,`+`,`,`,`-`,`.`,`/`,`:`,`;`,`<`,`=`,`>`,`?`,`[`,`]`,`{`,`}`,`CTRL_UL`],ve.DIGIT_TABLE=[`CTRL_PS`,` `,`0`,`1`,`2`,`3`,`4`,`5`,`6`,`7`,`8`,`9`,`,`,`.`,`CTRL_UL`,`CTRL_US`];class ye{constructor(){}static round(e){return e===NaN?0:e<=-(2**53-1)?-(2**53-1):e>=2**53-1?2**53-1:e+(e<0?-.5:.5)|0}static distance(e,t,n,r){let i=e-n,a=t-r;return Math.sqrt(i*i+a*a)}static sum(e){let t=0;for(let n=0,r=e.length;n!==r;n++){let r=e[n];t+=r}return t}}class be{static floatToIntBits(e){return e}}be.MAX_VALUE=2**53-1;class P{constructor(e,t){this.x=e,this.y=t}getX(){return this.x}getY(){return this.y}equals(e){if(e instanceof P){let t=e;return this.x===t.x&&this.y===t.y}return!1}hashCode(){return 31*be.floatToIntBits(this.x)+be.floatToIntBits(this.y)}toString(){return`(`+this.x+`,`+this.y+`)`}static orderBestPatterns(e){let t=this.distance(e[0],e[1]),n=this.distance(e[1],e[2]),r=this.distance(e[0],e[2]),i,a,o;if(n>=t&&n>=r?(a=e[0],i=e[1],o=e[2]):r>=n&&r>=t?(a=e[1],i=e[0],o=e[2]):(a=e[2],i=e[0],o=e[1]),this.crossProductZ(i,a,o)<0){let e=i;i=o,o=e}e[0]=i,e[1]=a,e[2]=o}static distance(e,t){return ye.distance(e.x,e.y,t.x,t.y)}static crossProductZ(e,t,n){let r=t.x,i=t.y;return(n.x-r)*(e.y-i)-(n.y-i)*(e.x-r)}}class xe{constructor(e,t){this.bits=e,this.points=t}getBits(){return this.bits}getPoints(){return this.points}}class Se extends xe{constructor(e,t,n,r,i){super(e,t),this.compact=n,this.nbDatablocks=r,this.nbLayers=i}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class Ce{constructor(e,t,n,r){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),t??=Ce.INIT_SIZE,n??=e.getWidth()/2|0,r??=e.getHeight()/2|0;let i=t/2|0;if(this.leftInit=n-i,this.rightInit=n+i,this.upInit=r-i,this.downInit=r+i,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new k}detect(){let e=this.leftInit,t=this.rightInit,n=this.upInit,r=this.downInit,i=!1,a=!0,o=!1,s=!1,c=!1,l=!1,u=!1,d=this.width,f=this.height;for(;a;){a=!1;let p=!0;for(;(p||!s)&&t<d;)p=this.containsBlackPoint(n,r,t,!1),p?(t++,a=!0,s=!0):s||t++;if(t>=d){i=!0;break}let m=!0;for(;(m||!c)&&r<f;)m=this.containsBlackPoint(e,t,r,!0),m?(r++,a=!0,c=!0):c||r++;if(r>=f){i=!0;break}let h=!0;for(;(h||!l)&&e>=0;)h=this.containsBlackPoint(n,r,e,!1),h?(e--,a=!0,l=!0):l||e--;if(e<0){i=!0;break}let g=!0;for(;(g||!u)&&n>=0;)g=this.containsBlackPoint(e,t,n,!0),g?(n--,a=!0,u=!0):u||n--;if(n<0){i=!0;break}a&&(o=!0)}if(!i&&o){let i=t-e,a=null;for(let t=1;a===null&&t<i;t++)a=this.getBlackPointOnSegment(e,r-t,e+t,r);if(a==null)throw new k;let o=null;for(let t=1;o===null&&t<i;t++)o=this.getBlackPointOnSegment(e,n+t,e+t,n);if(o==null)throw new k;let s=null;for(let e=1;s===null&&e<i;e++)s=this.getBlackPointOnSegment(t,n+e,t-e,n);if(s==null)throw new k;let c=null;for(let e=1;c===null&&e<i;e++)c=this.getBlackPointOnSegment(t,r-e,t-e,r);if(c==null)throw new k;return this.centerEdges(c,a,s,o)}else throw new k}getBlackPointOnSegment(e,t,n,r){let i=ye.round(ye.distance(e,t,n,r)),a=(n-e)/i,o=(r-t)/i,s=this.image;for(let n=0;n<i;n++){let r=ye.round(e+n*a),i=ye.round(t+n*o);if(s.get(r,i))return new P(r,i)}return null}centerEdges(e,t,n,r){let i=e.getX(),a=e.getY(),o=t.getX(),s=t.getY(),c=n.getX(),l=n.getY(),u=r.getX(),d=r.getY(),f=Ce.CORR;return i<this.width/2?[new P(u-f,d+f),new P(o+f,s+f),new P(c-f,l-f),new P(i+f,a-f)]:[new P(u+f,d+f),new P(o+f,s-f),new P(c-f,l+f),new P(i-f,a-f)]}containsBlackPoint(e,t,n,r){let i=this.image;if(r){for(let r=e;r<=t;r++)if(i.get(r,n))return!0}else for(let r=e;r<=t;r++)if(i.get(n,r))return!0;return!1}}Ce.INIT_SIZE=10,Ce.CORR=1;class we{static checkAndNudgePoints(e,t){let n=e.getWidth(),r=e.getHeight(),i=!0;for(let e=0;e<t.length&&i;e+=2){let a=Math.floor(t[e]),o=Math.floor(t[e+1]);if(a<-1||a>n||o<-1||o>r)throw new k;i=!1,a===-1?(t[e]=0,i=!0):a===n&&(t[e]=n-1,i=!0),o===-1?(t[e+1]=0,i=!0):o===r&&(t[e+1]=r-1,i=!0)}i=!0;for(let e=t.length-2;e>=0&&i;e-=2){let a=Math.floor(t[e]),o=Math.floor(t[e+1]);if(a<-1||a>n||o<-1||o>r)throw new k;i=!1,a===-1?(t[e]=0,i=!0):a===n&&(t[e]=n-1,i=!0),o===-1?(t[e+1]=0,i=!0):o===r&&(t[e+1]=r-1,i=!0)}}}class Te{constructor(e,t,n,r,i,a,o,s,c){this.a11=e,this.a21=t,this.a31=n,this.a12=r,this.a22=i,this.a32=a,this.a13=o,this.a23=s,this.a33=c}static quadrilateralToQuadrilateral(e,t,n,r,i,a,o,s,c,l,u,d,f,p,m,h){let g=Te.quadrilateralToSquare(e,t,n,r,i,a,o,s);return Te.squareToQuadrilateral(c,l,u,d,f,p,m,h).times(g)}transformPoints(e){let t=e.length,n=this.a11,r=this.a12,i=this.a13,a=this.a21,o=this.a22,s=this.a23,c=this.a31,l=this.a32,u=this.a33;for(let d=0;d<t;d+=2){let t=e[d],f=e[d+1],p=i*t+s*f+u;e[d]=(n*t+a*f+c)/p,e[d+1]=(r*t+o*f+l)/p}}transformPointsWithValues(e,t){let n=this.a11,r=this.a12,i=this.a13,a=this.a21,o=this.a22,s=this.a23,c=this.a31,l=this.a32,u=this.a33,d=e.length;for(let f=0;f<d;f++){let d=e[f],p=t[f],m=i*d+s*p+u;e[f]=(n*d+a*p+c)/m,t[f]=(r*d+o*p+l)/m}}static squareToQuadrilateral(e,t,n,r,i,a,o,s){let c=e-n+i-o,l=t-r+a-s;if(c===0&&l===0)return new Te(n-e,i-n,e,r-t,a-r,t,0,0,1);{let u=n-i,d=o-i,f=r-a,p=s-a,m=u*p-d*f,h=(c*p-d*l)/m,g=(u*l-c*f)/m;return new Te(n-e+h*n,o-e+g*o,e,r-t+h*r,s-t+g*s,t,h,g,1)}}static quadrilateralToSquare(e,t,n,r,i,a,o,s){return Te.squareToQuadrilateral(e,t,n,r,i,a,o,s).buildAdjoint()}buildAdjoint(){return new Te(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(e){return new Te(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)}}class Ee extends we{sampleGrid(e,t,n,r,i,a,o,s,c,l,u,d,f,p,m,h,g,_,v){let y=Te.quadrilateralToQuadrilateral(r,i,a,o,s,c,l,u,d,f,p,m,h,g,_,v);return this.sampleGridWithTransform(e,t,n,y)}sampleGridWithTransform(e,t,n,r){if(t<=0||n<=0)throw new k;let i=new O(t,n),a=new Float32Array(2*t);for(let t=0;t<n;t++){let n=a.length,o=t+.5;for(let e=0;e<n;e+=2)a[e]=e/2+.5,a[e+1]=o;r.transformPoints(a),we.checkAndNudgePoints(e,a);try{for(let r=0;r<n;r+=2)e.get(Math.floor(a[r]),Math.floor(a[r+1]))&&i.set(r/2,t)}catch{throw new k}}return i}}class De{static setGridSampler(e){De.gridSampler=e}static getInstance(){return De.gridSampler}}De.gridSampler=new Ee;class Oe{constructor(e,t){this.x=e,this.y=t}toResultPoint(){return new P(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class ke{constructor(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}detect(){return this.detectMirror(!1)}detectMirror(e){let t=this.getMatrixCenter(),n=this.getBullsEyeCorners(t);if(e){let e=n[0];n[0]=n[2],n[2]=e}return this.extractParameters(n),new Se(this.sampleGrid(this.image,n[this.shift%4],n[(this.shift+1)%4],n[(this.shift+2)%4],n[(this.shift+3)%4]),this.getMatrixCornerPoints(n),this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new k;let t=2*this.nbCenterLayers,n=new Int32Array([this.sampleLine(e[0],e[1],t),this.sampleLine(e[1],e[2],t),this.sampleLine(e[2],e[3],t),this.sampleLine(e[3],e[0],t)]);this.shift=this.getRotation(n,t);let r=0;for(let e=0;e<4;e++){let t=n[(this.shift+e)%4];this.compact?(r<<=7,r+=t>>1&127):(r<<=10,r+=(t>>2&992)+(t>>1&31))}let i=this.getCorrectedParameterData(r,this.compact);this.compact?(this.nbLayers=(i>>6)+1,this.nbDataBlocks=(i&63)+1):(this.nbLayers=(i>>11)+1,this.nbDataBlocks=(i&2047)+1)}getRotation(e,t){let n=0;e.forEach((e,r,i)=>{let a=(e>>t-2<<1)+(e&1);n=(n<<3)+a}),n=((n&1)<<11)+(n>>1);for(let e=0;e<4;e++)if(_.bitCount(n^this.EXPECTED_CORNER_BITS[e])<=2)return e;throw new k}getCorrectedParameterData(e,t){let n,r;t?(n=7,r=2):(n=10,r=4);let i=n-r,a=new Int32Array(n);for(let t=n-1;t>=0;--t)a[t]=e&15,e>>=4;try{new ge(pe.AZTEC_PARAM).decode(a,i)}catch{throw new k}let o=0;for(let e=0;e<r;e++)o=(o<<4)+a[e];return o}getBullsEyeCorners(e){let t=e,n=e,r=e,i=e,a=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let e=this.getFirstDifferent(t,a,1,-1),o=this.getFirstDifferent(n,a,1,1),s=this.getFirstDifferent(r,a,-1,1),c=this.getFirstDifferent(i,a,-1,-1);if(this.nbCenterLayers>2){let n=this.distancePoint(c,e)*this.nbCenterLayers/(this.distancePoint(i,t)*(this.nbCenterLayers+2));if(n<.75||n>1.25||!this.isWhiteOrBlackRectangle(e,o,s,c))break}t=e,n=o,r=s,i=c,a=!a}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new k;this.compact=this.nbCenterLayers===5;let o=new P(t.getX()+.5,t.getY()-.5),s=new P(n.getX()+.5,n.getY()+.5),c=new P(r.getX()-.5,r.getY()+.5),l=new P(i.getX()-.5,i.getY()-.5);return this.expandSquare([o,s,c,l],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let e,t,n,r;try{let i=new Ce(this.image).detect();e=i[0],t=i[1],n=i[2],r=i[3]}catch{let i=this.image.getWidth()/2,a=this.image.getHeight()/2;e=this.getFirstDifferent(new Oe(i+7,a-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new Oe(i+7,a+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new Oe(i-7,a+7),!1,-1,1).toResultPoint(),r=this.getFirstDifferent(new Oe(i-7,a-7),!1,-1,-1).toResultPoint()}let i=ye.round((e.getX()+r.getX()+t.getX()+n.getX())/4),a=ye.round((e.getY()+r.getY()+t.getY()+n.getY())/4);try{let o=new Ce(this.image,15,i,a).detect();e=o[0],t=o[1],n=o[2],r=o[3]}catch{e=this.getFirstDifferent(new Oe(i+7,a-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new Oe(i+7,a+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new Oe(i-7,a+7),!1,-1,1).toResultPoint(),r=this.getFirstDifferent(new Oe(i-7,a-7),!1,-1,-1).toResultPoint()}return i=ye.round((e.getX()+r.getX()+t.getX()+n.getX())/4),a=ye.round((e.getY()+r.getY()+t.getY()+n.getY())/4),new Oe(i,a)}getMatrixCornerPoints(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())}sampleGrid(e,t,n,r,i){let a=De.getInstance(),o=this.getDimension(),s=o/2-this.nbCenterLayers,c=o/2+this.nbCenterLayers;return a.sampleGrid(e,o,o,s,s,c,s,c,c,s,c,t.getX(),t.getY(),n.getX(),n.getY(),r.getX(),r.getY(),i.getX(),i.getY())}sampleLine(e,t,n){let r=0,i=this.distanceResultPoint(e,t),a=i/n,o=e.getX(),s=e.getY(),c=a*(t.getX()-e.getX())/i,l=a*(t.getY()-e.getY())/i;for(let e=0;e<n;e++)this.image.get(ye.round(o+e*c),ye.round(s+e*l))&&(r|=1<<n-e-1);return r}isWhiteOrBlackRectangle(e,t,n,r){e=new Oe(e.getX()-3,e.getY()+3),t=new Oe(t.getX()-3,t.getY()-3),n=new Oe(n.getX()+3,n.getY()-3),r=new Oe(r.getX()+3,r.getY()+3);let i=this.getColor(r,e);if(i===0)return!1;let a=this.getColor(e,t);return a!==i||(a=this.getColor(t,n),a!==i)?!1:(a=this.getColor(n,r),a===i)}getColor(e,t){let n=this.distancePoint(e,t),r=(t.getX()-e.getX())/n,i=(t.getY()-e.getY())/n,a=0,o=e.getX(),s=e.getY(),c=this.image.get(e.getX(),e.getY()),l=Math.ceil(n);for(let e=0;e<l;e++)o+=r,s+=i,this.image.get(ye.round(o),ye.round(s))!==c&&a++;let u=a/n;return u>.1&&u<.9?0:u<=.1===c?1:-1}getFirstDifferent(e,t,n,r){let i=e.getX()+n,a=e.getY()+r;for(;this.isValid(i,a)&&this.image.get(i,a)===t;)i+=n,a+=r;for(i-=n,a-=r;this.isValid(i,a)&&this.image.get(i,a)===t;)i+=n;for(i-=n;this.isValid(i,a)&&this.image.get(i,a)===t;)a+=r;return a-=r,new Oe(i,a)}expandSquare(e,t,n){let r=n/(2*t),i=e[0].getX()-e[2].getX(),a=e[0].getY()-e[2].getY(),o=(e[0].getX()+e[2].getX())/2,s=(e[0].getY()+e[2].getY())/2,c=new P(o+r*i,s+r*a),l=new P(o-r*i,s-r*a);return i=e[1].getX()-e[3].getX(),a=e[1].getY()-e[3].getY(),o=(e[1].getX()+e[3].getX())/2,s=(e[1].getY()+e[3].getY())/2,[c,new P(o+r*i,s+r*a),l,new P(o-r*i,s-r*a)]}isValid(e,t){return e>=0&&e<this.image.getWidth()&&t>0&&t<this.image.getHeight()}isValidPoint(e){let t=ye.round(e.getX()),n=ye.round(e.getY());return this.isValid(t,n)}distancePoint(e,t){return ye.distance(e.getX(),e.getY(),t.getX(),t.getY())}distanceResultPoint(e,t){return ye.distance(e.getX(),e.getY(),t.getX(),t.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(_.truncDivision(this.nbLayers-4,8)+1)+15}}class Ae{decode(e,t=null){let n=null,r=new ke(e.getBlackMatrix()),i=null,a=null;try{let e=r.detectMirror(!1);i=e.getPoints(),this.reportFoundResultPoints(t,i),a=new ve().decode(e)}catch(e){n=e}if(a==null)try{let e=r.detectMirror(!0);i=e.getPoints(),this.reportFoundResultPoints(t,i),a=new ve().decode(e)}catch(e){throw n??e}let o=new ae(a.getText(),a.getRawBytes(),a.getNumBits(),i,N.AZTEC,p.currentTimeMillis()),s=a.getByteSegments();s!=null&&o.putMetadata(ce.BYTE_SEGMENTS,s);let c=a.getECLevel();return c!=null&&o.putMetadata(ce.ERROR_CORRECTION_LEVEL,c),o}reportFoundResultPoints(e,t){if(e!=null){let n=e.get(b.NEED_RESULT_POINT_CALLBACK);n!=null&&t.forEach((e,t,r)=>{n.foundPossibleResultPoint(e)})}}reset(){}}class je extends M{constructor(e=500){super(new Ae,e)}}class Me{decode(e,t){try{return this.doDecode(e,t)}catch{if(t&&t.get(b.TRY_HARDER)===!0&&e.isRotateSupported()){let n=e.rotateCounterClockwise(),r=this.doDecode(n,t),i=r.getResultMetadata(),a=270;i!==null&&i.get(ce.ORIENTATION)===!0&&(a+=i.get(ce.ORIENTATION)%360),r.putMetadata(ce.ORIENTATION,a);let o=r.getResultPoints();if(o!==null){let e=n.getHeight();for(let t=0;t<o.length;t++)o[t]=new P(e-o[t].getY()-1,o[t].getX())}return r}else throw new k}}reset(){}doDecode(e,t){let n=e.getWidth(),r=e.getHeight(),i=new v(n),a=t&&t.get(b.TRY_HARDER)===!0,o=Math.max(1,r>>(a?8:5)),s;s=a?r:15;let c=Math.trunc(r/2);for(let a=0;a<s;a++){let s=Math.trunc((a+1)/2),l=c+o*(a&1?-s:s);if(l<0||l>=r)break;try{i=e.getBlackRow(l,i)}catch{continue}for(let e=0;e<2;e++){if(e===1&&(i.reverse(),t&&t.get(b.NEED_RESULT_POINT_CALLBACK)===!0)){let e=new Map;t.forEach((t,n)=>e.set(n,t)),e.delete(b.NEED_RESULT_POINT_CALLBACK),t=e}try{let r=this.decodeRow(l,i,t);if(e===1){r.putMetadata(ce.ORIENTATION,180);let e=r.getResultPoints();e!==null&&(e[0]=new P(n-e[0].getX()-1,e[0].getY()),e[1]=new P(n-e[1].getX()-1,e[1].getY()))}return r}catch{}}}throw new k}static recordPattern(e,t,n){let r=n.length;for(let e=0;e<r;e++)n[e]=0;let i=e.getSize();if(t>=i)throw new k;let a=!e.get(t),o=0,s=t;for(;s<i;){if(e.get(s)!==a)n[o]++;else if(++o===r)break;else n[o]=1,a=!a;s++}if(!(o===r||o===r-1&&s===i))throw new k}static recordPatternInReverse(e,t,n){let r=n.length,i=e.get(t);for(;t>0&&r>=0;)e.get(--t)!==i&&(r--,i=!i);if(r>=0)throw new k;Me.recordPattern(e,t+1,n)}static patternMatchVariance(e,t,n){let r=e.length,i=0,a=0;for(let n=0;n<r;n++)i+=e[n],a+=t[n];if(i<a)return 1/0;let o=i/a;n*=o;let s=0;for(let i=0;i<r;i++){let r=e[i],a=t[i]*o,c=r>a?r-a:a-r;if(c>n)return 1/0;s+=c}return s/i}}class F extends Me{static findStartPattern(e){let t=e.getSize(),n=e.getNextSet(0),r=0,i=Int32Array.from([0,0,0,0,0,0]),a=n,o=!1;for(let s=n;s<t;s++)if(e.get(s)!==o)i[r]++;else{if(r===5){let t=F.MAX_AVG_VARIANCE,n=-1;for(let e=F.CODE_START_A;e<=F.CODE_START_C;e++){let r=Me.patternMatchVariance(i,F.CODE_PATTERNS[e],F.MAX_INDIVIDUAL_VARIANCE);r<t&&(t=r,n=e)}if(n>=0&&e.isRange(Math.max(0,a-(s-a)/2),a,!1))return Int32Array.from([a,s,n]);a+=i[0]+i[1],i=i.slice(2,i.length-1),i[r-1]=0,i[r]=0,r--}else r++;i[r]=1,o=!o}throw new k}static decodeCode(e,t,n){Me.recordPattern(e,n,t);let r=F.MAX_AVG_VARIANCE,i=-1;for(let e=0;e<F.CODE_PATTERNS.length;e++){let n=F.CODE_PATTERNS[e],a=this.patternMatchVariance(t,n,F.MAX_INDIVIDUAL_VARIANCE);a<r&&(r=a,i=e)}if(i>=0)return i;throw new k}decodeRow(e,t,n){let r=n&&n.get(b.ASSUME_GS1)===!0,i=F.findStartPattern(t),a=i[2],o=0,s=new Uint8Array(20);s[o++]=a;let c;switch(a){case F.CODE_START_A:c=F.CODE_CODE_A;break;case F.CODE_START_B:c=F.CODE_CODE_B;break;case F.CODE_START_C:c=F.CODE_CODE_C;break;default:throw new x}let l=!1,u=!1,f=``,p=i[0],m=i[1],h=Int32Array.from([0,0,0,0,0,0]),g=0,_=0,v=a,y=0,S=!0,C=!1,w=!1;for(;!l;){let e=u;switch(u=!1,g=_,_=F.decodeCode(t,h,m),s[o++]=_,_!==F.CODE_STOP&&(S=!0),_!==F.CODE_STOP&&(y++,v+=y*_),p=m,m+=h.reduce((e,t)=>e+t,0),_){case F.CODE_START_A:case F.CODE_START_B:case F.CODE_START_C:throw new x}switch(c){case F.CODE_CODE_A:if(_<64)w===C?f+=String.fromCharCode(32+_):f+=String.fromCharCode(32+_+128),w=!1;else if(_<96)w===C?f+=String.fromCharCode(_-64):f+=String.fromCharCode(_+64),w=!1;else switch(_!==F.CODE_STOP&&(S=!1),_){case F.CODE_FNC_1:r&&(f.length===0?f+=`]C1`:f+=``);break;case F.CODE_FNC_2:case F.CODE_FNC_3:break;case F.CODE_FNC_4_A:!C&&w?(C=!0,w=!1):C&&w?(C=!1,w=!1):w=!0;break;case F.CODE_SHIFT:u=!0,c=F.CODE_CODE_B;break;case F.CODE_CODE_B:c=F.CODE_CODE_B;break;case F.CODE_CODE_C:c=F.CODE_CODE_C;break;case F.CODE_STOP:l=!0;break}break;case F.CODE_CODE_B:if(_<96)w===C?f+=String.fromCharCode(32+_):f+=String.fromCharCode(32+_+128),w=!1;else switch(_!==F.CODE_STOP&&(S=!1),_){case F.CODE_FNC_1:r&&(f.length===0?f+=`]C1`:f+=``);break;case F.CODE_FNC_2:case F.CODE_FNC_3:break;case F.CODE_FNC_4_B:!C&&w?(C=!0,w=!1):C&&w?(C=!1,w=!1):w=!0;break;case F.CODE_SHIFT:u=!0,c=F.CODE_CODE_A;break;case F.CODE_CODE_A:c=F.CODE_CODE_A;break;case F.CODE_CODE_C:c=F.CODE_CODE_C;break;case F.CODE_STOP:l=!0;break}break;case F.CODE_CODE_C:if(_<100)_<10&&(f+=`0`),f+=_;else switch(_!==F.CODE_STOP&&(S=!1),_){case F.CODE_FNC_1:r&&(f.length===0?f+=`]C1`:f+=``);break;case F.CODE_CODE_A:c=F.CODE_CODE_A;break;case F.CODE_CODE_B:c=F.CODE_CODE_B;break;case F.CODE_STOP:l=!0;break}break}e&&(c=c===F.CODE_CODE_A?F.CODE_CODE_B:F.CODE_CODE_A)}let T=m-p;if(m=t.getNextUnset(m),!t.isRange(m,Math.min(t.getSize(),m+(m-p)/2),!1))throw new k;if(v-=y*g,v%103!==g)throw new d;let E=f.length;if(E===0)throw new k;E>0&&S&&(f=c===F.CODE_CODE_C?f.substring(0,E-2):f.substring(0,E-1));let D=(i[1]+i[0])/2,O=p+T/2,ee=s.length,A=new Uint8Array(ee);for(let e=0;e<ee;e++)A[e]=s[e];let te=[new P(D,e),new P(O,e)];return new ae(f,A,0,te,N.CODE_128,new Date().getTime())}}F.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],F.MAX_AVG_VARIANCE=.25,F.MAX_INDIVIDUAL_VARIANCE=.7,F.CODE_SHIFT=98,F.CODE_CODE_C=99,F.CODE_CODE_B=100,F.CODE_CODE_A=101,F.CODE_FNC_1=102,F.CODE_FNC_2=97,F.CODE_FNC_3=96,F.CODE_FNC_4_A=101,F.CODE_FNC_4_B=100,F.CODE_START_A=103,F.CODE_START_B=104,F.CODE_START_C=105,F.CODE_STOP=106;class Ne extends Me{constructor(e=!1,t=!1){super(),this.usingCheckDigit=e,this.extendedMode=t,this.decodeRowResult=``,this.counters=new Int32Array(9)}decodeRow(e,t,n){let r=this.counters;r.fill(0),this.decodeRowResult=``;let i=Ne.findAsteriskPattern(t,r),a=t.getNextSet(i[1]),o=t.getSize(),s,c;do{Ne.recordPattern(t,a,r);let e=Ne.toNarrowWidePattern(r);if(e<0)throw new k;s=Ne.patternToChar(e),this.decodeRowResult+=s,c=a;for(let e of r)a+=e;a=t.getNextSet(a)}while(s!==`*`);this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let l=0;for(let e of r)l+=e;let u=a-c-l;if(a!==o&&u*2<l)throw new k;if(this.usingCheckDigit){let e=this.decodeRowResult.length-1,t=0;for(let n=0;n<e;n++)t+=Ne.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(n));if(this.decodeRowResult.charAt(e)!==Ne.ALPHABET_STRING.charAt(t%43))throw new d;this.decodeRowResult=this.decodeRowResult.substring(0,e)}if(this.decodeRowResult.length===0)throw new k;let f;f=this.extendedMode?Ne.decodeExtended(this.decodeRowResult):this.decodeRowResult;let p=(i[1]+i[0])/2,m=c+l/2;return new ae(f,null,0,[new P(p,e),new P(m,e)],N.CODE_39,new Date().getTime())}static findAsteriskPattern(e,t){let n=e.getSize(),r=e.getNextSet(0),i=0,a=r,o=!1,s=t.length;for(let c=r;c<n;c++)if(e.get(c)!==o)t[i]++;else{if(i===s-1){if(this.toNarrowWidePattern(t)===Ne.ASTERISK_ENCODING&&e.isRange(Math.max(0,a-Math.floor((c-a)/2)),a,!1))return[a,c];a+=t[0]+t[1],t.copyWithin(0,2,2+i-1),t[i-1]=0,t[i]=0,i--}else i++;t[i]=1,o=!o}throw new k}static toNarrowWidePattern(e){let t=e.length,n=0,r;do{let i=2147483647;for(let t of e)t<i&&t>n&&(i=t);n=i,r=0;let a=0,o=0;for(let i=0;i<t;i++){let s=e[i];s>n&&(o|=1<<t-1-i,r++,a+=s)}if(r===3){for(let i=0;i<t&&r>0;i++){let t=e[i];if(t>n&&(r--,t*2>=a))return-1}return o}}while(r>3);return-1}static patternToChar(e){for(let t=0;t<Ne.CHARACTER_ENCODINGS.length;t++)if(Ne.CHARACTER_ENCODINGS[t]===e)return Ne.ALPHABET_STRING.charAt(t);if(e===Ne.ASTERISK_ENCODING)return`*`;throw new k}static decodeExtended(e){let t=e.length,n=``;for(let r=0;r<t;r++){let t=e.charAt(r);if(t===`+`||t===`$`||t===`%`||t===`/`){let i=e.charAt(r+1),a=`\0`;switch(t){case`+`:if(i>=`A`&&i<=`Z`)a=String.fromCharCode(i.charCodeAt(0)+32);else throw new x;break;case`$`:if(i>=`A`&&i<=`Z`)a=String.fromCharCode(i.charCodeAt(0)-64);else throw new x;break;case`%`:if(i>=`A`&&i<=`E`)a=String.fromCharCode(i.charCodeAt(0)-38);else if(i>=`F`&&i<=`J`)a=String.fromCharCode(i.charCodeAt(0)-11);else if(i>=`K`&&i<=`O`)a=String.fromCharCode(i.charCodeAt(0)+16);else if(i>=`P`&&i<=`T`)a=String.fromCharCode(i.charCodeAt(0)+43);else if(i===`U`)a=`\0`;else if(i===`V`)a=`@`;else if(i===`W`)a="`";else if(i===`X`||i===`Y`||i===`Z`)a=``;else throw new x;break;case`/`:if(i>=`A`&&i<=`O`)a=String.fromCharCode(i.charCodeAt(0)-32);else if(i===`Z`)a=`:`;else throw new x;break}n+=a,r++}else n+=t}return n}}Ne.ALPHABET_STRING=`0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%`,Ne.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Ne.ASTERISK_ENCODING=148;class Pe extends Me{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(e,t,n){let r=this.decodeStart(t),i=this.decodeEnd(t),a=new D;Pe.decodeMiddle(t,r[1],i[0],a);let o=a.toString(),s=null;n!=null&&(s=n.get(b.ALLOWED_LENGTHS)),s??=Pe.DEFAULT_ALLOWED_LENGTHS;let c=o.length,l=!1,u=0;for(let e of s){if(c===e){l=!0;break}e>u&&(u=e)}if(!l&&c>u&&(l=!0),!l)throw new x;return new ae(o,null,0,[new P(r[1],e),new P(i[0],e)],N.ITF,new Date().getTime())}static decodeMiddle(e,t,n,r){let i=new Int32Array(10),a=new Int32Array(5),o=new Int32Array(5);for(i.fill(0),a.fill(0),o.fill(0);t<n;){Me.recordPattern(e,t,i);for(let e=0;e<5;e++){let t=2*e;a[e]=i[t],o[e]=i[t+1]}let n=Pe.decodeDigit(a);r.append(n.toString()),n=this.decodeDigit(o),r.append(n.toString()),i.forEach(function(e){t+=e})}}decodeStart(e){let t=Pe.skipWhiteSpace(e),n=Pe.findGuardPattern(e,t,Pe.START_PATTERN);return this.narrowLineWidth=(n[1]-n[0])/4,this.validateQuietZone(e,n[0]),n}validateQuietZone(e,t){let n=this.narrowLineWidth*10;n=n<t?n:t;for(let r=t-1;n>0&&r>=0&&!e.get(r);r--)n--;if(n!==0)throw new k}static skipWhiteSpace(e){let t=e.getSize(),n=e.getNextSet(0);if(n===t)throw new k;return n}decodeEnd(e){e.reverse();try{let t=Pe.skipWhiteSpace(e),n;try{n=Pe.findGuardPattern(e,t,Pe.END_PATTERN_REVERSED[0])}catch(r){r instanceof k&&(n=Pe.findGuardPattern(e,t,Pe.END_PATTERN_REVERSED[1]))}this.validateQuietZone(e,n[0]);let r=n[0];return n[0]=e.getSize()-n[1],n[1]=e.getSize()-r,n}finally{e.reverse()}}static findGuardPattern(e,t,n){let r=n.length,i=new Int32Array(r),a=e.getSize(),o=!1,s=0,c=t;i.fill(0);for(let l=t;l<a;l++)if(e.get(l)!==o)i[s]++;else{if(s===r-1){if(Me.patternMatchVariance(i,n,Pe.MAX_INDIVIDUAL_VARIANCE)<Pe.MAX_AVG_VARIANCE)return[c,l];c+=i[0]+i[1],p.arraycopy(i,2,i,0,s-1),i[s-1]=0,i[s]=0,s--}else s++;i[s]=1,o=!o}throw new k}static decodeDigit(e){let t=Pe.MAX_AVG_VARIANCE,n=-1,r=Pe.PATTERNS.length;for(let i=0;i<r;i++){let r=Pe.PATTERNS[i],a=Me.patternMatchVariance(e,r,Pe.MAX_INDIVIDUAL_VARIANCE);a<t?(t=a,n=i):a===t&&(n=-1)}if(n>=0)return n%10;throw new k}}Pe.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Pe.MAX_AVG_VARIANCE=.38,Pe.MAX_INDIVIDUAL_VARIANCE=.5,Pe.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Pe.START_PATTERN=Int32Array.from([1,1,1,1]),Pe.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Fe extends Me{constructor(){super(...arguments),this.decodeRowStringBuffer=``}static findStartGuardPattern(e){let t=!1,n,r=0,i=Int32Array.from([0,0,0]);for(;!t;){i=Int32Array.from([0,0,0]),n=Fe.findGuardPattern(e,r,!1,this.START_END_PATTERN,i);let a=n[0];r=n[1];let o=a-(r-a);o>=0&&(t=e.isRange(o,a,!1))}return n}static checkChecksum(e){return Fe.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let t=e.length;if(t===0)return!1;let n=parseInt(e.charAt(t-1),10);return Fe.getStandardUPCEANChecksum(e.substring(0,t-1))===n}static getStandardUPCEANChecksum(e){let t=e.length,n=0;for(let r=t-1;r>=0;r-=2){let t=e.charAt(r).charCodeAt(0)-48;if(t<0||t>9)throw new x;n+=t}n*=3;for(let r=t-2;r>=0;r-=2){let t=e.charAt(r).charCodeAt(0)-48;if(t<0||t>9)throw new x;n+=t}return(1e3-n)%10}static decodeEnd(e,t){return Fe.findGuardPattern(e,t,!1,Fe.START_END_PATTERN,new Int32Array(Fe.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(e,t,n,r){return this.findGuardPattern(e,t,n,r,new Int32Array(r.length))}static findGuardPattern(e,t,n,r,i){let a=e.getSize();t=n?e.getNextUnset(t):e.getNextSet(t);let o=0,s=t,c=r.length,l=n;for(let n=t;n<a;n++)if(e.get(n)!==l)i[o]++;else{if(o===c-1){if(Me.patternMatchVariance(i,r,Fe.MAX_INDIVIDUAL_VARIANCE)<Fe.MAX_AVG_VARIANCE)return Int32Array.from([s,n]);s+=i[0]+i[1];let e=i.slice(2,i.length-1);for(let t=0;t<o-1;t++)i[t]=e[t];i[o-1]=0,i[o]=0,o--}else o++;i[o]=1,l=!l}throw new k}static decodeDigit(e,t,n,r){this.recordPattern(e,n,t);let i=this.MAX_AVG_VARIANCE,a=-1,o=r.length;for(let e=0;e<o;e++){let n=r[e],o=Me.patternMatchVariance(t,n,Fe.MAX_INDIVIDUAL_VARIANCE);o<i&&(i=o,a=e)}if(a>=0)return a;throw new k}}Fe.MAX_AVG_VARIANCE=.48,Fe.MAX_INDIVIDUAL_VARIANCE=.7,Fe.START_END_PATTERN=Int32Array.from([1,1,1]),Fe.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Fe.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Fe.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Ie{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=``}decodeRow(e,t,n){let r=this.decodeRowStringBuffer,i=this.decodeMiddle(t,n,r),a=r.toString(),o=Ie.parseExtensionString(a),s=new ae(a,null,0,[new P((n[0]+n[1])/2,e),new P(i,e)],N.UPC_EAN_EXTENSION,new Date().getTime());return o!=null&&s.putAllMetadata(o),s}decodeMiddle(e,t,n){let r=this.decodeMiddleCounters;r[0]=0,r[1]=0,r[2]=0,r[3]=0;let i=e.getSize(),a=t[1],o=0;for(let t=0;t<5&&a<i;t++){let i=Fe.decodeDigit(e,r,a,Fe.L_AND_G_PATTERNS);n+=String.fromCharCode(48+i%10);for(let e of r)a+=e;i>=10&&(o|=1<<4-t),t!==4&&(a=e.getNextSet(a),a=e.getNextUnset(a))}if(n.length!==5)throw new k;let s=this.determineCheckDigit(o);if(Ie.extensionChecksum(n.toString())!==s)throw new k;return a}static extensionChecksum(e){let t=e.length,n=0;for(let r=t-2;r>=0;r-=2)n+=e.charAt(r).charCodeAt(0)-48;n*=3;for(let r=t-1;r>=0;r-=2)n+=e.charAt(r).charCodeAt(0)-48;return n*=3,n%10}determineCheckDigit(e){for(let t=0;t<10;t++)if(e===this.CHECK_DIGIT_ENCODINGS[t])return t;throw new k}static parseExtensionString(e){if(e.length!==5)return null;let t=Ie.parseExtension5String(e);return t==null?null:new Map([[ce.SUGGESTED_PRICE,t]])}static parseExtension5String(e){let t;switch(e.charAt(0)){case`0`:t=``;break;case`5`:t=`$`;break;case`9`:switch(e){case`90000`:return null;case`99991`:return`0.00`;case`99990`:return`Used`}t=``;break;default:t=``;break}let n=parseInt(e.substring(1)),r=(n/100).toString(),i=n%100,a=i<10?`0`+i:i.toString();return t+r+`.`+a}}class Le{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=``}decodeRow(e,t,n){let r=this.decodeRowStringBuffer,i=this.decodeMiddle(t,n,r),a=r.toString(),o=Le.parseExtensionString(a),s=new ae(a,null,0,[new P((n[0]+n[1])/2,e),new P(i,e)],N.UPC_EAN_EXTENSION,new Date().getTime());return o!=null&&s.putAllMetadata(o),s}decodeMiddle(e,t,n){let r=this.decodeMiddleCounters;r[0]=0,r[1]=0,r[2]=0,r[3]=0;let i=e.getSize(),a=t[1],o=0;for(let t=0;t<2&&a<i;t++){let i=Fe.decodeDigit(e,r,a,Fe.L_AND_G_PATTERNS);n+=String.fromCharCode(48+i%10);for(let e of r)a+=e;i>=10&&(o|=1<<1-t),t!==1&&(a=e.getNextSet(a),a=e.getNextUnset(a))}if(n.length!==2||parseInt(n.toString())%4!==o)throw new k;return a}static parseExtensionString(e){return e.length===2?new Map([[ce.ISSUE_NUMBER,parseInt(e)]]):null}}class Re{static decodeRow(e,t,n){let r=Fe.findGuardPattern(t,n,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Ie().decodeRow(e,t,r)}catch{return new Le().decodeRow(e,t,r)}}}Re.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class I extends Fe{constructor(){super(),this.decodeRowStringBuffer=``,I.L_AND_G_PATTERNS=I.L_PATTERNS.map(e=>Int32Array.from(e));for(let e=10;e<20;e++){let t=I.L_PATTERNS[e-10],n=new Int32Array(t.length);for(let e=0;e<t.length;e++)n[e]=t[t.length-e-1];I.L_AND_G_PATTERNS[e]=n}}decodeRow(e,t,n){let r=I.findStartGuardPattern(t),i=n==null?null:n.get(b.NEED_RESULT_POINT_CALLBACK);if(i!=null){let t=new P((r[0]+r[1])/2,e);i.foundPossibleResultPoint(t)}let a=this.decodeMiddle(t,r,this.decodeRowStringBuffer),o=a.rowOffset,s=a.resultString;if(i!=null){let t=new P(o,e);i.foundPossibleResultPoint(t)}let c=this.decodeEnd(t,o);if(i!=null){let t=new P((c[0]+c[1])/2,e);i.foundPossibleResultPoint(t)}let l=c[1],u=l+(l-c[0]);if(u>=t.getSize()||!t.isRange(l,u,!1))throw new k;let f=s.toString();if(f.length<8)throw new x;if(!I.checkChecksum(f))throw new d;let p=(r[1]+r[0])/2,m=(c[1]+c[0])/2,h=this.getBarcodeFormat(),g=new ae(f,null,0,[new P(p,e),new P(m,e)],h,new Date().getTime()),_=0;try{let n=Re.decodeRow(e,t,c[1]);g.putMetadata(ce.UPC_EAN_EXTENSION,n.getText()),g.putAllMetadata(n.getResultMetadata()),g.addResultPoints(n.getResultPoints()),_=n.getText().length}catch{}let v=n==null?null:n.get(b.ALLOWED_EAN_EXTENSIONS);if(v!=null){let e=!1;for(let t in v)if(_.toString()===t){e=!0;break}if(!e)throw new k}return g}decodeEnd(e,t){return I.findGuardPattern(e,t,!1,I.START_END_PATTERN,new Int32Array(I.START_END_PATTERN.length).fill(0))}static checkChecksum(e){return I.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let t=e.length;if(t===0)return!1;let n=parseInt(e.charAt(t-1),10);return I.getStandardUPCEANChecksum(e.substring(0,t-1))===n}static getStandardUPCEANChecksum(e){let t=e.length,n=0;for(let r=t-1;r>=0;r-=2){let t=e.charAt(r).charCodeAt(0)-48;if(t<0||t>9)throw new x;n+=t}n*=3;for(let r=t-2;r>=0;r-=2){let t=e.charAt(r).charCodeAt(0)-48;if(t<0||t>9)throw new x;n+=t}return(1e3-n)%10}}class ze extends I{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,t,n){let r=this.decodeMiddleCounters;r[0]=0,r[1]=0,r[2]=0,r[3]=0;let i=e.getSize(),a=t[1],o=0;for(let t=0;t<6&&a<i;t++){let i=I.decodeDigit(e,r,a,I.L_AND_G_PATTERNS);n+=String.fromCharCode(48+i%10);for(let e of r)a+=e;i>=10&&(o|=1<<5-t)}n=ze.determineFirstDigit(n,o),a=I.findGuardPattern(e,a,!0,I.MIDDLE_PATTERN,new Int32Array(I.MIDDLE_PATTERN.length).fill(0))[1];for(let t=0;t<6&&a<i;t++){let t=I.decodeDigit(e,r,a,I.L_PATTERNS);n+=String.fromCharCode(48+t);for(let e of r)a+=e}return{rowOffset:a,resultString:n}}getBarcodeFormat(){return N.EAN_13}static determineFirstDigit(e,t){for(let n=0;n<10;n++)if(t===this.FIRST_DIGIT_ENCODINGS[n])return e=String.fromCharCode(48+n)+e,e;throw new k}}ze.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Be extends I{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,t,n){let r=this.decodeMiddleCounters;r[0]=0,r[1]=0,r[2]=0,r[3]=0;let i=e.getSize(),a=t[1];for(let t=0;t<4&&a<i;t++){let t=I.decodeDigit(e,r,a,I.L_PATTERNS);n+=String.fromCharCode(48+t);for(let e of r)a+=e}a=I.findGuardPattern(e,a,!0,I.MIDDLE_PATTERN,new Int32Array(I.MIDDLE_PATTERN.length).fill(0))[1];for(let t=0;t<4&&a<i;t++){let t=I.decodeDigit(e,r,a,I.L_PATTERNS);n+=String.fromCharCode(48+t);for(let e of r)a+=e}return{rowOffset:a,resultString:n}}getBarcodeFormat(){return N.EAN_8}}class Ve extends I{constructor(){super(...arguments),this.ean13Reader=new ze}getBarcodeFormat(){return N.UPC_A}decode(e,t){return this.maybeReturnResult(this.ean13Reader.decode(e))}decodeRow(e,t,n){return this.maybeReturnResult(this.ean13Reader.decodeRow(e,t,n))}decodeMiddle(e,t,n){return this.ean13Reader.decodeMiddle(e,t,n)}maybeReturnResult(e){let t=e.getText();if(t.charAt(0)===`0`){let n=new ae(t.substring(1),null,null,e.getResultPoints(),N.UPC_A);return e.getResultMetadata()!=null&&n.putAllMetadata(e.getResultMetadata()),n}else throw new k}reset(){this.ean13Reader.reset()}}class He extends I{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(e,t,n){let r=this.decodeMiddleCounters.map(e=>e);r[0]=0,r[1]=0,r[2]=0,r[3]=0;let i=e.getSize(),a=t[1],o=0;for(let t=0;t<6&&a<i;t++){let i=He.decodeDigit(e,r,a,He.L_AND_G_PATTERNS);n+=String.fromCharCode(48+i%10);for(let e of r)a+=e;i>=10&&(o|=1<<5-t)}let s=He.determineNumSysAndCheckDigit(n,o);return{rowOffset:a,resultString:s}}decodeEnd(e,t){return He.findGuardPatternWithoutCounters(e,t,!0,He.MIDDLE_END_PATTERN)}checkChecksum(e){return I.checkChecksum(He.convertUPCEtoUPCA(e))}static determineNumSysAndCheckDigit(e,t){for(let n=0;n<=1;n++)for(let r=0;r<10;r++)if(t===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[n][r]){let t=String.fromCharCode(48+n),i=String.fromCharCode(48+r);return t+e+i}throw k.getNotFoundInstance()}getBarcodeFormat(){return N.UPC_E}static convertUPCEtoUPCA(e){let t=e.slice(1,7).split(``).map(e=>e.charCodeAt(0)),n=new D;n.append(e.charAt(0));let r=t[5];switch(r){case 0:case 1:case 2:n.appendChars(t,0,2),n.append(r),n.append(`0000`),n.appendChars(t,2,3);break;case 3:n.appendChars(t,0,3),n.append(`00000`),n.appendChars(t,3,2);break;case 4:n.appendChars(t,0,4),n.append(`00000`),n.append(t[4]);break;default:n.appendChars(t,0,5),n.append(`0000`),n.append(r);break}return e.length>=8&&n.append(e.charAt(7)),n.toString()}}He.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),He.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Ue extends Me{constructor(e){super();let n=e==null?null:e.get(b.POSSIBLE_FORMATS),r=[];t(n)?(r.push(new ze),r.push(new Ve),r.push(new Be),r.push(new He)):(n.indexOf(N.EAN_13)>-1&&r.push(new ze),n.indexOf(N.UPC_A)>-1&&r.push(new Ve),n.indexOf(N.EAN_8)>-1&&r.push(new Be),n.indexOf(N.UPC_E)>-1&&r.push(new He)),this.readers=r}decodeRow(e,t,n){for(let r of this.readers)try{let i=r.decodeRow(e,t,n),a=i.getBarcodeFormat()===N.EAN_13&&i.getText().charAt(0)===`0`,o=n==null?null:n.get(b.POSSIBLE_FORMATS),s=o==null||o.includes(N.UPC_A);if(a&&s){let e=i.getRawBytes(),t=new ae(i.getText().substring(1),e,e?e.length:null,i.getResultPoints(),N.UPC_A);return t.putAllMetadata(i.getResultMetadata()),t}return i}catch{}throw new k}reset(){for(let e of this.readers)e.reset()}}class We extends Me{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=[,,,,],this.evenRoundingErrors=[,,,,],this.oddCounts=Array(this.dataCharacterCounters.length/2),this.evenCounts=Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(e,t){for(let n=0;n<t.length;n++)if(Me.patternMatchVariance(e,t[n],We.MAX_INDIVIDUAL_VARIANCE)<We.MAX_AVG_VARIANCE)return n;throw new k}static count(e){return ye.sum(new Int32Array(e))}static increment(e,t){let n=0,r=t[0];for(let i=1;i<e.length;i++)t[i]>r&&(r=t[i],n=i);e[n]++}static decrement(e,t){let n=0,r=t[0];for(let i=1;i<e.length;i++)t[i]<r&&(r=t[i],n=i);e[n]--}static isFinderPattern(e){let t=e[0]+e[1],n=t/(t+e[2]+e[3]);if(n>=We.MIN_FINDER_PATTERN_RATIO&&n<=We.MAX_FINDER_PATTERN_RATIO){let t=2**53-1,n=-(2**53-1);for(let r of e)r>n&&(n=r),r<t&&(t=r);return n<10*t}return!1}}We.MAX_AVG_VARIANCE=.2,We.MAX_INDIVIDUAL_VARIANCE=.45,We.MIN_FINDER_PATTERN_RATIO=9.5/12,We.MAX_FINDER_PATTERN_RATIO=12.5/14;class Ge{constructor(e,t){this.value=e,this.checksumPortion=t}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+`(`+this.checksumPortion+`)`}equals(e){if(!(e instanceof Ge))return!1;let t=e;return this.value===t.value&&this.checksumPortion===t.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Ke{constructor(e,t,n,r,i){this.value=e,this.startEnd=t,this.value=e,this.startEnd=t,this.resultPoints=[],this.resultPoints.push(new P(n,i)),this.resultPoints.push(new P(r,i))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(e){if(!(e instanceof Ke))return!1;let t=e;return this.value===t.value}hashCode(){return this.value}}class qe{constructor(){}static getRSSvalue(e,t,n){let r=0;for(let t of e)r+=t;let i=0,a=0,o=e.length;for(let s=0;s<o-1;s++){let c;for(c=1,a|=1<<s;c<e[s];c++,a&=~(1<<s)){let e=qe.combins(r-c-1,o-s-2);if(n&&a===0&&r-c-(o-s-1)>=o-s-1&&(e-=qe.combins(r-c-(o-s),o-s-2)),o-s-1>1){let n=0;for(let e=r-c-(o-s-2);e>t;e--)n+=qe.combins(r-c-e-1,o-s-3);e-=n*(o-1-s)}else r-c>t&&e--;i+=e}r-=c}return i}static combins(e,t){let n,r;e-t>t?(r=t,n=e-t):(r=e-t,n=t);let i=1,a=1;for(let t=e;t>n;t--)i*=t,a<=r&&(i/=a,a++);for(;a<=r;)i/=a,a++;return i}}class Je{static buildBitArray(e){let t=e.length*2-1;e[e.length-1].getRightChar()??--t;let n=new v(12*t),r=0,i=e[0].getRightChar().getValue();for(let e=11;e>=0;--e)i&1<<e&&n.set(r),r++;for(let t=1;t<e.length;++t){let i=e[t],a=i.getLeftChar().getValue();for(let e=11;e>=0;--e)a&1<<e&&n.set(r),r++;if(i.getRightChar()!=null){let e=i.getRightChar().getValue();for(let t=11;t>=0;--t)e&1<<t&&n.set(r),r++}}return n}}class Ye{constructor(e,t){t?this.decodedInformation=null:(this.finished=e,this.decodedInformation=t)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Xe{constructor(e){this.newPosition=e}getNewPosition(){return this.newPosition}}class Ze extends Xe{constructor(e,t){super(e),this.value=t}getValue(){return this.value}isFNC1(){return this.value===Ze.FNC1}}Ze.FNC1=`$`;class Qe extends Xe{constructor(e,t,n){super(e),n?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=t}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class $e extends Xe{constructor(e,t,n){if(super(e),t<0||t>10||n<0||n>10)throw new x;this.firstDigit=t,this.secondDigit=n}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===$e.FNC1}isSecondDigitFNC1(){return this.secondDigit===$e.FNC1}isAnyFNC1(){return this.firstDigit===$e.FNC1||this.secondDigit===$e.FNC1}}$e.FNC1=10;class L{constructor(){}static parseFieldsInGeneralPurpose(e){if(!e)return null;if(e.length<2)throw new k;let t=e.substring(0,2);for(let n of L.TWO_DIGIT_DATA_LENGTH)if(n[0]===t)return n[1]===L.VARIABLE_LENGTH?L.processVariableAI(2,n[2],e):L.processFixedAI(2,n[1],e);if(e.length<3)throw new k;let n=e.substring(0,3);for(let t of L.THREE_DIGIT_DATA_LENGTH)if(t[0]===n)return t[1]===L.VARIABLE_LENGTH?L.processVariableAI(3,t[2],e):L.processFixedAI(3,t[1],e);for(let t of L.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(t[0]===n)return t[1]===L.VARIABLE_LENGTH?L.processVariableAI(4,t[2],e):L.processFixedAI(4,t[1],e);if(e.length<4)throw new k;let r=e.substring(0,4);for(let t of L.FOUR_DIGIT_DATA_LENGTH)if(t[0]===r)return t[1]===L.VARIABLE_LENGTH?L.processVariableAI(4,t[2],e):L.processFixedAI(4,t[1],e);throw new k}static processFixedAI(e,t,n){if(n.length<e)throw new k;let r=n.substring(0,e);if(n.length<e+t)throw new k;let i=n.substring(e,e+t),a=n.substring(e+t),o=`(`+r+`)`+i,s=L.parseFieldsInGeneralPurpose(a);return s==null?o:o+s}static processVariableAI(e,t,n){let r=n.substring(0,e),i;i=n.length<e+t?n.length:e+t;let a=n.substring(e,i),o=n.substring(i),s=`(`+r+`)`+a,c=L.parseFieldsInGeneralPurpose(o);return c==null?s:s+c}}L.VARIABLE_LENGTH=[],L.TWO_DIGIT_DATA_LENGTH=[[`00`,18],[`01`,14],[`02`,14],[`10`,L.VARIABLE_LENGTH,20],[`11`,6],[`12`,6],[`13`,6],[`15`,6],[`17`,6],[`20`,2],[`21`,L.VARIABLE_LENGTH,20],[`22`,L.VARIABLE_LENGTH,29],[`30`,L.VARIABLE_LENGTH,8],[`37`,L.VARIABLE_LENGTH,8],[`90`,L.VARIABLE_LENGTH,30],[`91`,L.VARIABLE_LENGTH,30],[`92`,L.VARIABLE_LENGTH,30],[`93`,L.VARIABLE_LENGTH,30],[`94`,L.VARIABLE_LENGTH,30],[`95`,L.VARIABLE_LENGTH,30],[`96`,L.VARIABLE_LENGTH,30],[`97`,L.VARIABLE_LENGTH,3],[`98`,L.VARIABLE_LENGTH,30],[`99`,L.VARIABLE_LENGTH,30]],L.THREE_DIGIT_DATA_LENGTH=[[`240`,L.VARIABLE_LENGTH,30],[`241`,L.VARIABLE_LENGTH,30],[`242`,L.VARIABLE_LENGTH,6],[`250`,L.VARIABLE_LENGTH,30],[`251`,L.VARIABLE_LENGTH,30],[`253`,L.VARIABLE_LENGTH,17],[`254`,L.VARIABLE_LENGTH,20],[`400`,L.VARIABLE_LENGTH,30],[`401`,L.VARIABLE_LENGTH,30],[`402`,17],[`403`,L.VARIABLE_LENGTH,30],[`410`,13],[`411`,13],[`412`,13],[`413`,13],[`414`,13],[`420`,L.VARIABLE_LENGTH,20],[`421`,L.VARIABLE_LENGTH,15],[`422`,3],[`423`,L.VARIABLE_LENGTH,15],[`424`,3],[`425`,3],[`426`,3]],L.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[[`310`,6],[`311`,6],[`312`,6],[`313`,6],[`314`,6],[`315`,6],[`316`,6],[`320`,6],[`321`,6],[`322`,6],[`323`,6],[`324`,6],[`325`,6],[`326`,6],[`327`,6],[`328`,6],[`329`,6],[`330`,6],[`331`,6],[`332`,6],[`333`,6],[`334`,6],[`335`,6],[`336`,6],[`340`,6],[`341`,6],[`342`,6],[`343`,6],[`344`,6],[`345`,6],[`346`,6],[`347`,6],[`348`,6],[`349`,6],[`350`,6],[`351`,6],[`352`,6],[`353`,6],[`354`,6],[`355`,6],[`356`,6],[`357`,6],[`360`,6],[`361`,6],[`362`,6],[`363`,6],[`364`,6],[`365`,6],[`366`,6],[`367`,6],[`368`,6],[`369`,6],[`390`,L.VARIABLE_LENGTH,15],[`391`,L.VARIABLE_LENGTH,18],[`392`,L.VARIABLE_LENGTH,15],[`393`,L.VARIABLE_LENGTH,18],[`703`,L.VARIABLE_LENGTH,30]],L.FOUR_DIGIT_DATA_LENGTH=[[`7001`,13],[`7002`,L.VARIABLE_LENGTH,30],[`7003`,10],[`8001`,14],[`8002`,L.VARIABLE_LENGTH,20],[`8003`,L.VARIABLE_LENGTH,30],[`8004`,L.VARIABLE_LENGTH,30],[`8005`,6],[`8006`,18],[`8007`,L.VARIABLE_LENGTH,30],[`8008`,L.VARIABLE_LENGTH,12],[`8018`,18],[`8020`,L.VARIABLE_LENGTH,25],[`8100`,6],[`8101`,10],[`8102`,2],[`8110`,L.VARIABLE_LENGTH,70],[`8200`,L.VARIABLE_LENGTH,70]];class et{constructor(e){this.buffer=new D,this.information=e}decodeAllCodes(e,t){let n=t,r=null;do{let t=this.decodeGeneralPurposeField(n,r),i=L.parseFieldsInGeneralPurpose(t.getNewString());if(i!=null&&e.append(i),r=t.isRemaining()?``+t.getRemainingValue():null,n===t.getNewPosition())break;n=t.getNewPosition()}while(!0);return e.toString()}isStillNumeric(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(let t=e;t<e+3;++t)if(this.information.get(t))return!0;return this.information.get(e+3)}decodeNumeric(e){if(e+7>this.information.getSize()){let t=this.extractNumericValueFromBitArray(e,4);return t===0?new $e(this.information.getSize(),$e.FNC1,$e.FNC1):new $e(this.information.getSize(),t-1,$e.FNC1)}let t=this.extractNumericValueFromBitArray(e,7),n=(t-8)/11,r=(t-8)%11;return new $e(e+7,n,r)}extractNumericValueFromBitArray(e,t){return et.extractNumericValueFromBitArray(this.information,e,t)}static extractNumericValueFromBitArray(e,t,n){let r=0;for(let i=0;i<n;++i)e.get(t+i)&&(r|=1<<n-i-1);return r}decodeGeneralPurposeField(e,t){this.buffer.setLengthToZero(),t!=null&&this.buffer.append(t),this.current.setPosition(e);let n=this.parseBlocks();return n!=null&&n.isRemaining()?new Qe(this.current.getPosition(),this.buffer.toString(),n.getRemainingValue()):new Qe(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let e,t;do{let n=this.current.getPosition();if(this.current.isAlpha()?(t=this.parseAlphaBlock(),e=t.isFinished()):this.current.isIsoIec646()?(t=this.parseIsoIec646Block(),e=t.isFinished()):(t=this.parseNumericBlock(),e=t.isFinished()),n===this.current.getPosition()&&!e)break}while(!e);return t.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){let t;return t=e.isSecondDigitFNC1()?new Qe(this.current.getPosition(),this.buffer.toString()):new Qe(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new Ye(!0,t)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1())return new Ye(!0,new Qe(this.current.getPosition(),this.buffer.toString()));this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Ye(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1())return new Ye(!0,new Qe(this.current.getPosition(),this.buffer.toString()));this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Ye(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1())return new Ye(!0,new Qe(this.current.getPosition(),this.buffer.toString()));this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Ye(!1)}isStillIsoIec646(e){if(e+5>this.information.getSize())return!1;let t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+7>this.information.getSize())return!1;let n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<116)return!0;if(e+8>this.information.getSize())return!1;let r=this.extractNumericValueFromBitArray(e,8);return r>=232&&r<253}decodeIsoIec646(e){let t=this.extractNumericValueFromBitArray(e,5);if(t===15)return new Ze(e+5,Ze.FNC1);if(t>=5&&t<15)return new Ze(e+5,`0`+(t-5));let n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<90)return new Ze(e+7,``+(n+1));if(n>=90&&n<116)return new Ze(e+7,``+(n+7));let r=this.extractNumericValueFromBitArray(e,8),i;switch(r){case 232:i=`!`;break;case 233:i=`"`;break;case 234:i=`%`;break;case 235:i=`&`;break;case 236:i=`'`;break;case 237:i=`(`;break;case 238:i=`)`;break;case 239:i=`*`;break;case 240:i=`+`;break;case 241:i=`,`;break;case 242:i=`-`;break;case 243:i=`.`;break;case 244:i=`/`;break;case 245:i=`:`;break;case 246:i=`;`;break;case 247:i=`<`;break;case 248:i=`=`;break;case 249:i=`>`;break;case 250:i=`?`;break;case 251:i=`_`;break;case 252:i=` `;break;default:throw new x}return new Ze(e+8,i)}isStillAlpha(e){if(e+5>this.information.getSize())return!1;let t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+6>this.information.getSize())return!1;let n=this.extractNumericValueFromBitArray(e,6);return n>=16&&n<63}decodeAlphanumeric(e){let t=this.extractNumericValueFromBitArray(e,5);if(t===15)return new Ze(e+5,Ze.FNC1);if(t>=5&&t<15)return new Ze(e+5,`0`+(t-5));let n=this.extractNumericValueFromBitArray(e,6);if(n>=32&&n<58)return new Ze(e+6,``+(n+33));let r;switch(n){case 58:r=`*`;break;case 59:r=`,`;break;case 60:r=`-`;break;case 61:r=`.`;break;case 62:r=`/`;break;default:throw new he(`Decoding invalid alphanumeric value: `+n)}return new Ze(e+6,r)}isAlphaTo646ToAlphaLatch(e){if(e+1>this.information.getSize())return!1;for(let t=0;t<5&&t+e<this.information.getSize();++t)if(t===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+t))return!1;return!0}isAlphaOr646ToNumericLatch(e){if(e+3>this.information.getSize())return!1;for(let t=e;t<e+3;++t)if(this.information.get(t))return!1;return!0}isNumericToAlphaNumericLatch(e){if(e+1>this.information.getSize())return!1;for(let t=0;t<4&&t+e<this.information.getSize();++t)if(this.information.get(e+t))return!1;return!0}}class tt{constructor(e){this.information=e,this.generalDecoder=new et(e)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class nt extends tt{constructor(e){super(e)}encodeCompressedGtin(e,t){e.append(`(01)`);let n=e.length();e.append(`9`),this.encodeCompressedGtinWithoutAI(e,t,n)}encodeCompressedGtinWithoutAI(e,t,n){for(let n=0;n<4;++n){let r=this.getGeneralDecoder().extractNumericValueFromBitArray(t+10*n,10);r/100==0&&e.append(`0`),r/10==0&&e.append(`0`),e.append(r)}nt.appendCheckDigit(e,n)}static appendCheckDigit(e,t){let n=0;for(let r=0;r<13;r++){let i=e.charAt(r+t).charCodeAt(0)-48;n+=r&1?i:3*i}n=10-n%10,n===10&&(n=0),e.append(n)}}nt.GTIN_SIZE=40;class rt extends nt{constructor(e){super(e)}parseInformation(){let e=new D;e.append(`(01)`);let t=e.length(),n=this.getGeneralDecoder().extractNumericValueFromBitArray(rt.HEADER_SIZE,4);return e.append(n),this.encodeCompressedGtinWithoutAI(e,rt.HEADER_SIZE+4,t),this.getGeneralDecoder().decodeAllCodes(e,rt.HEADER_SIZE+44)}}rt.HEADER_SIZE=4;class it extends tt{constructor(e){super(e)}parseInformation(){let e=new D;return this.getGeneralDecoder().decodeAllCodes(e,it.HEADER_SIZE)}}it.HEADER_SIZE=5;class at extends nt{constructor(e){super(e)}encodeCompressedWeight(e,t,n){let r=this.getGeneralDecoder().extractNumericValueFromBitArray(t,n);this.addWeightCode(e,r);let i=this.checkWeight(r),a=1e5;for(let t=0;t<5;++t)i/a===0&&e.append(`0`),a/=10;e.append(i)}}class ot extends at{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()!=ot.HEADER_SIZE+at.GTIN_SIZE+ot.WEIGHT_SIZE)throw new k;let e=new D;return this.encodeCompressedGtin(e,ot.HEADER_SIZE),this.encodeCompressedWeight(e,ot.HEADER_SIZE+at.GTIN_SIZE,ot.WEIGHT_SIZE),e.toString()}}ot.HEADER_SIZE=5,ot.WEIGHT_SIZE=15;class st extends ot{constructor(e){super(e)}addWeightCode(e,t){e.append(`(3103)`)}checkWeight(e){return e}}class ct extends ot{constructor(e){super(e)}addWeightCode(e,t){t<1e4?e.append(`(3202)`):e.append(`(3203)`)}checkWeight(e){return e<1e4?e:e-1e4}}class lt extends nt{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<lt.HEADER_SIZE+nt.GTIN_SIZE)throw new k;let e=new D;this.encodeCompressedGtin(e,lt.HEADER_SIZE);let t=this.getGeneralDecoder().extractNumericValueFromBitArray(lt.HEADER_SIZE+nt.GTIN_SIZE,lt.LAST_DIGIT_SIZE);e.append(`(392`),e.append(t),e.append(`)`);let n=this.getGeneralDecoder().decodeGeneralPurposeField(lt.HEADER_SIZE+nt.GTIN_SIZE+lt.LAST_DIGIT_SIZE,null);return e.append(n.getNewString()),e.toString()}}lt.HEADER_SIZE=8,lt.LAST_DIGIT_SIZE=2;class ut extends nt{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<ut.HEADER_SIZE+nt.GTIN_SIZE)throw new k;let e=new D;this.encodeCompressedGtin(e,ut.HEADER_SIZE);let t=this.getGeneralDecoder().extractNumericValueFromBitArray(ut.HEADER_SIZE+nt.GTIN_SIZE,ut.LAST_DIGIT_SIZE);e.append(`(393`),e.append(t),e.append(`)`);let n=this.getGeneralDecoder().extractNumericValueFromBitArray(ut.HEADER_SIZE+nt.GTIN_SIZE+ut.LAST_DIGIT_SIZE,ut.FIRST_THREE_DIGITS_SIZE);n/100==0&&e.append(`0`),n/10==0&&e.append(`0`),e.append(n);let r=this.getGeneralDecoder().decodeGeneralPurposeField(ut.HEADER_SIZE+nt.GTIN_SIZE+ut.LAST_DIGIT_SIZE+ut.FIRST_THREE_DIGITS_SIZE,null);return e.append(r.getNewString()),e.toString()}}ut.HEADER_SIZE=8,ut.LAST_DIGIT_SIZE=2,ut.FIRST_THREE_DIGITS_SIZE=10;class dt extends at{constructor(e,t,n){super(e),this.dateCode=n,this.firstAIdigits=t}parseInformation(){if(this.getInformation().getSize()!=dt.HEADER_SIZE+dt.GTIN_SIZE+dt.WEIGHT_SIZE+dt.DATE_SIZE)throw new k;let e=new D;return this.encodeCompressedGtin(e,dt.HEADER_SIZE),this.encodeCompressedWeight(e,dt.HEADER_SIZE+dt.GTIN_SIZE,dt.WEIGHT_SIZE),this.encodeCompressedDate(e,dt.HEADER_SIZE+dt.GTIN_SIZE+dt.WEIGHT_SIZE),e.toString()}encodeCompressedDate(e,t){let n=this.getGeneralDecoder().extractNumericValueFromBitArray(t,dt.DATE_SIZE);if(n==38400)return;e.append(`(`),e.append(this.dateCode),e.append(`)`);let r=n%32;n/=32;let i=n%12+1;n/=12;let a=n;a/10==0&&e.append(`0`),e.append(a),i/10==0&&e.append(`0`),e.append(i),r/10==0&&e.append(`0`),e.append(r)}addWeightCode(e,t){e.append(`(`),e.append(this.firstAIdigits),e.append(t/1e5),e.append(`)`)}checkWeight(e){return e%1e5}}dt.HEADER_SIZE=8,dt.WEIGHT_SIZE=20,dt.DATE_SIZE=16;function ft(e){try{if(e.get(1))return new rt(e);if(!e.get(2))return new it(e);switch(et.extractNumericValueFromBitArray(e,1,4)){case 4:return new st(e);case 5:return new ct(e)}switch(et.extractNumericValueFromBitArray(e,1,5)){case 12:return new lt(e);case 13:return new ut(e)}switch(et.extractNumericValueFromBitArray(e,1,7)){case 56:return new dt(e,`310`,`11`);case 57:return new dt(e,`320`,`11`);case 58:return new dt(e,`310`,`13`);case 59:return new dt(e,`320`,`13`);case 60:return new dt(e,`310`,`15`);case 61:return new dt(e,`320`,`15`);case 62:return new dt(e,`310`,`17`);case 63:return new dt(e,`320`,`17`)}}catch(t){throw console.log(t),new he(`unknown decoder: `+e)}}class pt{constructor(e,t,n,r){this.leftchar=e,this.rightchar=t,this.finderpattern=n,this.maybeLast=r}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return`[ `+this.leftchar+`, `+this.rightchar+` : `+(this.finderpattern==null?`null`:this.finderpattern.getValue())+` ]`}static equals(e,t){return e instanceof pt?pt.equalsOrNull(e.leftchar,t.leftchar)&&pt.equalsOrNull(e.rightchar,t.rightchar)&&pt.equalsOrNull(e.finderpattern,t.finderpattern):!1}static equalsOrNull(e,t){return e===null?t===null:pt.equals(e,t)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class mt{constructor(e,t,n){this.pairs=e,this.rowNumber=t,this.wasReversed=n}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(e){return this.checkEqualitity(this,e)}toString(){return`{ `+this.pairs+` }`}equals(e,t){return e instanceof mt?this.checkEqualitity(e,t)&&e.wasReversed===t.wasReversed:!1}checkEqualitity(e,t){if(!e||!t)return;let n;return e.forEach((e,r)=>{t.forEach(t=>{e.getLeftChar().getValue()===t.getLeftChar().getValue()&&e.getRightChar().getValue()===t.getRightChar().getValue()&&e.getFinderPatter().getValue()===t.getFinderPatter().getValue()&&(n=!0)})}),n}}class R extends We{constructor(e){super(...arguments),this.pairs=Array(R.MAX_PAIRS),this.rows=[],this.startEnd=[2],this.verbose=e===!0}decodeRow(e,t,n){this.pairs.length=0,this.startFromEven=!1;try{return R.constructResult(this.decodeRow2pairs(e,t))}catch(e){this.verbose&&console.log(e)}return this.pairs.length=0,this.startFromEven=!0,R.constructResult(this.decodeRow2pairs(e,t))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(e,t){let n=!1;for(;!n;)try{this.pairs.push(this.retrieveNextPair(t,this.pairs,e))}catch(e){if(e instanceof k){if(!this.pairs.length)throw new k;n=!0}}if(this.checkChecksum())return this.pairs;let r;if(r=!!this.rows.length,this.storeRow(e,!1),r){let e=this.checkRowsBoolean(!1);if(e!=null||(e=this.checkRowsBoolean(!0),e!=null))return e}throw new k}checkRowsBoolean(e){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,e&&(this.rows=this.rows.reverse());let t=null;try{t=this.checkRows([],0)}catch(e){this.verbose&&console.log(e)}return e&&(this.rows=this.rows.reverse()),t}checkRows(e,t){for(let n=t;n<this.rows.length;n++){let t=this.rows[n];this.pairs.length=0;for(let t of e)this.pairs.push(t.getPairs());if(this.pairs.push(t.getPairs()),!R.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let r=Array(e);r.push(t);try{return this.checkRows(r,n+1)}catch(e){this.verbose&&console.log(e)}}throw new k}static isValidSequence(e){for(let t of R.FINDER_PATTERN_SEQUENCES){if(e.length>t.length)continue;let n=!0;for(let r=0;r<e.length;r++)if(e[r].getFinderPattern().getValue()!=t[r]){n=!1;break}if(n)return!0}return!1}storeRow(e,t){let n=0,r=!1,i=!1;for(;n<this.rows.length;){let t=this.rows[n];if(t.getRowNumber()>e){i=t.isEquivalent(this.pairs);break}r=t.isEquivalent(this.pairs),n++}i||r||R.isPartialRow(this.pairs,this.rows)||(this.rows.push(n,new mt(this.pairs,e,t)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(e,t){for(let n of t)if(n.getPairs().length!==e.length){for(let t of n.getPairs())for(let n of e)if(pt.equals(t,n))break}}static isPartialRow(e,t){for(let n of t){let t=!0;for(let r of e){let e=!1;for(let t of n.getPairs())if(r.equals(t)){e=!0;break}if(!e){t=!1;break}}if(t)return!0}return!1}getRows(){return this.rows}static constructResult(e){let t=ft(Je.buildBitArray(e)).parseInformation(),n=e[0].getFinderPattern().getResultPoints(),r=e[e.length-1].getFinderPattern().getResultPoints();return new ae(t,null,null,[n[0],n[1],r[0],r[1]],N.RSS_EXPANDED,null)}checkChecksum(){let e=this.pairs.get(0),t=e.getLeftChar(),n=e.getRightChar();if(n==null)return!1;let r=n.getChecksumPortion(),i=2;for(let e=1;e<this.pairs.size();++e){let t=this.pairs.get(e);r+=t.getLeftChar().getChecksumPortion(),i++;let n=t.getRightChar();n!=null&&(r+=n.getChecksumPortion(),i++)}return r%=211,211*(i-4)+r==t.getValue()}static getNextSecondBar(e,t){let n;return e.get(t)?(n=e.getNextUnset(t),n=e.getNextSet(n)):(n=e.getNextSet(t),n=e.getNextUnset(n)),n}retrieveNextPair(e,t,n){let r=t.length%2==0;this.startFromEven&&(r=!r);let i,a=!0,o=-1;do this.findNextPair(e,t,o),i=this.parseFoundFinderPattern(e,n,r),i==null?o=R.getNextSecondBar(e,this.startEnd[0]):a=!1;while(a);let s=this.decodeDataCharacter(e,i,r,!0);if(!this.isEmptyPair(t)&&t[t.length-1].mustBeLast())throw new k;let c;try{c=this.decodeDataCharacter(e,i,r,!1)}catch(e){c=null,this.verbose&&console.log(e)}return new pt(s,c,i,!0)}isEmptyPair(e){return e.length===0}findNextPair(e,t,n){let r=this.getDecodeFinderCounters();r[0]=0,r[1]=0,r[2]=0,r[3]=0;let i=e.getSize(),a;a=n>=0?n:this.isEmptyPair(t)?0:t[t.length-1].getFinderPattern().getStartEnd()[1];let o=t.length%2!=0;this.startFromEven&&(o=!o);let s=!1;for(;a<i&&(s=!e.get(a),s);)a++;let c=0,l=a;for(let t=a;t<i;t++)if(e.get(t)!=s)r[c]++;else{if(c==3){if(o&&R.reverseCounters(r),R.isFinderPattern(r)){this.startEnd[0]=l,this.startEnd[1]=t;return}o&&R.reverseCounters(r),l+=r[0]+r[1],r[0]=r[2],r[1]=r[3],r[2]=0,r[3]=0,c--}else c++;r[c]=1,s=!s}throw new k}static reverseCounters(e){let t=e.length;for(let n=0;n<t/2;++n){let r=e[n];e[n]=e[t-n-1],e[t-n-1]=r}}parseFoundFinderPattern(e,t,n){let r,i,a;if(n){let t=this.startEnd[0]-1;for(;t>=0&&!e.get(t);)t--;t++,r=this.startEnd[0]-t,i=t,a=this.startEnd[1]}else i=this.startEnd[0],a=e.getNextUnset(this.startEnd[1]+1),r=a-this.startEnd[1];let o=this.getDecodeFinderCounters();p.arraycopy(o,0,o,1,o.length-1),o[0]=r;let s;try{s=this.parseFinderValue(o,R.FINDER_PATTERNS)}catch{return null}return new Ke(s,[i,a],i,a,t)}decodeDataCharacter(e,t,n,r){let i=this.getDataCharacterCounters();for(let e=0;e<i.length;e++)i[e]=0;if(r)R.recordPatternInReverse(e,t.getStartEnd()[0],i);else{R.recordPattern(e,t.getStartEnd()[1],i);for(let e=0,t=i.length-1;e<t;e++,t--){let n=i[e];i[e]=i[t],i[t]=n}}let a=ye.sum(new Int32Array(i))/17,o=(t.getStartEnd()[1]-t.getStartEnd()[0])/15;if(Math.abs(a-o)/o>.3)throw new k;let s=this.getOddCounts(),c=this.getEvenCounts(),l=this.getOddRoundingErrors(),u=this.getEvenRoundingErrors();for(let e=0;e<i.length;e++){let t=1*i[e]/a,n=t+.5;if(n<1){if(t<.3)throw new k;n=1}else if(n>8){if(t>8.7)throw new k;n=8}let r=e/2;e&1?(c[r]=n,u[r]=t-n):(s[r]=n,l[r]=t-n)}this.adjustOddEvenCounts(17);let d=4*t.getValue()+(n?0:2)+(r?0:1)-1,f=0,p=0;for(let e=s.length-1;e>=0;e--){if(R.isNotA1left(t,n,r)){let t=R.WEIGHTS[d][2*e];p+=s[e]*t}f+=s[e]}let m=0;for(let e=c.length-1;e>=0;e--)if(R.isNotA1left(t,n,r)){let t=R.WEIGHTS[d][2*e+1];m+=c[e]*t}let h=p+m;if(f&1||f>13||f<4)throw new k;let g=(13-f)/2,_=R.SYMBOL_WIDEST[g],v=9-_,y=qe.getRSSvalue(s,_,!0),b=qe.getRSSvalue(c,v,!1),x=R.EVEN_TOTAL_SUBSET[g],S=R.GSUM[g];return new Ge(y*x+b+S,h)}static isNotA1left(e,t,n){return!(e.getValue()==0&&t&&n)}adjustOddEvenCounts(e){let t=ye.sum(new Int32Array(this.getOddCounts())),n=ye.sum(new Int32Array(this.getEvenCounts())),r=!1,i=!1;t>13?i=!0:t<4&&(r=!0);let a=!1,o=!1;n>13?o=!0:n<4&&(a=!0);let s=t+n-e,c=(t&1)==1,l=(n&1)==0;if(s==1)if(c){if(l)throw new k;i=!0}else{if(!l)throw new k;o=!0}else if(s==-1)if(c){if(l)throw new k;r=!0}else{if(!l)throw new k;a=!0}else if(s==0){if(c){if(!l)throw new k;t<n?(r=!0,o=!0):(i=!0,a=!0)}else if(l)throw new k}else throw new k;if(r){if(i)throw new k;R.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(i&&R.decrement(this.getOddCounts(),this.getOddRoundingErrors()),a){if(o)throw new k;R.increment(this.getEvenCounts(),this.getOddRoundingErrors())}o&&R.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}R.SYMBOL_WIDEST=[7,5,4,3,1],R.EVEN_TOTAL_SUBSET=[4,20,52,104,204],R.GSUM=[0,348,1388,2948,3988],R.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],R.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],R.FINDER_PAT_A=0,R.FINDER_PAT_B=1,R.FINDER_PAT_C=2,R.FINDER_PAT_D=3,R.FINDER_PAT_E=4,R.FINDER_PAT_F=5,R.FINDER_PATTERN_SEQUENCES=[[R.FINDER_PAT_A,R.FINDER_PAT_A],[R.FINDER_PAT_A,R.FINDER_PAT_B,R.FINDER_PAT_B],[R.FINDER_PAT_A,R.FINDER_PAT_C,R.FINDER_PAT_B,R.FINDER_PAT_D],[R.FINDER_PAT_A,R.FINDER_PAT_E,R.FINDER_PAT_B,R.FINDER_PAT_D,R.FINDER_PAT_C],[R.FINDER_PAT_A,R.FINDER_PAT_E,R.FINDER_PAT_B,R.FINDER_PAT_D,R.FINDER_PAT_D,R.FINDER_PAT_F],[R.FINDER_PAT_A,R.FINDER_PAT_E,R.FINDER_PAT_B,R.FINDER_PAT_D,R.FINDER_PAT_E,R.FINDER_PAT_F,R.FINDER_PAT_F],[R.FINDER_PAT_A,R.FINDER_PAT_A,R.FINDER_PAT_B,R.FINDER_PAT_B,R.FINDER_PAT_C,R.FINDER_PAT_C,R.FINDER_PAT_D,R.FINDER_PAT_D],[R.FINDER_PAT_A,R.FINDER_PAT_A,R.FINDER_PAT_B,R.FINDER_PAT_B,R.FINDER_PAT_C,R.FINDER_PAT_C,R.FINDER_PAT_D,R.FINDER_PAT_E,R.FINDER_PAT_E],[R.FINDER_PAT_A,R.FINDER_PAT_A,R.FINDER_PAT_B,R.FINDER_PAT_B,R.FINDER_PAT_C,R.FINDER_PAT_C,R.FINDER_PAT_D,R.FINDER_PAT_E,R.FINDER_PAT_F,R.FINDER_PAT_F],[R.FINDER_PAT_A,R.FINDER_PAT_A,R.FINDER_PAT_B,R.FINDER_PAT_B,R.FINDER_PAT_C,R.FINDER_PAT_D,R.FINDER_PAT_D,R.FINDER_PAT_E,R.FINDER_PAT_E,R.FINDER_PAT_F,R.FINDER_PAT_F]],R.MAX_PAIRS=11;class ht extends Ge{constructor(e,t,n){super(e,t),this.count=0,this.finderPattern=n}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class gt extends We{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(e,t,n){let r=this.decodePair(t,!1,e,n);gt.addOrTally(this.possibleLeftPairs,r),t.reverse();let i=this.decodePair(t,!0,e,n);gt.addOrTally(this.possibleRightPairs,i),t.reverse();for(let e of this.possibleLeftPairs)if(e.getCount()>1){for(let t of this.possibleRightPairs)if(t.getCount()>1&&gt.checkChecksum(e,t))return gt.constructResult(e,t)}throw new k}static addOrTally(e,t){if(t==null)return;let n=!1;for(let r of e)if(r.getValue()===t.getValue()){r.incrementCount(),n=!0;break}n||e.push(t)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(e,t){let n=4537077*e.getValue()+t.getValue(),r=new String(n).toString(),i=new D;for(let e=13-r.length;e>0;e--)i.append(`0`);i.append(r);let a=0;for(let e=0;e<13;e++){let t=i.charAt(e).charCodeAt(0)-48;a+=e&1?t:3*t}a=10-a%10,a===10&&(a=0),i.append(a.toString());let o=e.getFinderPattern().getResultPoints(),s=t.getFinderPattern().getResultPoints();return new ae(i.toString(),null,0,[o[0],o[1],s[0],s[1]],N.RSS_14,new Date().getTime())}static checkChecksum(e,t){let n=(e.getChecksumPortion()+16*t.getChecksumPortion())%79,r=9*e.getFinderPattern().getValue()+t.getFinderPattern().getValue();return r>72&&r--,r>8&&r--,n===r}decodePair(e,t,n,r){try{let i=this.findFinderPattern(e,t),a=this.parseFoundFinderPattern(e,n,t,i),o=r==null?null:r.get(b.NEED_RESULT_POINT_CALLBACK);if(o!=null){let r=(i[0]+i[1])/2;t&&(r=e.getSize()-1-r),o.foundPossibleResultPoint(new P(r,n))}let s=this.decodeDataCharacter(e,a,!0),c=this.decodeDataCharacter(e,a,!1);return new ht(1597*s.getValue()+c.getValue(),s.getChecksumPortion()+4*c.getChecksumPortion(),a)}catch{return null}}decodeDataCharacter(e,t,n){let r=this.getDataCharacterCounters();for(let e=0;e<r.length;e++)r[e]=0;if(n)Me.recordPatternInReverse(e,t.getStartEnd()[0],r);else{Me.recordPattern(e,t.getStartEnd()[1]+1,r);for(let e=0,t=r.length-1;e<t;e++,t--){let n=r[e];r[e]=r[t],r[t]=n}}let i=n?16:15,a=ye.sum(new Int32Array(r))/i,o=this.getOddCounts(),s=this.getEvenCounts(),c=this.getOddRoundingErrors(),l=this.getEvenRoundingErrors();for(let e=0;e<r.length;e++){let t=r[e]/a,n=Math.floor(t+.5);n<1?n=1:n>8&&(n=8);let i=Math.floor(e/2);e&1?(s[i]=n,l[i]=t-n):(o[i]=n,c[i]=t-n)}this.adjustOddEvenCounts(n,i);let u=0,d=0;for(let e=o.length-1;e>=0;e--)d*=9,d+=o[e],u+=o[e];let f=0,p=0;for(let e=s.length-1;e>=0;e--)f*=9,f+=s[e],p+=s[e];let m=d+3*f;if(n){if(u&1||u>12||u<4)throw new k;let e=(12-u)/2,t=gt.OUTSIDE_ODD_WIDEST[e],n=9-t,r=qe.getRSSvalue(o,t,!1),i=qe.getRSSvalue(s,n,!0),a=gt.OUTSIDE_EVEN_TOTAL_SUBSET[e],c=gt.OUTSIDE_GSUM[e];return new Ge(r*a+i+c,m)}else{if(p&1||p>10||p<4)throw new k;let e=(10-p)/2,t=gt.INSIDE_ODD_WIDEST[e],n=9-t,r=qe.getRSSvalue(o,t,!0),i=qe.getRSSvalue(s,n,!1),a=gt.INSIDE_ODD_TOTAL_SUBSET[e],c=gt.INSIDE_GSUM[e];return new Ge(i*a+r+c,m)}}findFinderPattern(e,t){let n=this.getDecodeFinderCounters();n[0]=0,n[1]=0,n[2]=0,n[3]=0;let r=e.getSize(),i=!1,a=0;for(;a<r&&(i=!e.get(a),t!==i);)a++;let o=0,s=a;for(let t=a;t<r;t++)if(e.get(t)!==i)n[o]++;else{if(o===3){if(We.isFinderPattern(n))return[s,t];s+=n[0]+n[1],n[0]=n[2],n[1]=n[3],n[2]=0,n[3]=0,o--}else o++;n[o]=1,i=!i}throw new k}parseFoundFinderPattern(e,t,n,r){let i=e.get(r[0]),a=r[0]-1;for(;a>=0&&i!==e.get(a);)a--;a++;let o=r[0]-a,s=this.getDecodeFinderCounters(),c=new Int32Array(s.length);p.arraycopy(s,0,c,1,s.length-1),c[0]=o;let l=this.parseFinderValue(c,gt.FINDER_PATTERNS),u=a,d=r[1];return n&&(u=e.getSize()-1-u,d=e.getSize()-1-d),new Ke(l,[a,r[1]],u,d,t)}adjustOddEvenCounts(e,t){let n=ye.sum(new Int32Array(this.getOddCounts())),r=ye.sum(new Int32Array(this.getEvenCounts())),i=!1,a=!1,o=!1,s=!1;e?(n>12?a=!0:n<4&&(i=!0),r>12?s=!0:r<4&&(o=!0)):(n>11?a=!0:n<5&&(i=!0),r>10?s=!0:r<4&&(o=!0));let c=n+r-t,l=(n&1)==(e?1:0),u=(r&1)==1;if(c===1)if(l){if(u)throw new k;a=!0}else{if(!u)throw new k;s=!0}else if(c===-1)if(l){if(u)throw new k;i=!0}else{if(!u)throw new k;o=!0}else if(c===0){if(l){if(!u)throw new k;n<r?(i=!0,s=!0):(a=!0,o=!0)}else if(u)throw new k}else throw new k;if(i){if(a)throw new k;We.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(a&&We.decrement(this.getOddCounts(),this.getOddRoundingErrors()),o){if(s)throw new k;We.increment(this.getEvenCounts(),this.getOddRoundingErrors())}s&&We.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}gt.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],gt.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],gt.OUTSIDE_GSUM=[0,161,961,2015,2715],gt.INSIDE_GSUM=[0,336,1036,1516],gt.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],gt.INSIDE_ODD_WIDEST=[2,4,6,8],gt.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class _t extends Me{constructor(e,t){super(),this.readers=[],this.verbose=t===!0;let n=e?e.get(b.POSSIBLE_FORMATS):null,r=e&&e.get(b.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;n?((n.includes(N.EAN_13)||n.includes(N.UPC_A)||n.includes(N.EAN_8)||n.includes(N.UPC_E))&&this.readers.push(new Ue(e)),n.includes(N.CODE_39)&&this.readers.push(new Ne(r)),n.includes(N.CODE_128)&&this.readers.push(new F),n.includes(N.ITF)&&this.readers.push(new Pe),n.includes(N.RSS_14)&&this.readers.push(new gt),n.includes(N.RSS_EXPANDED)&&this.readers.push(new R(this.verbose))):(this.readers.push(new Ue(e)),this.readers.push(new Ne),this.readers.push(new Ue(e)),this.readers.push(new F),this.readers.push(new Pe),this.readers.push(new gt),this.readers.push(new R(this.verbose)))}decodeRow(e,t,n){for(let r=0;r<this.readers.length;r++)try{return this.readers[r].decodeRow(e,t,n)}catch{}throw new k}reset(){this.readers.forEach(e=>e.reset())}}class vt extends M{constructor(e=500,t){super(new _t(t),e,t)}}class z{constructor(e,t,n){this.ecCodewords=e,this.ecBlocks=[t],n&&this.ecBlocks.push(n)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class yt{constructor(e,t){this.count=e,this.dataCodewords=t}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class bt{constructor(e,t,n,r,i,a){this.versionNumber=e,this.symbolSizeRows=t,this.symbolSizeColumns=n,this.dataRegionSizeRows=r,this.dataRegionSizeColumns=i,this.ecBlocks=a;let o=0,s=a.getECCodewords(),c=a.getECBlocks();for(let e of c)o+=e.getCount()*(e.getDataCodewords()+s);this.totalCodewords=o}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(e,t){if(e&1||t&1)throw new x;for(let n of bt.VERSIONS)if(n.symbolSizeRows===e&&n.symbolSizeColumns===t)return n;throw new x}toString(){return``+this.versionNumber}static buildVersions(){return[new bt(1,10,10,8,8,new z(5,new yt(1,3))),new bt(2,12,12,10,10,new z(7,new yt(1,5))),new bt(3,14,14,12,12,new z(10,new yt(1,8))),new bt(4,16,16,14,14,new z(12,new yt(1,12))),new bt(5,18,18,16,16,new z(14,new yt(1,18))),new bt(6,20,20,18,18,new z(18,new yt(1,22))),new bt(7,22,22,20,20,new z(20,new yt(1,30))),new bt(8,24,24,22,22,new z(24,new yt(1,36))),new bt(9,26,26,24,24,new z(28,new yt(1,44))),new bt(10,32,32,14,14,new z(36,new yt(1,62))),new bt(11,36,36,16,16,new z(42,new yt(1,86))),new bt(12,40,40,18,18,new z(48,new yt(1,114))),new bt(13,44,44,20,20,new z(56,new yt(1,144))),new bt(14,48,48,22,22,new z(68,new yt(1,174))),new bt(15,52,52,24,24,new z(42,new yt(2,102))),new bt(16,64,64,14,14,new z(56,new yt(2,140))),new bt(17,72,72,16,16,new z(36,new yt(4,92))),new bt(18,80,80,18,18,new z(48,new yt(4,114))),new bt(19,88,88,20,20,new z(56,new yt(4,144))),new bt(20,96,96,22,22,new z(68,new yt(4,174))),new bt(21,104,104,24,24,new z(56,new yt(6,136))),new bt(22,120,120,18,18,new z(68,new yt(6,175))),new bt(23,132,132,20,20,new z(62,new yt(8,163))),new bt(24,144,144,22,22,new z(62,new yt(8,156),new yt(2,155))),new bt(25,8,18,6,16,new z(7,new yt(1,5))),new bt(26,8,32,6,14,new z(11,new yt(1,10))),new bt(27,12,26,10,24,new z(14,new yt(1,16))),new bt(28,12,36,10,16,new z(18,new yt(1,22))),new bt(29,16,36,14,16,new z(24,new yt(1,32))),new bt(30,16,48,14,22,new z(28,new yt(1,49)))]}}bt.VERSIONS=bt.buildVersions();class xt{constructor(e){let t=e.getHeight();if(t<8||t>144||t&1)throw new x;this.version=xt.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new O(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(e){let t=e.getHeight(),n=e.getWidth();return bt.getVersionForDimensions(t,n)}readCodewords(){let e=new Int8Array(this.version.getTotalCodewords()),t=0,n=4,r=0,i=this.mappingBitMatrix.getHeight(),a=this.mappingBitMatrix.getWidth(),o=!1,s=!1,c=!1,l=!1;do if(n===i&&r===0&&!o)e[t++]=this.readCorner1(i,a)&255,n-=2,r+=2,o=!0;else if(n===i-2&&r===0&&a&3&&!s)e[t++]=this.readCorner2(i,a)&255,n-=2,r+=2,s=!0;else if(n===i+4&&r===2&&!(a&7)&&!c)e[t++]=this.readCorner3(i,a)&255,n-=2,r+=2,c=!0;else if(n===i-2&&r===0&&(a&7)==4&&!l)e[t++]=this.readCorner4(i,a)&255,n-=2,r+=2,l=!0;else{do n<i&&r>=0&&!this.readMappingMatrix.get(r,n)&&(e[t++]=this.readUtah(n,r,i,a)&255),n-=2,r+=2;while(n>=0&&r<a);n+=1,r+=3;do n>=0&&r<a&&!this.readMappingMatrix.get(r,n)&&(e[t++]=this.readUtah(n,r,i,a)&255),n+=2,r-=2;while(n<i&&r>=0);n+=3,r+=1}while(n<i||r<a);if(t!==this.version.getTotalCodewords())throw new x;return e}readModule(e,t,n,r){return e<0&&(e+=n,t+=4-(n+4&7)),t<0&&(t+=r,e+=4-(r+4&7)),this.readMappingMatrix.set(t,e),this.mappingBitMatrix.get(t,e)}readUtah(e,t,n,r){let i=0;return this.readModule(e-2,t-2,n,r)&&(i|=1),i<<=1,this.readModule(e-2,t-1,n,r)&&(i|=1),i<<=1,this.readModule(e-1,t-2,n,r)&&(i|=1),i<<=1,this.readModule(e-1,t-1,n,r)&&(i|=1),i<<=1,this.readModule(e-1,t,n,r)&&(i|=1),i<<=1,this.readModule(e,t-2,n,r)&&(i|=1),i<<=1,this.readModule(e,t-1,n,r)&&(i|=1),i<<=1,this.readModule(e,t,n,r)&&(i|=1),i}readCorner1(e,t){let n=0;return this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,1,e,t)&&(n|=1),n<<=1,this.readModule(e-1,2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n<<=1,this.readModule(2,t-1,e,t)&&(n|=1),n<<=1,this.readModule(3,t-1,e,t)&&(n|=1),n}readCorner2(e,t){let n=0;return this.readModule(e-3,0,e,t)&&(n|=1),n<<=1,this.readModule(e-2,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(0,t-4,e,t)&&(n|=1),n<<=1,this.readModule(0,t-3,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n}readCorner3(e,t){let n=0;return this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,t-1,e,t)&&(n|=1),n<<=1,this.readModule(0,t-3,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-3,e,t)&&(n|=1),n<<=1,this.readModule(1,t-2,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n}readCorner4(e,t){let n=0;return this.readModule(e-3,0,e,t)&&(n|=1),n<<=1,this.readModule(e-2,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n<<=1,this.readModule(2,t-1,e,t)&&(n|=1),n<<=1,this.readModule(3,t-1,e,t)&&(n|=1),n}extractDataRegion(e){let t=this.version.getSymbolSizeRows(),n=this.version.getSymbolSizeColumns();if(e.getHeight()!==t)throw new l(`Dimension of bitMatrix must match the version size`);let r=this.version.getDataRegionSizeRows(),i=this.version.getDataRegionSizeColumns(),a=t/r|0,o=n/i|0,s=a*r,c=new O(o*i,s);for(let t=0;t<a;++t){let n=t*r;for(let a=0;a<o;++a){let o=a*i;for(let s=0;s<r;++s){let l=t*(r+2)+1+s,u=n+s;for(let t=0;t<i;++t){let n=a*(i+2)+1+t;if(e.get(n,l)){let e=o+t;c.set(e,u)}}}}}return c}}class St{constructor(e,t){this.numDataCodewords=e,this.codewords=t}static getDataBlocks(e,t){let n=t.getECBlocks(),r=0,i=n.getECBlocks();for(let e of i)r+=e.getCount();let a=Array(r),o=0;for(let e of i)for(let t=0;t<e.getCount();t++){let t=e.getDataCodewords(),r=n.getECCodewords()+t;a[o++]=new St(t,new Uint8Array(r))}let s=a[0].codewords.length-n.getECCodewords(),c=s-1,u=0;for(let t=0;t<c;t++)for(let n=0;n<o;n++)a[n].codewords[t]=e[u++];let d=t.getVersionNumber()===24,f=d?8:o;for(let t=0;t<f;t++)a[t].codewords[s-1]=e[u++];let p=a[0].codewords.length;for(let t=s;t<p;t++)for(let n=0;n<o;n++){let r=d?(n+8)%o:n,i=d&&r>7?t-1:t;a[r].codewords[i]=e[u++]}if(u!==e.length)throw new l;return a}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Ct{constructor(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(e){if(e<1||e>32||e>this.available())throw new l(``+e);let t=0,n=this.bitOffset,r=this.byteOffset,i=this.bytes;if(n>0){let a=8-n,o=e<a?e:a,s=a-o,c=255>>8-o<<s;t=(i[r]&c)>>s,e-=o,n+=o,n===8&&(n=0,r++)}if(e>0){for(;e>=8;)t=t<<8|i[r]&255,r++,e-=8;if(e>0){let a=8-e,o=255>>a<<a;t=t<<e|(i[r]&o)>>a,n+=e}}return this.bitOffset=n,this.byteOffset=r,t}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var wt;(function(e){e[e.PAD_ENCODE=0]=`PAD_ENCODE`,e[e.ASCII_ENCODE=1]=`ASCII_ENCODE`,e[e.C40_ENCODE=2]=`C40_ENCODE`,e[e.TEXT_ENCODE=3]=`TEXT_ENCODE`,e[e.ANSIX12_ENCODE=4]=`ANSIX12_ENCODE`,e[e.EDIFACT_ENCODE=5]=`EDIFACT_ENCODE`,e[e.BASE256_ENCODE=6]=`BASE256_ENCODE`})(wt||={});class Tt{static decode(e){let t=new Ct(e),n=new D,r=new D,i=[],a=wt.ASCII_ENCODE;do if(a===wt.ASCII_ENCODE)a=this.decodeAsciiSegment(t,n,r);else{switch(a){case wt.C40_ENCODE:this.decodeC40Segment(t,n);break;case wt.TEXT_ENCODE:this.decodeTextSegment(t,n);break;case wt.ANSIX12_ENCODE:this.decodeAnsiX12Segment(t,n);break;case wt.EDIFACT_ENCODE:this.decodeEdifactSegment(t,n);break;case wt.BASE256_ENCODE:this.decodeBase256Segment(t,n,i);break;default:throw new x}a=wt.ASCII_ENCODE}while(a!==wt.PAD_ENCODE&&t.available()>0);return r.length()>0&&n.append(r.toString()),new le(e,n.toString(),i.length===0?null:i,null)}static decodeAsciiSegment(e,t,n){let r=!1;do{let i=e.readBits(8);if(i===0)throw new x;if(i<=128)return r&&(i+=128),t.append(String.fromCharCode(i-1)),wt.ASCII_ENCODE;if(i===129)return wt.PAD_ENCODE;if(i<=229){let e=i-130;e<10&&t.append(`0`),t.append(``+e)}else switch(i){case 230:return wt.C40_ENCODE;case 231:return wt.BASE256_ENCODE;case 232:t.append(``);break;case 233:case 234:break;case 235:r=!0;break;case 236:t.append(`[)>05`),n.insert(0,``);break;case 237:t.append(`[)>06`),n.insert(0,``);break;case 238:return wt.ANSIX12_ENCODE;case 239:return wt.TEXT_ENCODE;case 240:return wt.EDIFACT_ENCODE;case 241:break;default:if(i!==254||e.available()!==0)throw new x;break}}while(e.available()>0);return wt.ASCII_ENCODE}static decodeC40Segment(e,t){let n=!1,r=[],i=0;do{if(e.available()===8)return;let a=e.readBits(8);if(a===254)return;this.parseTwoBytes(a,e.readBits(8),r);for(let e=0;e<3;e++){let a=r[e];switch(i){case 0:if(a<3)i=a+1;else if(a<this.C40_BASIC_SET_CHARS.length){let e=this.C40_BASIC_SET_CHARS[a];n?(t.append(String.fromCharCode(e.charCodeAt(0)+128)),n=!1):t.append(e)}else throw new x;break;case 1:n?(t.append(String.fromCharCode(a+128)),n=!1):t.append(String.fromCharCode(a)),i=0;break;case 2:if(a<this.C40_SHIFT2_SET_CHARS.length){let e=this.C40_SHIFT2_SET_CHARS[a];n?(t.append(String.fromCharCode(e.charCodeAt(0)+128)),n=!1):t.append(e)}else switch(a){case 27:t.append(``);break;case 30:n=!0;break;default:throw new x}i=0;break;case 3:n?(t.append(String.fromCharCode(a+224)),n=!1):t.append(String.fromCharCode(a+96)),i=0;break;default:throw new x}}}while(e.available()>0)}static decodeTextSegment(e,t){let n=!1,r=[],i=0;do{if(e.available()===8)return;let a=e.readBits(8);if(a===254)return;this.parseTwoBytes(a,e.readBits(8),r);for(let e=0;e<3;e++){let a=r[e];switch(i){case 0:if(a<3)i=a+1;else if(a<this.TEXT_BASIC_SET_CHARS.length){let e=this.TEXT_BASIC_SET_CHARS[a];n?(t.append(String.fromCharCode(e.charCodeAt(0)+128)),n=!1):t.append(e)}else throw new x;break;case 1:n?(t.append(String.fromCharCode(a+128)),n=!1):t.append(String.fromCharCode(a)),i=0;break;case 2:if(a<this.TEXT_SHIFT2_SET_CHARS.length){let e=this.TEXT_SHIFT2_SET_CHARS[a];n?(t.append(String.fromCharCode(e.charCodeAt(0)+128)),n=!1):t.append(e)}else switch(a){case 27:t.append(``);break;case 30:n=!0;break;default:throw new x}i=0;break;case 3:if(a<this.TEXT_SHIFT3_SET_CHARS.length){let e=this.TEXT_SHIFT3_SET_CHARS[a];n?(t.append(String.fromCharCode(e.charCodeAt(0)+128)),n=!1):t.append(e),i=0}else throw new x;break;default:throw new x}}}while(e.available()>0)}static decodeAnsiX12Segment(e,t){let n=[];do{if(e.available()===8)return;let r=e.readBits(8);if(r===254)return;this.parseTwoBytes(r,e.readBits(8),n);for(let e=0;e<3;e++){let r=n[e];switch(r){case 0:t.append(`\r`);break;case 1:t.append(`*`);break;case 2:t.append(`>`);break;case 3:t.append(` `);break;default:if(r<14)t.append(String.fromCharCode(r+44));else if(r<40)t.append(String.fromCharCode(r+51));else throw new x;break}}}while(e.available()>0)}static parseTwoBytes(e,t,n){let r=(e<<8)+t-1,i=Math.floor(r/1600);n[0]=i,r-=i*1600,i=Math.floor(r/40),n[1]=i,n[2]=r-i*40}static decodeEdifactSegment(e,t){do{if(e.available()<=16)return;for(let n=0;n<4;n++){let n=e.readBits(6);if(n===31){let t=8-e.getBitOffset();t!==8&&e.readBits(t);return}n&32||(n|=64),t.append(String.fromCharCode(n))}}while(e.available()>0)}static decodeBase256Segment(e,t,n){let r=1+e.getByteOffset(),i=this.unrandomize255State(e.readBits(8),r++),a;if(a=i===0?e.available()/8|0:i<250?i:250*(i-249)+this.unrandomize255State(e.readBits(8),r++),a<0)throw new x;let o=new Uint8Array(a);for(let t=0;t<a;t++){if(e.available()<8)throw new x;o[t]=this.unrandomize255State(e.readBits(8),r++)}n.push(o);try{t.append(T.decode(o,E.ISO88591))}catch(e){throw new he(`Platform does not support required encoding: `+e.message)}}static unrandomize255State(e,t){let n=e-(149*t%255+1);return n>=0?n:n+256}}Tt.C40_BASIC_SET_CHARS=`*** 0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ`.split(``),Tt.C40_SHIFT2_SET_CHARS=`!"#$%&'()*+,-./:;<=>?@[\\]^_`.split(``),Tt.TEXT_BASIC_SET_CHARS=`*** 0123456789abcdefghijklmnopqrstuvwxyz`.split(``),Tt.TEXT_SHIFT2_SET_CHARS=Tt.C40_SHIFT2_SET_CHARS,Tt.TEXT_SHIFT3_SET_CHARS="`ABCDEFGHIJKLMNOPQRSTUVWXYZ{|}~".split(``);class Et{constructor(){this.rsDecoder=new ge(pe.DATA_MATRIX_FIELD_256)}decode(e){let t=new xt(e),n=t.getVersion(),r=t.readCodewords(),i=St.getDataBlocks(r,n),a=0;for(let e of i)a+=e.getNumDataCodewords();let o=new Uint8Array(a),s=i.length;for(let e=0;e<s;e++){let t=i[e],n=t.getCodewords(),r=t.getNumDataCodewords();this.correctErrors(n,r);for(let t=0;t<r;t++)o[t*s+e]=n[t]}return Tt.decode(o)}correctErrors(e,t){let n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-t)}catch{throw new d}for(let r=0;r<t;r++)e[r]=n[r]}}class Dt{constructor(e){this.image=e,this.rectangleDetector=new Ce(this.image)}detect(){let e=this.rectangleDetector.detect(),t=this.detectSolid1(e);if(t=this.detectSolid2(t),t[3]=this.correctTopRight(t),!t[3])throw new k;t=this.shiftToModuleCenter(t);let n=t[0],r=t[1],i=t[2],a=t[3],o=this.transitionsBetween(n,a)+1,s=this.transitionsBetween(i,a)+1;return(o&1)==1&&(o+=1),(s&1)==1&&(s+=1),4*o<7*s&&4*s<7*o&&(o=s=Math.max(o,s)),new xe(Dt.sampleGrid(this.image,n,r,i,a,o,s),[n,r,i,a])}static shiftPoint(e,t,n){let r=(t.getX()-e.getX())/(n+1),i=(t.getY()-e.getY())/(n+1);return new P(e.getX()+r,e.getY()+i)}static moveAway(e,t,n){let r=e.getX(),i=e.getY();return r<t?--r:r+=1,i<n?--i:i+=1,new P(r,i)}detectSolid1(e){let t=e[0],n=e[1],r=e[3],i=e[2],a=this.transitionsBetween(t,n),o=this.transitionsBetween(n,r),s=this.transitionsBetween(r,i),c=this.transitionsBetween(i,t),l=a,u=[i,t,n,r];return l>o&&(l=o,u[0]=t,u[1]=n,u[2]=r,u[3]=i),l>s&&(l=s,u[0]=n,u[1]=r,u[2]=i,u[3]=t),l>c&&(u[0]=r,u[1]=i,u[2]=t,u[3]=n),u}detectSolid2(e){let t=e[0],n=e[1],r=e[2],i=e[3],a=this.transitionsBetween(t,i),o=Dt.shiftPoint(n,r,(a+1)*4),s=Dt.shiftPoint(r,n,(a+1)*4);return this.transitionsBetween(o,t)<this.transitionsBetween(s,i)?(e[0]=t,e[1]=n,e[2]=r,e[3]=i):(e[0]=n,e[1]=r,e[2]=i,e[3]=t),e}correctTopRight(e){let t=e[0],n=e[1],r=e[2],i=e[3],a=this.transitionsBetween(t,i),o=this.transitionsBetween(n,i),s=Dt.shiftPoint(t,n,(o+1)*4),c=Dt.shiftPoint(r,n,(a+1)*4);a=this.transitionsBetween(s,i),o=this.transitionsBetween(c,i);let l=new P(i.getX()+(r.getX()-n.getX())/(a+1),i.getY()+(r.getY()-n.getY())/(a+1)),u=new P(i.getX()+(t.getX()-n.getX())/(o+1),i.getY()+(t.getY()-n.getY())/(o+1));return this.isValid(l)?!this.isValid(u)||this.transitionsBetween(s,l)+this.transitionsBetween(c,l)>this.transitionsBetween(s,u)+this.transitionsBetween(c,u)?l:u:this.isValid(u)?u:null}shiftToModuleCenter(e){let t=e[0],n=e[1],r=e[2],i=e[3],a=this.transitionsBetween(t,i)+1,o=this.transitionsBetween(r,i)+1,s=Dt.shiftPoint(t,n,o*4),c=Dt.shiftPoint(r,n,a*4);a=this.transitionsBetween(s,i)+1,o=this.transitionsBetween(c,i)+1,(a&1)==1&&(a+=1),(o&1)==1&&(o+=1);let l=(t.getX()+n.getX()+r.getX()+i.getX())/4,u=(t.getY()+n.getY()+r.getY()+i.getY())/4;t=Dt.moveAway(t,l,u),n=Dt.moveAway(n,l,u),r=Dt.moveAway(r,l,u),i=Dt.moveAway(i,l,u);let d,f;return s=Dt.shiftPoint(t,n,o*4),s=Dt.shiftPoint(s,i,a*4),d=Dt.shiftPoint(n,t,o*4),d=Dt.shiftPoint(d,r,a*4),c=Dt.shiftPoint(r,i,o*4),c=Dt.shiftPoint(c,n,a*4),f=Dt.shiftPoint(i,r,o*4),f=Dt.shiftPoint(f,t,a*4),[s,d,c,f]}isValid(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()}static sampleGrid(e,t,n,r,i,a,o){return De.getInstance().sampleGrid(e,a,o,.5,.5,a-.5,.5,a-.5,o-.5,.5,o-.5,t.getX(),t.getY(),i.getX(),i.getY(),r.getX(),r.getY(),n.getX(),n.getY())}transitionsBetween(e,t){let n=Math.trunc(e.getX()),r=Math.trunc(e.getY()),i=Math.trunc(t.getX()),a=Math.trunc(t.getY()),o=Math.abs(a-r)>Math.abs(i-n);if(o){let e=n;n=r,r=e,e=i,i=a,a=e}let s=Math.abs(i-n),c=Math.abs(a-r),l=-s/2,u=r<a?1:-1,d=n<i?1:-1,f=0,p=this.image.get(o?r:n,o?n:r);for(let e=n,t=r;e!==i;e+=d){let n=this.image.get(o?t:e,o?e:t);if(n!==p&&(f++,p=n),l+=c,l>0){if(t===a)break;t+=u,l-=s}}return f}}class Ot{constructor(){this.decoder=new Et}decode(e,t=null){let n,r;if(t!=null&&t.has(b.PURE_BARCODE)){let t=Ot.extractPureBits(e.getBlackMatrix());n=this.decoder.decode(t),r=Ot.NO_POINTS}else{let t=new Dt(e.getBlackMatrix()).detect();n=this.decoder.decode(t.getBits()),r=t.getPoints()}let i=n.getRawBytes(),a=new ae(n.getText(),i,8*i.length,r,N.DATA_MATRIX,p.currentTimeMillis()),o=n.getByteSegments();o!=null&&a.putMetadata(ce.BYTE_SEGMENTS,o);let s=n.getECLevel();return s!=null&&a.putMetadata(ce.ERROR_CORRECTION_LEVEL,s),a}reset(){}static extractPureBits(e){let t=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(t==null||n==null)throw new k;let r=this.moduleSize(t,e),i=t[1],a=n[1],o=t[0],s=(n[0]-o+1)/r,c=(a-i+1)/r;if(s<=0||c<=0)throw new k;let l=r/2;i+=l,o+=l;let u=new O(s,c);for(let t=0;t<c;t++){let n=i+t*r;for(let i=0;i<s;i++)e.get(o+i*r,n)&&u.set(i,t)}return u}static moduleSize(e,t){let n=t.getWidth(),r=e[0],i=e[1];for(;r<n&&t.get(r,i);)r++;if(r===n)throw new k;let a=r-e[0];if(a===0)throw new k;return a}}Ot.NO_POINTS=[];class kt extends M{constructor(e=500){super(new Ot,e)}}var At;(function(e){e[e.L=0]=`L`,e[e.M=1]=`M`,e[e.Q=2]=`Q`,e[e.H=3]=`H`})(At||={});class jt{constructor(e,t,n){this.value=e,this.stringValue=t,this.bits=n,jt.FOR_BITS.set(n,this),jt.FOR_VALUE.set(e,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(e){switch(e){case`L`:return jt.L;case`M`:return jt.M;case`Q`:return jt.Q;case`H`:return jt.H;default:throw new c(e+`not available`)}}toString(){return this.stringValue}equals(e){if(!(e instanceof jt))return!1;let t=e;return this.value===t.value}static forBits(e){if(e<0||e>=jt.FOR_BITS.size)throw new l;return jt.FOR_BITS.get(e)}}jt.FOR_BITS=new Map,jt.FOR_VALUE=new Map,jt.L=new jt(At.L,`L`,1),jt.M=new jt(At.M,`M`,0),jt.Q=new jt(At.Q,`Q`,3),jt.H=new jt(At.H,`H`,2);class Mt{constructor(e){this.errorCorrectionLevel=jt.forBits(e>>3&3),this.dataMask=e&7}static numBitsDiffering(e,t){return _.bitCount(e^t)}static decodeFormatInformation(e,t){let n=Mt.doDecodeFormatInformation(e,t);return n===null?Mt.doDecodeFormatInformation(e^Mt.FORMAT_INFO_MASK_QR,t^Mt.FORMAT_INFO_MASK_QR):n}static doDecodeFormatInformation(e,t){let n=2**53-1,r=0;for(let i of Mt.FORMAT_INFO_DECODE_LOOKUP){let a=i[0];if(a===e||a===t)return new Mt(i[1]);let o=Mt.numBitsDiffering(e,a);o<n&&(r=i[1],n=o),e!==t&&(o=Mt.numBitsDiffering(t,a),o<n&&(r=i[1],n=o))}return n<=3?new Mt(r):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(e){if(!(e instanceof Mt))return!1;let t=e;return this.errorCorrectionLevel===t.errorCorrectionLevel&&this.dataMask===t.dataMask}}Mt.FORMAT_INFO_MASK_QR=21522,Mt.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class B{constructor(e,...t){this.ecCodewordsPerBlock=e,this.ecBlocks=t}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let e=0,t=this.ecBlocks;for(let n of t)e+=n.getCount();return e}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class V{constructor(e,t){this.count=e,this.dataCodewords=t}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class H{constructor(e,t,...n){this.versionNumber=e,this.alignmentPatternCenters=t,this.ecBlocks=n;let r=0,i=n[0].getECCodewordsPerBlock(),a=n[0].getECBlocks();for(let e of a)r+=e.getCount()*(e.getDataCodewords()+i);this.totalCodewords=r}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(e){return this.ecBlocks[e.getValue()]}static getProvisionalVersionForDimension(e){if(e%4!=1)throw new x;try{return this.getVersionForNumber((e-17)/4)}catch{throw new x}}static getVersionForNumber(e){if(e<1||e>40)throw new l;return H.VERSIONS[e-1]}static decodeVersionInformation(e){let t=2**53-1,n=0;for(let r=0;r<H.VERSION_DECODE_INFO.length;r++){let i=H.VERSION_DECODE_INFO[r];if(i===e)return H.getVersionForNumber(r+7);let a=Mt.numBitsDiffering(e,i);a<t&&(n=r+7,t=a)}return t<=3?H.getVersionForNumber(n):null}buildFunctionPattern(){let e=this.getDimensionForVersion(),t=new O(e);t.setRegion(0,0,9,9),t.setRegion(e-8,0,8,9),t.setRegion(0,e-8,9,8);let n=this.alignmentPatternCenters.length;for(let e=0;e<n;e++){let r=this.alignmentPatternCenters[e]-2;for(let i=0;i<n;i++)e===0&&(i===0||i===n-1)||e===n-1&&i===0||t.setRegion(this.alignmentPatternCenters[i]-2,r,5,5)}return t.setRegion(6,9,1,e-17),t.setRegion(9,6,e-17,1),this.versionNumber>6&&(t.setRegion(e-11,0,3,6),t.setRegion(0,e-11,6,3)),t}toString(){return``+this.versionNumber}}H.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),H.VERSIONS=[new H(1,new Int32Array,new B(7,new V(1,19)),new B(10,new V(1,16)),new B(13,new V(1,13)),new B(17,new V(1,9))),new H(2,Int32Array.from([6,18]),new B(10,new V(1,34)),new B(16,new V(1,28)),new B(22,new V(1,22)),new B(28,new V(1,16))),new H(3,Int32Array.from([6,22]),new B(15,new V(1,55)),new B(26,new V(1,44)),new B(18,new V(2,17)),new B(22,new V(2,13))),new H(4,Int32Array.from([6,26]),new B(20,new V(1,80)),new B(18,new V(2,32)),new B(26,new V(2,24)),new B(16,new V(4,9))),new H(5,Int32Array.from([6,30]),new B(26,new V(1,108)),new B(24,new V(2,43)),new B(18,new V(2,15),new V(2,16)),new B(22,new V(2,11),new V(2,12))),new H(6,Int32Array.from([6,34]),new B(18,new V(2,68)),new B(16,new V(4,27)),new B(24,new V(4,19)),new B(28,new V(4,15))),new H(7,Int32Array.from([6,22,38]),new B(20,new V(2,78)),new B(18,new V(4,31)),new B(18,new V(2,14),new V(4,15)),new B(26,new V(4,13),new V(1,14))),new H(8,Int32Array.from([6,24,42]),new B(24,new V(2,97)),new B(22,new V(2,38),new V(2,39)),new B(22,new V(4,18),new V(2,19)),new B(26,new V(4,14),new V(2,15))),new H(9,Int32Array.from([6,26,46]),new B(30,new V(2,116)),new B(22,new V(3,36),new V(2,37)),new B(20,new V(4,16),new V(4,17)),new B(24,new V(4,12),new V(4,13))),new H(10,Int32Array.from([6,28,50]),new B(18,new V(2,68),new V(2,69)),new B(26,new V(4,43),new V(1,44)),new B(24,new V(6,19),new V(2,20)),new B(28,new V(6,15),new V(2,16))),new H(11,Int32Array.from([6,30,54]),new B(20,new V(4,81)),new B(30,new V(1,50),new V(4,51)),new B(28,new V(4,22),new V(4,23)),new B(24,new V(3,12),new V(8,13))),new H(12,Int32Array.from([6,32,58]),new B(24,new V(2,92),new V(2,93)),new B(22,new V(6,36),new V(2,37)),new B(26,new V(4,20),new V(6,21)),new B(28,new V(7,14),new V(4,15))),new H(13,Int32Array.from([6,34,62]),new B(26,new V(4,107)),new B(22,new V(8,37),new V(1,38)),new B(24,new V(8,20),new V(4,21)),new B(22,new V(12,11),new V(4,12))),new H(14,Int32Array.from([6,26,46,66]),new B(30,new V(3,115),new V(1,116)),new B(24,new V(4,40),new V(5,41)),new B(20,new V(11,16),new V(5,17)),new B(24,new V(11,12),new V(5,13))),new H(15,Int32Array.from([6,26,48,70]),new B(22,new V(5,87),new V(1,88)),new B(24,new V(5,41),new V(5,42)),new B(30,new V(5,24),new V(7,25)),new B(24,new V(11,12),new V(7,13))),new H(16,Int32Array.from([6,26,50,74]),new B(24,new V(5,98),new V(1,99)),new B(28,new V(7,45),new V(3,46)),new B(24,new V(15,19),new V(2,20)),new B(30,new V(3,15),new V(13,16))),new H(17,Int32Array.from([6,30,54,78]),new B(28,new V(1,107),new V(5,108)),new B(28,new V(10,46),new V(1,47)),new B(28,new V(1,22),new V(15,23)),new B(28,new V(2,14),new V(17,15))),new H(18,Int32Array.from([6,30,56,82]),new B(30,new V(5,120),new V(1,121)),new B(26,new V(9,43),new V(4,44)),new B(28,new V(17,22),new V(1,23)),new B(28,new V(2,14),new V(19,15))),new H(19,Int32Array.from([6,30,58,86]),new B(28,new V(3,113),new V(4,114)),new B(26,new V(3,44),new V(11,45)),new B(26,new V(17,21),new V(4,22)),new B(26,new V(9,13),new V(16,14))),new H(20,Int32Array.from([6,34,62,90]),new B(28,new V(3,107),new V(5,108)),new B(26,new V(3,41),new V(13,42)),new B(30,new V(15,24),new V(5,25)),new B(28,new V(15,15),new V(10,16))),new H(21,Int32Array.from([6,28,50,72,94]),new B(28,new V(4,116),new V(4,117)),new B(26,new V(17,42)),new B(28,new V(17,22),new V(6,23)),new B(30,new V(19,16),new V(6,17))),new H(22,Int32Array.from([6,26,50,74,98]),new B(28,new V(2,111),new V(7,112)),new B(28,new V(17,46)),new B(30,new V(7,24),new V(16,25)),new B(24,new V(34,13))),new H(23,Int32Array.from([6,30,54,78,102]),new B(30,new V(4,121),new V(5,122)),new B(28,new V(4,47),new V(14,48)),new B(30,new V(11,24),new V(14,25)),new B(30,new V(16,15),new V(14,16))),new H(24,Int32Array.from([6,28,54,80,106]),new B(30,new V(6,117),new V(4,118)),new B(28,new V(6,45),new V(14,46)),new B(30,new V(11,24),new V(16,25)),new B(30,new V(30,16),new V(2,17))),new H(25,Int32Array.from([6,32,58,84,110]),new B(26,new V(8,106),new V(4,107)),new B(28,new V(8,47),new V(13,48)),new B(30,new V(7,24),new V(22,25)),new B(30,new V(22,15),new V(13,16))),new H(26,Int32Array.from([6,30,58,86,114]),new B(28,new V(10,114),new V(2,115)),new B(28,new V(19,46),new V(4,47)),new B(28,new V(28,22),new V(6,23)),new B(30,new V(33,16),new V(4,17))),new H(27,Int32Array.from([6,34,62,90,118]),new B(30,new V(8,122),new V(4,123)),new B(28,new V(22,45),new V(3,46)),new B(30,new V(8,23),new V(26,24)),new B(30,new V(12,15),new V(28,16))),new H(28,Int32Array.from([6,26,50,74,98,122]),new B(30,new V(3,117),new V(10,118)),new B(28,new V(3,45),new V(23,46)),new B(30,new V(4,24),new V(31,25)),new B(30,new V(11,15),new V(31,16))),new H(29,Int32Array.from([6,30,54,78,102,126]),new B(30,new V(7,116),new V(7,117)),new B(28,new V(21,45),new V(7,46)),new B(30,new V(1,23),new V(37,24)),new B(30,new V(19,15),new V(26,16))),new H(30,Int32Array.from([6,26,52,78,104,130]),new B(30,new V(5,115),new V(10,116)),new B(28,new V(19,47),new V(10,48)),new B(30,new V(15,24),new V(25,25)),new B(30,new V(23,15),new V(25,16))),new H(31,Int32Array.from([6,30,56,82,108,134]),new B(30,new V(13,115),new V(3,116)),new B(28,new V(2,46),new V(29,47)),new B(30,new V(42,24),new V(1,25)),new B(30,new V(23,15),new V(28,16))),new H(32,Int32Array.from([6,34,60,86,112,138]),new B(30,new V(17,115)),new B(28,new V(10,46),new V(23,47)),new B(30,new V(10,24),new V(35,25)),new B(30,new V(19,15),new V(35,16))),new H(33,Int32Array.from([6,30,58,86,114,142]),new B(30,new V(17,115),new V(1,116)),new B(28,new V(14,46),new V(21,47)),new B(30,new V(29,24),new V(19,25)),new B(30,new V(11,15),new V(46,16))),new H(34,Int32Array.from([6,34,62,90,118,146]),new B(30,new V(13,115),new V(6,116)),new B(28,new V(14,46),new V(23,47)),new B(30,new V(44,24),new V(7,25)),new B(30,new V(59,16),new V(1,17))),new H(35,Int32Array.from([6,30,54,78,102,126,150]),new B(30,new V(12,121),new V(7,122)),new B(28,new V(12,47),new V(26,48)),new B(30,new V(39,24),new V(14,25)),new B(30,new V(22,15),new V(41,16))),new H(36,Int32Array.from([6,24,50,76,102,128,154]),new B(30,new V(6,121),new V(14,122)),new B(28,new V(6,47),new V(34,48)),new B(30,new V(46,24),new V(10,25)),new B(30,new V(2,15),new V(64,16))),new H(37,Int32Array.from([6,28,54,80,106,132,158]),new B(30,new V(17,122),new V(4,123)),new B(28,new V(29,46),new V(14,47)),new B(30,new V(49,24),new V(10,25)),new B(30,new V(24,15),new V(46,16))),new H(38,Int32Array.from([6,32,58,84,110,136,162]),new B(30,new V(4,122),new V(18,123)),new B(28,new V(13,46),new V(32,47)),new B(30,new V(48,24),new V(14,25)),new B(30,new V(42,15),new V(32,16))),new H(39,Int32Array.from([6,26,54,82,110,138,166]),new B(30,new V(20,117),new V(4,118)),new B(28,new V(40,47),new V(7,48)),new B(30,new V(43,24),new V(22,25)),new B(30,new V(10,15),new V(67,16))),new H(40,Int32Array.from([6,30,58,86,114,142,170]),new B(30,new V(19,118),new V(6,119)),new B(28,new V(18,47),new V(31,48)),new B(30,new V(34,24),new V(34,25)),new B(30,new V(20,15),new V(61,16)))];var Nt;(function(e){e[e.DATA_MASK_000=0]=`DATA_MASK_000`,e[e.DATA_MASK_001=1]=`DATA_MASK_001`,e[e.DATA_MASK_010=2]=`DATA_MASK_010`,e[e.DATA_MASK_011=3]=`DATA_MASK_011`,e[e.DATA_MASK_100=4]=`DATA_MASK_100`,e[e.DATA_MASK_101=5]=`DATA_MASK_101`,e[e.DATA_MASK_110=6]=`DATA_MASK_110`,e[e.DATA_MASK_111=7]=`DATA_MASK_111`})(Nt||={});class Pt{constructor(e,t){this.value=e,this.isMasked=t}unmaskBitMatrix(e,t){for(let n=0;n<t;n++)for(let r=0;r<t;r++)this.isMasked(n,r)&&e.flip(r,n)}}Pt.values=new Map([[Nt.DATA_MASK_000,new Pt(Nt.DATA_MASK_000,(e,t)=>(e+t&1)==0)],[Nt.DATA_MASK_001,new Pt(Nt.DATA_MASK_001,(e,t)=>(e&1)==0)],[Nt.DATA_MASK_010,new Pt(Nt.DATA_MASK_010,(e,t)=>t%3==0)],[Nt.DATA_MASK_011,new Pt(Nt.DATA_MASK_011,(e,t)=>(e+t)%3==0)],[Nt.DATA_MASK_100,new Pt(Nt.DATA_MASK_100,(e,t)=>(Math.floor(e/2)+Math.floor(t/3)&1)==0)],[Nt.DATA_MASK_101,new Pt(Nt.DATA_MASK_101,(e,t)=>e*t%6==0)],[Nt.DATA_MASK_110,new Pt(Nt.DATA_MASK_110,(e,t)=>e*t%6<3)],[Nt.DATA_MASK_111,new Pt(Nt.DATA_MASK_111,(e,t)=>(e+t+e*t%3&1)==0)]]);class Ft{constructor(e){let t=e.getHeight();if(t<21||(t&3)!=1)throw new x;this.bitMatrix=e}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let e=0;for(let t=0;t<6;t++)e=this.copyBit(t,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(let t=5;t>=0;t--)e=this.copyBit(8,t,e);let t=this.bitMatrix.getHeight(),n=0,r=t-7;for(let e=t-1;e>=r;e--)n=this.copyBit(8,e,n);for(let e=t-8;e<t;e++)n=this.copyBit(e,8,n);if(this.parsedFormatInfo=Mt.decodeFormatInformation(e,n),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new x}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;let e=this.bitMatrix.getHeight(),t=Math.floor((e-17)/4);if(t<=6)return H.getVersionForNumber(t);let n=0,r=e-11;for(let t=5;t>=0;t--)for(let i=e-9;i>=r;i--)n=this.copyBit(i,t,n);let i=H.decodeVersionInformation(n);if(i!==null&&i.getDimensionForVersion()===e)return this.parsedVersion=i,i;n=0;for(let t=5;t>=0;t--)for(let i=e-9;i>=r;i--)n=this.copyBit(t,i,n);if(i=H.decodeVersionInformation(n),i!==null&&i.getDimensionForVersion()===e)return this.parsedVersion=i,i;throw new x}copyBit(e,t,n){return(this.isMirror?this.bitMatrix.get(t,e):this.bitMatrix.get(e,t))?n<<1|1:n<<1}readCodewords(){let e=this.readFormatInformation(),t=this.readVersion(),n=Pt.values.get(e.getDataMask()),r=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,r);let i=t.buildFunctionPattern(),a=!0,o=new Uint8Array(t.getTotalCodewords()),s=0,c=0,l=0;for(let e=r-1;e>0;e-=2){e===6&&e--;for(let t=0;t<r;t++){let n=a?r-1-t:t;for(let t=0;t<2;t++)i.get(e-t,n)||(l++,c<<=1,this.bitMatrix.get(e-t,n)&&(c|=1),l===8&&(o[s++]=c,l=0,c=0))}a=!a}if(s!==t.getTotalCodewords())throw new x;return o}remask(){if(this.parsedFormatInfo===null)return;let e=Pt.values[this.parsedFormatInfo.getDataMask()],t=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,t)}setMirror(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e}mirror(){let e=this.bitMatrix;for(let t=0,n=e.getWidth();t<n;t++)for(let n=t+1,r=e.getHeight();n<r;n++)e.get(t,n)!==e.get(n,t)&&(e.flip(n,t),e.flip(t,n))}}class It{constructor(e,t){this.numDataCodewords=e,this.codewords=t}static getDataBlocks(e,t,n){if(e.length!==t.getTotalCodewords())throw new l;let r=t.getECBlocksForLevel(n),i=0,a=r.getECBlocks();for(let e of a)i+=e.getCount();let o=Array(i),s=0;for(let e of a)for(let t=0;t<e.getCount();t++){let t=e.getDataCodewords(),n=r.getECCodewordsPerBlock()+t;o[s++]=new It(t,new Uint8Array(n))}let c=o[0].codewords.length,u=o.length-1;for(;u>=0&&o[u].codewords.length!==c;)u--;u++;let d=c-r.getECCodewordsPerBlock(),f=0;for(let t=0;t<d;t++)for(let n=0;n<s;n++)o[n].codewords[t]=e[f++];for(let t=u;t<s;t++)o[t].codewords[d]=e[f++];let p=o[0].codewords.length;for(let t=d;t<p;t++)for(let n=0;n<s;n++){let r=n<u?t:t+1;o[n].codewords[r]=e[f++]}return o}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var Lt;(function(e){e[e.TERMINATOR=0]=`TERMINATOR`,e[e.NUMERIC=1]=`NUMERIC`,e[e.ALPHANUMERIC=2]=`ALPHANUMERIC`,e[e.STRUCTURED_APPEND=3]=`STRUCTURED_APPEND`,e[e.BYTE=4]=`BYTE`,e[e.ECI=5]=`ECI`,e[e.KANJI=6]=`KANJI`,e[e.FNC1_FIRST_POSITION=7]=`FNC1_FIRST_POSITION`,e[e.FNC1_SECOND_POSITION=8]=`FNC1_SECOND_POSITION`,e[e.HANZI=9]=`HANZI`})(Lt||={});class U{constructor(e,t,n,r){this.value=e,this.stringValue=t,this.characterCountBitsForVersions=n,this.bits=r,U.FOR_BITS.set(r,this),U.FOR_VALUE.set(e,this)}static forBits(e){let t=U.FOR_BITS.get(e);if(t===void 0)throw new l;return t}getCharacterCountBits(e){let t=e.getVersionNumber(),n;return n=t<=9?0:t<=26?1:2,this.characterCountBitsForVersions[n]}getValue(){return this.value}getBits(){return this.bits}equals(e){if(!(e instanceof U))return!1;let t=e;return this.value===t.value}toString(){return this.stringValue}}U.FOR_BITS=new Map,U.FOR_VALUE=new Map,U.TERMINATOR=new U(Lt.TERMINATOR,`TERMINATOR`,Int32Array.from([0,0,0]),0),U.NUMERIC=new U(Lt.NUMERIC,`NUMERIC`,Int32Array.from([10,12,14]),1),U.ALPHANUMERIC=new U(Lt.ALPHANUMERIC,`ALPHANUMERIC`,Int32Array.from([9,11,13]),2),U.STRUCTURED_APPEND=new U(Lt.STRUCTURED_APPEND,`STRUCTURED_APPEND`,Int32Array.from([0,0,0]),3),U.BYTE=new U(Lt.BYTE,`BYTE`,Int32Array.from([8,16,16]),4),U.ECI=new U(Lt.ECI,`ECI`,Int32Array.from([0,0,0]),7),U.KANJI=new U(Lt.KANJI,`KANJI`,Int32Array.from([8,10,12]),8),U.FNC1_FIRST_POSITION=new U(Lt.FNC1_FIRST_POSITION,`FNC1_FIRST_POSITION`,Int32Array.from([0,0,0]),5),U.FNC1_SECOND_POSITION=new U(Lt.FNC1_SECOND_POSITION,`FNC1_SECOND_POSITION`,Int32Array.from([0,0,0]),9),U.HANZI=new U(Lt.HANZI,`HANZI`,Int32Array.from([8,10,12]),13);class Rt{static decode(e,t,n,r){let i=new Ct(e),a=new D,o=[],s=-1,c=-1;try{let e=null,n=!1,l;do{if(i.available()<4)l=U.TERMINATOR;else{let e=i.readBits(4);l=U.forBits(e)}switch(l){case U.TERMINATOR:break;case U.FNC1_FIRST_POSITION:case U.FNC1_SECOND_POSITION:n=!0;break;case U.STRUCTURED_APPEND:if(i.available()<16)throw new x;s=i.readBits(8),c=i.readBits(8);break;case U.ECI:let u=Rt.parseECIValue(i);if(e=C.getCharacterSetECIByValue(u),e===null)throw new x;break;case U.HANZI:let d=i.readBits(4),f=i.readBits(l.getCharacterCountBits(t));d===Rt.GB2312_SUBSET&&Rt.decodeHanziSegment(i,a,f);break;default:let p=i.readBits(l.getCharacterCountBits(t));switch(l){case U.NUMERIC:Rt.decodeNumericSegment(i,a,p);break;case U.ALPHANUMERIC:Rt.decodeAlphanumericSegment(i,a,p,n);break;case U.BYTE:Rt.decodeByteSegment(i,a,p,e,o,r);break;case U.KANJI:Rt.decodeKanjiSegment(i,a,p);break;default:throw new x}break}}while(l!==U.TERMINATOR)}catch{throw new x}return new le(e,a.toString(),o.length===0?null:o,n===null?null:n.toString(),s,c)}static decodeHanziSegment(e,t,n){if(n*13>e.available())throw new x;let r=new Uint8Array(2*n),i=0;for(;n>0;){let t=e.readBits(13),a=t/96<<8&4294967295|t%96;a<959?a+=41377:a+=42657,r[i]=a>>8&255,r[i+1]=a&255,i+=2,n--}try{t.append(T.decode(r,E.GB2312))}catch(e){throw new x(e)}}static decodeKanjiSegment(e,t,n){if(n*13>e.available())throw new x;let r=new Uint8Array(2*n),i=0;for(;n>0;){let t=e.readBits(13),a=t/192<<8&4294967295|t%192;a<7936?a+=33088:a+=49472,r[i]=a>>8,r[i+1]=a,i+=2,n--}try{t.append(T.decode(r,E.SHIFT_JIS))}catch(e){throw new x(e)}}static decodeByteSegment(e,t,n,r,i,a){if(8*n>e.available())throw new x;let o=new Uint8Array(n);for(let t=0;t<n;t++)o[t]=e.readBits(8);let s;s=r===null?E.guessEncoding(o,a):r.getName();try{t.append(T.decode(o,s))}catch(e){throw new x(e)}i.push(o)}static toAlphaNumericChar(e){if(e>=Rt.ALPHANUMERIC_CHARS.length)throw new x;return Rt.ALPHANUMERIC_CHARS[e]}static decodeAlphanumericSegment(e,t,n,r){let i=t.length();for(;n>1;){if(e.available()<11)throw new x;let r=e.readBits(11);t.append(Rt.toAlphaNumericChar(Math.floor(r/45))),t.append(Rt.toAlphaNumericChar(r%45)),n-=2}if(n===1){if(e.available()<6)throw new x;t.append(Rt.toAlphaNumericChar(e.readBits(6)))}if(r)for(let e=i;e<t.length();e++)t.charAt(e)===`%`&&(e<t.length()-1&&t.charAt(e+1)===`%`?t.deleteCharAt(e+1):t.setCharAt(e,``))}static decodeNumericSegment(e,t,n){for(;n>=3;){if(e.available()<10)throw new x;let r=e.readBits(10);if(r>=1e3)throw new x;t.append(Rt.toAlphaNumericChar(Math.floor(r/100))),t.append(Rt.toAlphaNumericChar(Math.floor(r/10)%10)),t.append(Rt.toAlphaNumericChar(r%10)),n-=3}if(n===2){if(e.available()<7)throw new x;let n=e.readBits(7);if(n>=100)throw new x;t.append(Rt.toAlphaNumericChar(Math.floor(n/10))),t.append(Rt.toAlphaNumericChar(n%10))}else if(n===1){if(e.available()<4)throw new x;let n=e.readBits(4);if(n>=10)throw new x;t.append(Rt.toAlphaNumericChar(n))}}static parseECIValue(e){let t=e.readBits(8);if(!(t&128))return t&127;if((t&192)==128){let n=e.readBits(8);return(t&63)<<8&4294967295|n}if((t&224)==192){let n=e.readBits(16);return(t&31)<<16&4294967295|n}throw new x}}Rt.ALPHANUMERIC_CHARS=`0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:`,Rt.GB2312_SUBSET=1;class zt{constructor(e){this.mirrored=e}isMirrored(){return this.mirrored}applyMirroredCorrection(e){if(!this.mirrored||e===null||e.length<3)return;let t=e[0];e[0]=e[2],e[2]=t}}class Bt{constructor(){this.rsDecoder=new ge(pe.QR_CODE_FIELD_256)}decodeBooleanArray(e,t){return this.decodeBitMatrix(O.parseFromBooleanArray(e),t)}decodeBitMatrix(e,t){let n=new Ft(e),r=null;try{return this.decodeBitMatrixParser(n,t)}catch(e){r=e}try{n.remask(),n.setMirror(!0),n.readVersion(),n.readFormatInformation(),n.mirror();let e=this.decodeBitMatrixParser(n,t);return e.setOther(new zt(!0)),e}catch(e){throw r===null?e:r}}decodeBitMatrixParser(e,t){let n=e.readVersion(),r=e.readFormatInformation().getErrorCorrectionLevel(),i=e.readCodewords(),a=It.getDataBlocks(i,n,r),o=0;for(let e of a)o+=e.getNumDataCodewords();let s=new Uint8Array(o),c=0;for(let e of a){let t=e.getCodewords(),n=e.getNumDataCodewords();this.correctErrors(t,n);for(let e=0;e<n;e++)s[c++]=t[e]}return Rt.decode(s,n,r,t)}correctErrors(e,t){let n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-t)}catch{throw new d}for(let r=0;r<t;r++)e[r]=n[r]}}class Vt extends P{constructor(e,t,n){super(e,t),this.estimatedModuleSize=n}aboutEquals(e,t,n){if(Math.abs(t-this.getY())<=e&&Math.abs(n-this.getX())<=e){let t=Math.abs(e-this.estimatedModuleSize);return t<=1||t<=this.estimatedModuleSize}return!1}combineEstimate(e,t,n){return new Vt((this.getX()+t)/2,(this.getY()+e)/2,(this.estimatedModuleSize+n)/2)}}class Ht{constructor(e,t,n,r,i,a,o){this.image=e,this.startX=t,this.startY=n,this.width=r,this.height=i,this.moduleSize=a,this.resultPointCallback=o,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){let e=this.startX,t=this.height,n=e+this.width,r=this.startY+t/2,i=new Int32Array(3),a=this.image;for(let o=0;o<t;o++){let t=r+(o&1?-Math.floor((o+1)/2):Math.floor((o+1)/2));i[0]=0,i[1]=0,i[2]=0;let s=e;for(;s<n&&!a.get(s,t);)s++;let c=0;for(;s<n;){if(a.get(s,t))if(c===1)i[1]++;else if(c===2){if(this.foundPatternCross(i)){let e=this.handlePossibleCenter(i,t,s);if(e!==null)return e}i[0]=i[2],i[1]=1,i[2]=0,c=1}else i[++c]++;else c===1&&c++,i[c]++;s++}if(this.foundPatternCross(i)){let e=this.handlePossibleCenter(i,t,n);if(e!==null)return e}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new k}static centerFromEnd(e,t){return t-e[2]-e[1]/2}foundPatternCross(e){let t=this.moduleSize,n=t/2;for(let r=0;r<3;r++)if(Math.abs(t-e[r])>=n)return!1;return!0}crossCheckVertical(e,t,n,r){let i=this.image,a=i.getHeight(),o=this.crossCheckStateCount;o[0]=0,o[1]=0,o[2]=0;let s=e;for(;s>=0&&i.get(t,s)&&o[1]<=n;)o[1]++,s--;if(s<0||o[1]>n)return NaN;for(;s>=0&&!i.get(t,s)&&o[0]<=n;)o[0]++,s--;if(o[0]>n)return NaN;for(s=e+1;s<a&&i.get(t,s)&&o[1]<=n;)o[1]++,s++;if(s===a||o[1]>n)return NaN;for(;s<a&&!i.get(t,s)&&o[2]<=n;)o[2]++,s++;if(o[2]>n)return NaN;let c=o[0]+o[1]+o[2];return 5*Math.abs(c-r)>=2*r?NaN:this.foundPatternCross(o)?Ht.centerFromEnd(o,s):NaN}handlePossibleCenter(e,t,n){let r=e[0]+e[1]+e[2],i=Ht.centerFromEnd(e,n),a=this.crossCheckVertical(t,i,2*e[1],r);if(!isNaN(a)){let t=(e[0]+e[1]+e[2])/3;for(let e of this.possibleCenters)if(e.aboutEquals(t,a,i))return e.combineEstimate(a,i,t);let n=new Vt(i,a,t);this.possibleCenters.push(n),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(n)}return null}}class Ut extends P{constructor(e,t,n,r){super(e,t),this.estimatedModuleSize=n,this.count=r,r===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(e,t,n){if(Math.abs(t-this.getY())<=e&&Math.abs(n-this.getX())<=e){let t=Math.abs(e-this.estimatedModuleSize);return t<=1||t<=this.estimatedModuleSize}return!1}combineEstimate(e,t,n){let r=this.count+1;return new Ut((this.count*this.getX()+t)/r,(this.count*this.getY()+e)/r,(this.count*this.estimatedModuleSize+n)/r,r)}}class Wt{constructor(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Gt{constructor(e,t){this.image=e,this.resultPointCallback=t,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=t}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(e){let t=e!=null&&e.get(b.TRY_HARDER)!==void 0,n=e!=null&&e.get(b.PURE_BARCODE)!==void 0,r=this.image,i=r.getHeight(),a=r.getWidth(),o=Math.floor(3*i/(4*Gt.MAX_MODULES));(o<Gt.MIN_SKIP||t)&&(o=Gt.MIN_SKIP);let s=!1,c=new Int32Array(5);for(let e=o-1;e<i&&!s;e+=o){c[0]=0,c[1]=0,c[2]=0,c[3]=0,c[4]=0;let t=0;for(let i=0;i<a;i++)if(r.get(i,e))(t&1)==1&&t++,c[t]++;else if(t&1)c[t]++;else if(t===4)if(Gt.foundPatternCross(c)){if(this.handlePossibleCenter(c,e,i,n)===!0)if(o=2,this.hasSkipped===!0)s=this.haveMultiplyConfirmedCenters();else{let t=this.findRowSkip();t>c[2]&&(e+=t-c[2]-o,i=a-1)}else{c[0]=c[2],c[1]=c[3],c[2]=c[4],c[3]=1,c[4]=0,t=3;continue}t=0,c[0]=0,c[1]=0,c[2]=0,c[3]=0,c[4]=0}else c[0]=c[2],c[1]=c[3],c[2]=c[4],c[3]=1,c[4]=0,t=3;else c[++t]++;Gt.foundPatternCross(c)&&this.handlePossibleCenter(c,e,a,n)===!0&&(o=c[0],this.hasSkipped&&(s=this.haveMultiplyConfirmedCenters()))}let l=this.selectBestPatterns();return P.orderBestPatterns(l),new Wt(l)}static centerFromEnd(e,t){return t-e[4]-e[3]-e[2]/2}static foundPatternCross(e){let t=0;for(let n=0;n<5;n++){let r=e[n];if(r===0)return!1;t+=r}if(t<7)return!1;let n=t/7,r=n/2;return Math.abs(n-e[0])<r&&Math.abs(n-e[1])<r&&Math.abs(3*n-e[2])<3*r&&Math.abs(n-e[3])<r&&Math.abs(n-e[4])<r}getCrossCheckStateCount(){let e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e}crossCheckDiagonal(e,t,n,r){let i=this.getCrossCheckStateCount(),a=0,o=this.image;for(;e>=a&&t>=a&&o.get(t-a,e-a);)i[2]++,a++;if(e<a||t<a)return!1;for(;e>=a&&t>=a&&!o.get(t-a,e-a)&&i[1]<=n;)i[1]++,a++;if(e<a||t<a||i[1]>n)return!1;for(;e>=a&&t>=a&&o.get(t-a,e-a)&&i[0]<=n;)i[0]++,a++;if(i[0]>n)return!1;let s=o.getHeight(),c=o.getWidth();for(a=1;e+a<s&&t+a<c&&o.get(t+a,e+a);)i[2]++,a++;if(e+a>=s||t+a>=c)return!1;for(;e+a<s&&t+a<c&&!o.get(t+a,e+a)&&i[3]<n;)i[3]++,a++;if(e+a>=s||t+a>=c||i[3]>=n)return!1;for(;e+a<s&&t+a<c&&o.get(t+a,e+a)&&i[4]<n;)i[4]++,a++;if(i[4]>=n)return!1;let l=i[0]+i[1]+i[2]+i[3]+i[4];return Math.abs(l-r)<2*r&&Gt.foundPatternCross(i)}crossCheckVertical(e,t,n,r){let i=this.image,a=i.getHeight(),o=this.getCrossCheckStateCount(),s=e;for(;s>=0&&i.get(t,s);)o[2]++,s--;if(s<0)return NaN;for(;s>=0&&!i.get(t,s)&&o[1]<=n;)o[1]++,s--;if(s<0||o[1]>n)return NaN;for(;s>=0&&i.get(t,s)&&o[0]<=n;)o[0]++,s--;if(o[0]>n)return NaN;for(s=e+1;s<a&&i.get(t,s);)o[2]++,s++;if(s===a)return NaN;for(;s<a&&!i.get(t,s)&&o[3]<n;)o[3]++,s++;if(s===a||o[3]>=n)return NaN;for(;s<a&&i.get(t,s)&&o[4]<n;)o[4]++,s++;if(o[4]>=n)return NaN;let c=o[0]+o[1]+o[2]+o[3]+o[4];return 5*Math.abs(c-r)>=2*r?NaN:Gt.foundPatternCross(o)?Gt.centerFromEnd(o,s):NaN}crossCheckHorizontal(e,t,n,r){let i=this.image,a=i.getWidth(),o=this.getCrossCheckStateCount(),s=e;for(;s>=0&&i.get(s,t);)o[2]++,s--;if(s<0)return NaN;for(;s>=0&&!i.get(s,t)&&o[1]<=n;)o[1]++,s--;if(s<0||o[1]>n)return NaN;for(;s>=0&&i.get(s,t)&&o[0]<=n;)o[0]++,s--;if(o[0]>n)return NaN;for(s=e+1;s<a&&i.get(s,t);)o[2]++,s++;if(s===a)return NaN;for(;s<a&&!i.get(s,t)&&o[3]<n;)o[3]++,s++;if(s===a||o[3]>=n)return NaN;for(;s<a&&i.get(s,t)&&o[4]<n;)o[4]++,s++;if(o[4]>=n)return NaN;let c=o[0]+o[1]+o[2]+o[3]+o[4];return 5*Math.abs(c-r)>=r?NaN:Gt.foundPatternCross(o)?Gt.centerFromEnd(o,s):NaN}handlePossibleCenter(e,t,n,r){let i=e[0]+e[1]+e[2]+e[3]+e[4],a=Gt.centerFromEnd(e,n),o=this.crossCheckVertical(t,Math.floor(a),e[2],i);if(!isNaN(o)&&(a=this.crossCheckHorizontal(Math.floor(a),Math.floor(o),e[2],i),!isNaN(a)&&(!r||this.crossCheckDiagonal(Math.floor(o),Math.floor(a),e[2],i)))){let e=i/7,t=!1,n=this.possibleCenters;for(let r=0,i=n.length;r<i;r++){let i=n[r];if(i.aboutEquals(e,o,a)){n[r]=i.combineEstimate(o,a,e),t=!0;break}}if(!t){let t=new Ut(a,o,e);n.push(t),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(t)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let e=null;for(let t of this.possibleCenters)if(t.getCount()>=Gt.CENTER_QUORUM)if(e==null)e=t;else return this.hasSkipped=!0,Math.floor((Math.abs(e.getX()-t.getX())-Math.abs(e.getY()-t.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let e=0,t=0,n=this.possibleCenters.length;for(let n of this.possibleCenters)n.getCount()>=Gt.CENTER_QUORUM&&(e++,t+=n.getEstimatedModuleSize());if(e<3)return!1;let r=t/n,i=0;for(let e of this.possibleCenters)i+=Math.abs(e.getEstimatedModuleSize()-r);return i<=.05*t}selectBestPatterns(){let e=this.possibleCenters.length;if(e<3)throw new k;let t=this.possibleCenters,n;if(e>3){let r=0,i=0;for(let e of this.possibleCenters){let t=e.getEstimatedModuleSize();r+=t,i+=t*t}n=r/e;let a=Math.sqrt(i/e-n*n);t.sort((e,t)=>{let r=Math.abs(t.getEstimatedModuleSize()-n),i=Math.abs(e.getEstimatedModuleSize()-n);return r<i?-1:r>i?1:0});let o=Math.max(.2*n,a);for(let e=0;e<t.length&&t.length>3;e++){let r=t[e];Math.abs(r.getEstimatedModuleSize()-n)>o&&(t.splice(e,1),e--)}}if(t.length>3){let e=0;for(let n of t)e+=n.getEstimatedModuleSize();n=e/t.length,t.sort((e,t)=>{if(t.getCount()===e.getCount()){let r=Math.abs(t.getEstimatedModuleSize()-n),i=Math.abs(e.getEstimatedModuleSize()-n);return r<i?1:r>i?-1:0}else return t.getCount()-e.getCount()}),t.splice(3)}return[t[0],t[1],t[2]]}}Gt.CENTER_QUORUM=2,Gt.MIN_SKIP=3,Gt.MAX_MODULES=57;class Kt{constructor(e){this.image=e}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(e){this.resultPointCallback=e==null?null:e.get(b.NEED_RESULT_POINT_CALLBACK);let t=new Gt(this.image,this.resultPointCallback).find(e);return this.processFinderPatternInfo(t)}processFinderPatternInfo(e){let t=e.getTopLeft(),n=e.getTopRight(),r=e.getBottomLeft(),i=this.calculateModuleSize(t,n,r);if(i<1)throw new k(`No pattern found in proccess finder.`);let a=Kt.computeDimension(t,n,r,i),o=H.getProvisionalVersionForDimension(a),s=o.getDimensionForVersion()-7,c=null;if(o.getAlignmentPatternCenters().length>0){let e=n.getX()-t.getX()+r.getX(),a=n.getY()-t.getY()+r.getY(),o=1-3/s,l=Math.floor(t.getX()+o*(e-t.getX())),u=Math.floor(t.getY()+o*(a-t.getY()));for(let e=4;e<=16;e<<=1)try{c=this.findAlignmentInRegion(i,l,u,e);break}catch(e){if(!(e instanceof k))throw e}}let l=Kt.createTransform(t,n,r,c,a),u=Kt.sampleGrid(this.image,l,a),d;return d=c===null?[r,t,n]:[r,t,n,c],new xe(u,d)}static createTransform(e,t,n,r,i){let a=i-3.5,o,s,c,l;return r===null?(o=t.getX()-e.getX()+n.getX(),s=t.getY()-e.getY()+n.getY(),c=a,l=a):(o=r.getX(),s=r.getY(),c=a-3,l=c),Te.quadrilateralToQuadrilateral(3.5,3.5,a,3.5,c,l,3.5,a,e.getX(),e.getY(),t.getX(),t.getY(),o,s,n.getX(),n.getY())}static sampleGrid(e,t,n){return De.getInstance().sampleGridWithTransform(e,n,n,t)}static computeDimension(e,t,n,r){let i=ye.round(P.distance(e,t)/r),a=ye.round(P.distance(e,n)/r),o=Math.floor((i+a)/2)+7;switch(o&3){case 0:o++;break;case 2:o--;break;case 3:throw new k(`Dimensions could be not found.`)}return o}calculateModuleSize(e,t,n){return(this.calculateModuleSizeOneWay(e,t)+this.calculateModuleSizeOneWay(e,n))/2}calculateModuleSizeOneWay(e,t){let n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(t.getX()),Math.floor(t.getY())),r=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(n)?r/7:isNaN(r)?n/7:(n+r)/14}sizeOfBlackWhiteBlackRunBothWays(e,t,n,r){let i=this.sizeOfBlackWhiteBlackRun(e,t,n,r),a=1,o=e-(n-e);o<0?(a=e/(e-o),o=0):o>=this.image.getWidth()&&(a=(this.image.getWidth()-1-e)/(o-e),o=this.image.getWidth()-1);let s=Math.floor(t-(r-t)*a);return a=1,s<0?(a=t/(t-s),s=0):s>=this.image.getHeight()&&(a=(this.image.getHeight()-1-t)/(s-t),s=this.image.getHeight()-1),o=Math.floor(e+(o-e)*a),i+=this.sizeOfBlackWhiteBlackRun(e,t,o,s),i-1}sizeOfBlackWhiteBlackRun(e,t,n,r){let i=Math.abs(r-t)>Math.abs(n-e);if(i){let i=e;e=t,t=i,i=n,n=r,r=i}let a=Math.abs(n-e),o=Math.abs(r-t),s=-a/2,c=e<n?1:-1,l=t<r?1:-1,u=0,d=n+c;for(let n=e,f=t;n!==d;n+=c){let c=i?f:n,d=i?n:f;if(u===1===this.image.get(c,d)){if(u===2)return ye.distance(n,f,e,t);u++}if(s+=o,s>0){if(f===r)break;f+=l,s-=a}}return u===2?ye.distance(n+c,r,e,t):NaN}findAlignmentInRegion(e,t,n,r){let i=Math.floor(r*e),a=Math.max(0,t-i),o=Math.min(this.image.getWidth()-1,t+i);if(o-a<e*3)throw new k(`Alignment top exceeds estimated module size.`);let s=Math.max(0,n-i),c=Math.min(this.image.getHeight()-1,n+i);if(c-s<e*3)throw new k(`Alignment bottom exceeds estimated module size.`);return new Ht(this.image,a,s,o-a,c-s,e,this.resultPointCallback).find()}}class qt{constructor(){this.decoder=new Bt}getDecoder(){return this.decoder}decode(e,t){let n,r;if(t!=null&&t.get(b.PURE_BARCODE)!==void 0){let i=qt.extractPureBits(e.getBlackMatrix());n=this.decoder.decodeBitMatrix(i,t),r=qt.NO_POINTS}else{let i=new Kt(e.getBlackMatrix()).detect(t);n=this.decoder.decodeBitMatrix(i.getBits(),t),r=i.getPoints()}n.getOther()instanceof zt&&n.getOther().applyMirroredCorrection(r);let i=new ae(n.getText(),n.getRawBytes(),void 0,r,N.QR_CODE,void 0),a=n.getByteSegments();a!==null&&i.putMetadata(ce.BYTE_SEGMENTS,a);let o=n.getECLevel();return o!==null&&i.putMetadata(ce.ERROR_CORRECTION_LEVEL,o),n.hasStructuredAppend()&&(i.putMetadata(ce.STRUCTURED_APPEND_SEQUENCE,n.getStructuredAppendSequenceNumber()),i.putMetadata(ce.STRUCTURED_APPEND_PARITY,n.getStructuredAppendParity())),i}reset(){}static extractPureBits(e){let t=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(t===null||n===null)throw new k;let r=this.moduleSize(t,e),i=t[1],a=n[1],o=t[0],s=n[0];if(o>=s||i>=a||a-i!==s-o&&(s=o+(a-i),s>=e.getWidth()))throw new k;let c=Math.round((s-o+1)/r),l=Math.round((a-i+1)/r);if(c<=0||l<=0||l!==c)throw new k;let u=Math.floor(r/2);i+=u,o+=u;let d=o+Math.floor((c-1)*r)-s;if(d>0){if(d>u)throw new k;o-=d}let f=i+Math.floor((l-1)*r)-a;if(f>0){if(f>u)throw new k;i-=f}let p=new O(c,l);for(let t=0;t<l;t++){let n=i+Math.floor(t*r);for(let i=0;i<c;i++)e.get(o+Math.floor(i*r),n)&&p.set(i,t)}return p}static moduleSize(e,t){let n=t.getHeight(),r=t.getWidth(),i=e[0],a=e[1],o=!0,s=0;for(;i<r&&a<n;){if(o!==t.get(i,a)){if(++s===5)break;o=!o}i++,a++}if(i===r||a===n)throw new k;return(i-e[0])/7}}qt.NO_POINTS=[];class W{PDF417Common(){}static getBitCountSum(e){return ye.sum(e)}static toIntArray(e){if(e==null||!e.length)return W.EMPTY_INT_ARRAY;let t=new Int32Array(e.length),n=0;for(let r of e)t[n++]=r;return t}static getCodeword(e){let t=g.binarySearch(W.SYMBOL_TABLE,e&262143);return t<0?-1:(W.CODEWORD_TABLE[t]-1)%W.NUMBER_OF_CODEWORDS}}W.NUMBER_OF_CODEWORDS=929,W.MAX_CODEWORDS_IN_BARCODE=W.NUMBER_OF_CODEWORDS-1,W.MIN_ROWS_IN_BARCODE=3,W.MAX_ROWS_IN_BARCODE=90,W.MODULES_IN_CODEWORD=17,W.MODULES_IN_STOP_PATTERN=18,W.BARS_IN_MODULE=8,W.EMPTY_INT_ARRAY=new Int32Array([]),W.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),W.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class Jt{constructor(e,t){this.bits=e,this.points=t}getBits(){return this.bits}getPoints(){return this.points}}class G{static detectMultiple(e,t,n){let r=e.getBlackMatrix(),i=G.detect(n,r);return i.length||(r=r.clone(),r.rotate180(),i=G.detect(n,r)),new Jt(r,i)}static detect(e,t){let n=[],r=0,i=0,a=!1;for(;r<t.getHeight();){let o=G.findVertices(t,r,i);if(o[0]==null&&o[3]==null){if(!a)break;a=!1,i=0;for(let e of n)e[1]!=null&&(r=Math.trunc(Math.max(r,e[1].getY()))),e[3]!=null&&(r=Math.max(r,Math.trunc(e[3].getY())));r+=G.ROW_STEP;continue}if(a=!0,n.push(o),!e)break;o[2]==null?(i=Math.trunc(o[4].getX()),r=Math.trunc(o[4].getY())):(i=Math.trunc(o[2].getX()),r=Math.trunc(o[2].getY()))}return n}static findVertices(e,t,n){let r=e.getHeight(),i=e.getWidth(),a=Array(8);return G.copyToResult(a,G.findRowsWithPattern(e,r,i,t,n,G.START_PATTERN),G.INDEXES_START_PATTERN),a[4]!=null&&(n=Math.trunc(a[4].getX()),t=Math.trunc(a[4].getY())),G.copyToResult(a,G.findRowsWithPattern(e,r,i,t,n,G.STOP_PATTERN),G.INDEXES_STOP_PATTERN),a}static copyToResult(e,t,n){for(let r=0;r<n.length;r++)e[n[r]]=t[r]}static findRowsWithPattern(e,t,n,r,i,a){let o=[,,,,],s=!1,c=new Int32Array(a.length);for(;r<t;r+=G.ROW_STEP){let t=G.findGuardPattern(e,i,r,n,!1,a,c);if(t!=null){for(;r>0;){let o=G.findGuardPattern(e,i,--r,n,!1,a,c);if(o!=null)t=o;else{r++;break}}o[0]=new P(t[0],r),o[1]=new P(t[1],r),s=!0;break}}let l=r+1;if(s){let r=0,i=Int32Array.from([Math.trunc(o[0].getX()),Math.trunc(o[1].getX())]);for(;l<t;l++){let t=G.findGuardPattern(e,i[0],l,n,!1,a,c);if(t!=null&&Math.abs(i[0]-t[0])<G.MAX_PATTERN_DRIFT&&Math.abs(i[1]-t[1])<G.MAX_PATTERN_DRIFT)i=t,r=0;else if(r>G.SKIPPED_ROW_COUNT_MAX)break;else r++}l-=r+1,o[2]=new P(i[0],l),o[3]=new P(i[1],l)}return l-r<G.BARCODE_MIN_HEIGHT&&g.fill(o,null),o}static findGuardPattern(e,t,n,r,i,a,o){g.fillWithin(o,0,o.length,0);let s=t,c=0;for(;e.get(s,n)&&s>0&&c++<G.MAX_PIXEL_DRIFT;)s--;let l=s,u=0,d=a.length;for(let t=i;l<r;l++)if(e.get(l,n)!==t)o[u]++;else{if(u===d-1){if(G.patternMatchVariance(o,a,G.MAX_INDIVIDUAL_VARIANCE)<G.MAX_AVG_VARIANCE)return new Int32Array([s,l]);s+=o[0]+o[1],p.arraycopy(o,2,o,0,u-1),o[u-1]=0,o[u]=0,u--}else u++;o[u]=1,t=!t}return u===d-1&&G.patternMatchVariance(o,a,G.MAX_INDIVIDUAL_VARIANCE)<G.MAX_AVG_VARIANCE?new Int32Array([s,l-1]):null}static patternMatchVariance(e,t,n){let r=e.length,i=0,a=0;for(let n=0;n<r;n++)i+=e[n],a+=t[n];if(i<a)return 1/0;let o=i/a;n*=o;let s=0;for(let i=0;i<r;i++){let r=e[i],a=t[i]*o,c=r>a?r-a:a-r;if(c>n)return 1/0;s+=c}return s/i}}G.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),G.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),G.MAX_AVG_VARIANCE=.42,G.MAX_INDIVIDUAL_VARIANCE=.8,G.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),G.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),G.MAX_PIXEL_DRIFT=3,G.MAX_PATTERN_DRIFT=5,G.SKIPPED_ROW_COUNT_MAX=25,G.ROW_STEP=5,G.BARCODE_MIN_HEIGHT=10;class Yt{constructor(e,t){if(t.length===0)throw new l;this.field=e;let n=t.length;if(n>1&&t[0]===0){let e=1;for(;e<n&&t[e]===0;)e++;e===n?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(n-e),p.arraycopy(t,e,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);if(e===1){let e=0;for(let t of this.coefficients)e=this.field.add(e,t);return e}let t=this.coefficients[0],n=this.coefficients.length;for(let r=1;r<n;r++)t=this.field.add(this.field.multiply(e,t),this.coefficients[r]);return t}add(e){if(!this.field.equals(e.field))throw new l(`ModulusPolys do not have same ModulusGF field`);if(this.isZero())return e;if(e.isZero())return this;let t=this.coefficients,n=e.coefficients;if(t.length>n.length){let e=t;t=n,n=e}let r=new Int32Array(n.length),i=n.length-t.length;p.arraycopy(n,0,r,0,i);for(let e=i;e<n.length;e++)r[e]=this.field.add(t[e-i],n[e]);return new Yt(this.field,r)}subtract(e){if(!this.field.equals(e.field))throw new l(`ModulusPolys do not have same ModulusGF field`);return e.isZero()?this:this.add(e.negative())}multiply(e){return e instanceof Yt?this.multiplyOther(e):this.multiplyScalar(e)}multiplyOther(e){if(!this.field.equals(e.field))throw new l(`ModulusPolys do not have same ModulusGF field`);if(this.isZero()||e.isZero())return new Yt(this.field,new Int32Array([0]));let t=this.coefficients,n=t.length,r=e.coefficients,i=r.length,a=new Int32Array(n+i-1);for(let e=0;e<n;e++){let n=t[e];for(let t=0;t<i;t++)a[e+t]=this.field.add(a[e+t],this.field.multiply(n,r[t]))}return new Yt(this.field,a)}negative(){let e=this.coefficients.length,t=new Int32Array(e);for(let n=0;n<e;n++)t[n]=this.field.subtract(0,this.coefficients[n]);return new Yt(this.field,t)}multiplyScalar(e){if(e===0)return new Yt(this.field,new Int32Array([0]));if(e===1)return this;let t=this.coefficients.length,n=new Int32Array(t);for(let r=0;r<t;r++)n[r]=this.field.multiply(this.coefficients[r],e);return new Yt(this.field,n)}multiplyByMonomial(e,t){if(e<0)throw new l;if(t===0)return new Yt(this.field,new Int32Array([0]));let n=this.coefficients.length,r=new Int32Array(n+e);for(let e=0;e<n;e++)r[e]=this.field.multiply(this.coefficients[e],t);return new Yt(this.field,r)}toString(){let e=new D;for(let t=this.getDegree();t>=0;t--){let n=this.getCoefficient(t);n!==0&&(n<0?(e.append(` - `),n=-n):e.length()>0&&e.append(` + `),(t===0||n!==1)&&e.append(n),t!==0&&(t===1?e.append(`x`):(e.append(`x^`),e.append(t))))}return e.toString()}}class Xt{add(e,t){return(e+t)%this.modulus}subtract(e,t){return(this.modulus+e-t)%this.modulus}exp(e){return this.expTable[e]}log(e){if(e===0)throw new l;return this.logTable[e]}inverse(e){if(e===0)throw new fe;return this.expTable[this.modulus-this.logTable[e]-1]}multiply(e,t){return e===0||t===0?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.modulus-1)]}getSize(){return this.modulus}equals(e){return e===this}}class Zt extends Xt{constructor(e,t){super(),this.modulus=e,this.expTable=new Int32Array(e),this.logTable=new Int32Array(e);let n=1;for(let r=0;r<e;r++)this.expTable[r]=n,n=n*t%e;for(let t=0;t<e-1;t++)this.logTable[this.expTable[t]]=t;this.zero=new Yt(this,new Int32Array([0])),this.one=new Yt(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,t){if(e<0)throw new l;if(t===0)return this.zero;let n=new Int32Array(e+1);return n[0]=t,new Yt(this,n)}}Zt.PDF417_GF=new Zt(W.NUMBER_OF_CODEWORDS,3);class Qt{constructor(){this.field=Zt.PDF417_GF}decode(e,t,n){let r=new Yt(this.field,e),i=new Int32Array(t),a=!1;for(let e=t;e>0;e--){let n=r.evaluateAt(this.field.exp(e));i[t-e]=n,n!==0&&(a=!0)}if(!a)return 0;let o=this.field.getOne();if(n!=null)for(let t of n){let n=this.field.exp(e.length-1-t),r=new Yt(this.field,new Int32Array([this.field.subtract(0,n),1]));o=o.multiply(r)}let s=new Yt(this.field,i),c=this.runEuclideanAlgorithm(this.field.buildMonomial(t,1),s,t),l=c[0],u=c[1],f=this.findErrorLocations(l),p=this.findErrorMagnitudes(u,l,f);for(let t=0;t<f.length;t++){let n=e.length-1-this.field.log(f[t]);if(n<0)throw d.getChecksumInstance();e[n]=this.field.subtract(e[n],p[t])}return f.length}runEuclideanAlgorithm(e,t,n){if(e.getDegree()<t.getDegree()){let n=e;e=t,t=n}let r=e,i=t,a=this.field.getZero(),o=this.field.getOne();for(;i.getDegree()>=Math.round(n/2);){let e=r,t=a;if(r=i,a=o,r.isZero())throw d.getChecksumInstance();i=e;let n=this.field.getZero(),s=r.getCoefficient(r.getDegree()),c=this.field.inverse(s);for(;i.getDegree()>=r.getDegree()&&!i.isZero();){let e=i.getDegree()-r.getDegree(),t=this.field.multiply(i.getCoefficient(i.getDegree()),c);n=n.add(this.field.buildMonomial(e,t)),i=i.subtract(r.multiplyByMonomial(e,t))}o=n.multiply(a).subtract(t).negative()}let s=o.getCoefficient(0);if(s===0)throw d.getChecksumInstance();let c=this.field.inverse(s);return[o.multiply(c),i.multiply(c)]}findErrorLocations(e){let t=e.getDegree(),n=new Int32Array(t),r=0;for(let i=1;i<this.field.getSize()&&r<t;i++)e.evaluateAt(i)===0&&(n[r]=this.field.inverse(i),r++);if(r!==t)throw d.getChecksumInstance();return n}findErrorMagnitudes(e,t,n){let r=t.getDegree(),i=new Int32Array(r);for(let e=1;e<=r;e++)i[r-e]=this.field.multiply(e,t.getCoefficient(e));let a=new Yt(this.field,i),o=n.length,s=new Int32Array(o);for(let t=0;t<o;t++){let r=this.field.inverse(n[t]),i=this.field.subtract(0,e.evaluateAt(r)),o=this.field.inverse(a.evaluateAt(r));s[t]=this.field.multiply(i,o)}return s}}class $t{constructor(e,t,n,r,i){e instanceof $t?this.constructor_2(e):this.constructor_1(e,t,n,r,i)}constructor_1(e,t,n,r,i){let a=t==null||n==null,o=r==null||i==null;if(a&&o)throw new k;a?(t=new P(0,r.getY()),n=new P(0,i.getY())):o&&(r=new P(e.getWidth()-1,t.getY()),i=new P(e.getWidth()-1,n.getY())),this.image=e,this.topLeft=t,this.bottomLeft=n,this.topRight=r,this.bottomRight=i,this.minX=Math.trunc(Math.min(t.getX(),n.getX())),this.maxX=Math.trunc(Math.max(r.getX(),i.getX())),this.minY=Math.trunc(Math.min(t.getY(),r.getY())),this.maxY=Math.trunc(Math.max(n.getY(),i.getY()))}constructor_2(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()}static merge(e,t){return e==null?t:t==null?e:new $t(e.image,e.topLeft,e.bottomLeft,t.topRight,t.bottomRight)}addMissingRows(e,t,n){let r=this.topLeft,i=this.bottomLeft,a=this.topRight,o=this.bottomRight;if(e>0){let t=n?this.topLeft:this.topRight,i=Math.trunc(t.getY()-e);i<0&&(i=0);let o=new P(t.getX(),i);n?r=o:a=o}if(t>0){let e=n?this.bottomLeft:this.bottomRight,r=Math.trunc(e.getY()+t);r>=this.image.getHeight()&&(r=this.image.getHeight()-1);let a=new P(e.getX(),r);n?i=a:o=a}return new $t(this.image,r,i,a,o)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class en{constructor(e,t,n,r){this.columnCount=e,this.errorCorrectionLevel=r,this.rowCountUpperPart=t,this.rowCountLowerPart=n,this.rowCount=t+n}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class tn{constructor(){this.buffer=``}static form(e,t){let n=-1;function r(e,r,i,a,o,s){if(e===`%%`)return`%`;if(t[++n]===void 0)return;e=a?parseInt(a.substr(1)):void 0;let c=o?parseInt(o.substr(1)):void 0,l;switch(s){case`s`:l=t[n];break;case`c`:l=t[n][0];break;case`f`:l=parseFloat(t[n]).toFixed(e);break;case`p`:l=parseFloat(t[n]).toPrecision(e);break;case`e`:l=parseFloat(t[n]).toExponential(e);break;case`x`:l=parseInt(t[n]).toString(c||16);break;case`d`:l=parseFloat(parseInt(t[n],c||10).toPrecision(e)).toFixed(0);break}l=typeof l==`object`?JSON.stringify(l):(+l).toString(c);let u=parseInt(i),d=i&&i[0]+``==`0`?`0`:` `;for(;l.length<u;)l=r===void 0?d+l:l+d;return l}return e.replace(/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g,r)}format(e,...t){this.buffer+=tn.form(e,t)}toString(){return this.buffer}}class nn{constructor(e){this.boundingBox=new $t(e),this.codewords=Array(e.getMaxY()-e.getMinY()+1)}getCodewordNearby(e){let t=this.getCodeword(e);if(t!=null)return t;for(let n=1;n<nn.MAX_NEARBY_DISTANCE;n++){let r=this.imageRowToCodewordIndex(e)-n;if(r>=0&&(t=this.codewords[r],t!=null)||(r=this.imageRowToCodewordIndex(e)+n,r<this.codewords.length&&(t=this.codewords[r],t!=null)))return t}return null}imageRowToCodewordIndex(e){return e-this.boundingBox.getMinY()}setCodeword(e,t){this.codewords[this.imageRowToCodewordIndex(e)]=t}getCodeword(e){return this.codewords[this.imageRowToCodewordIndex(e)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){let e=new tn,t=0;for(let n of this.codewords){if(n==null){e.format(`%3d:    |   %n`,t++);continue}e.format(`%3d: %3d|%3d%n`,t++,n.getRowNumber(),n.getValue())}return e.toString()}}nn.MAX_NEARBY_DISTANCE=5;class rn{constructor(){this.values=new Map}setValue(e){e=Math.trunc(e);let t=this.values.get(e);t??=0,t++,this.values.set(e,t)}getValue(){let e=-1,t=[];for(let[n,r]of this.values.entries()){let i={getKey:()=>n,getValue:()=>r};i.getValue()>e?(e=i.getValue(),t=[],t.push(i.getKey())):i.getValue()===e&&t.push(i.getKey())}return W.toIntArray(t)}getConfidence(e){return this.values.get(e)}}class an extends nn{constructor(e,t){super(e),this._isLeft=t}setRowNumbers(){for(let e of this.getCodewords())e?.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(e){let t=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(t,e);let n=this.getBoundingBox(),r=this._isLeft?n.getTopLeft():n.getTopRight(),i=this._isLeft?n.getBottomLeft():n.getBottomRight(),a=this.imageRowToCodewordIndex(Math.trunc(r.getY())),o=this.imageRowToCodewordIndex(Math.trunc(i.getY())),s=-1,c=1,l=0;for(let n=a;n<o;n++){if(t[n]==null)continue;let r=t[n],i=r.getRowNumber()-s;if(i===0)l++;else if(i===1)c=Math.max(c,l),l=1,s=r.getRowNumber();else if(i<0||r.getRowNumber()>=e.getRowCount()||i>n)t[n]=null;else{let e;e=c>2?(c-2)*i:i;let a=e>=n;for(let r=1;r<=e&&!a;r++)a=t[n-r]!=null;a?t[n]=null:(s=r.getRowNumber(),l=1)}}}getRowHeights(){let e=this.getBarcodeMetadata();if(e==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(e);let t=new Int32Array(e.getRowCount());for(let e of this.getCodewords())if(e!=null){let n=e.getRowNumber();if(n>=t.length)continue;t[n]++}return t}adjustIncompleteIndicatorColumnRowNumbers(e){let t=this.getBoundingBox(),n=this._isLeft?t.getTopLeft():t.getTopRight(),r=this._isLeft?t.getBottomLeft():t.getBottomRight(),i=this.imageRowToCodewordIndex(Math.trunc(n.getY())),a=this.imageRowToCodewordIndex(Math.trunc(r.getY())),o=this.getCodewords(),s=-1;for(let t=i;t<a;t++){if(o[t]==null)continue;let n=o[t];n.setRowNumberAsRowIndicatorColumn();let r=n.getRowNumber()-s;r===0||(r===1?s=n.getRowNumber():n.getRowNumber()>=e.getRowCount()?o[t]=null:s=n.getRowNumber())}}getBarcodeMetadata(){let e=this.getCodewords(),t=new rn,n=new rn,r=new rn,i=new rn;for(let a of e){if(a==null)continue;a.setRowNumberAsRowIndicatorColumn();let e=a.getValue()%30,o=a.getRowNumber();switch(this._isLeft||(o+=2),o%3){case 0:n.setValue(e*3+1);break;case 1:i.setValue(e/3),r.setValue(e%3);break;case 2:t.setValue(e+1);break}}if(t.getValue().length===0||n.getValue().length===0||r.getValue().length===0||i.getValue().length===0||t.getValue()[0]<1||n.getValue()[0]+r.getValue()[0]<W.MIN_ROWS_IN_BARCODE||n.getValue()[0]+r.getValue()[0]>W.MAX_ROWS_IN_BARCODE)return null;let a=new en(t.getValue()[0],n.getValue()[0],r.getValue()[0],i.getValue()[0]);return this.removeIncorrectCodewords(e,a),a}removeIncorrectCodewords(e,t){for(let n=0;n<e.length;n++){let r=e[n];if(e[n]==null)continue;let i=r.getValue()%30,a=r.getRowNumber();if(a>t.getRowCount()){e[n]=null;continue}switch(this._isLeft||(a+=2),a%3){case 0:i*3+1!==t.getRowCountUpperPart()&&(e[n]=null);break;case 1:(Math.trunc(i/3)!==t.getErrorCorrectionLevel()||i%3!==t.getRowCountLowerPart())&&(e[n]=null);break;case 2:i+1!==t.getColumnCount()&&(e[n]=null);break}}}isLeft(){return this._isLeft}toString(){return`IsLeft: `+this._isLeft+`
`+super.toString()}}class on{constructor(e,t){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=t,this.detectionResultColumns=Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let e=W.MAX_CODEWORDS_IN_BARCODE,t;do t=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<t);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(e){e?.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let e=this.adjustRowNumbersByRow();if(e===0)return 0;for(let e=1;e<this.barcodeColumnCount+1;e++){let t=this.detectionResultColumns[e].getCodewords();for(let n=0;n<t.length;n++)t[n]!=null&&(t[n].hasValidRowNumber()||this.adjustRowNumbers(e,n,t))}return e}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let e=this.detectionResultColumns[0].getCodewords(),t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let n=0;n<e.length;n++)if(e[n]!=null&&t[n]!=null&&e[n].getRowNumber()===t[n].getRowNumber())for(let t=1;t<=this.barcodeColumnCount;t++){let r=this.detectionResultColumns[t].getCodewords()[n];r!=null&&(r.setRowNumber(e[n].getRowNumber()),r.hasValidRowNumber()||(this.detectionResultColumns[t].getCodewords()[n]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let e=0,t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let n=0;n<t.length;n++){if(t[n]==null)continue;let r=t[n].getRowNumber(),i=0;for(let t=this.barcodeColumnCount+1;t>0&&i<this.ADJUST_ROW_NUMBER_SKIP;t--){let a=this.detectionResultColumns[t].getCodewords()[n];a!=null&&(i=on.adjustRowNumberIfValid(r,i,a),a.hasValidRowNumber()||e++)}}return e}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let e=0,t=this.detectionResultColumns[0].getCodewords();for(let n=0;n<t.length;n++){if(t[n]==null)continue;let r=t[n].getRowNumber(),i=0;for(let t=1;t<this.barcodeColumnCount+1&&i<this.ADJUST_ROW_NUMBER_SKIP;t++){let a=this.detectionResultColumns[t].getCodewords()[n];a!=null&&(i=on.adjustRowNumberIfValid(r,i,a),a.hasValidRowNumber()||e++)}}return e}static adjustRowNumberIfValid(e,t,n){return n==null||n.hasValidRowNumber()||(n.isValidRowNumber(e)?(n.setRowNumber(e),t=0):++t),t}adjustRowNumbers(e,t,n){if(!this.detectionResultColumns[e-1])return;let r=n[t],i=this.detectionResultColumns[e-1].getCodewords(),a=i;this.detectionResultColumns[e+1]!=null&&(a=this.detectionResultColumns[e+1].getCodewords());let o=Array(14);o[2]=i[t],o[3]=a[t],t>0&&(o[0]=n[t-1],o[4]=i[t-1],o[5]=a[t-1]),t>1&&(o[8]=n[t-2],o[10]=i[t-2],o[11]=a[t-2]),t<n.length-1&&(o[1]=n[t+1],o[6]=i[t+1],o[7]=a[t+1]),t<n.length-2&&(o[9]=n[t+2],o[12]=i[t+2],o[13]=a[t+2]);for(let e of o)if(on.adjustRowNumber(r,e))return}static adjustRowNumber(e,t){return t==null?!1:t.hasValidRowNumber()&&t.getBucket()===e.getBucket()?(e.setRowNumber(t.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(e){this.boundingBox=e}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(e,t){this.detectionResultColumns[e]=t}getDetectionResultColumn(e){return this.detectionResultColumns[e]}toString(){let e=this.detectionResultColumns[0];e??=this.detectionResultColumns[this.barcodeColumnCount+1];let t=new tn;for(let n=0;n<e.getCodewords().length;n++){t.format(`CW %3d:`,n);for(let e=0;e<this.barcodeColumnCount+2;e++){if(this.detectionResultColumns[e]==null){t.format(`    |   `);continue}let r=this.detectionResultColumns[e].getCodewords()[n];if(r==null){t.format(`    |   `);continue}t.format(` %3d|%3d`,r.getRowNumber(),r.getValue())}t.format(`%n`)}return t.toString()}}class sn{constructor(e,t,n,r){this.rowNumber=sn.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(t),this.bucket=Math.trunc(n),this.value=Math.trunc(r)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(e){return e!==sn.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(e){this.rowNumber=e}toString(){return this.rowNumber+`|`+this.value}}sn.BARCODE_ROW_UNKNOWN=-1;class cn{static initialize(){for(let e=0;e<W.SYMBOL_TABLE.length;e++){let t=W.SYMBOL_TABLE[e],n=t&1;for(let r=0;r<W.BARS_IN_MODULE;r++){let i=0;for(;(t&1)===n;)i+=1,t>>=1;n=t&1,cn.RATIOS_TABLE[e]||(cn.RATIOS_TABLE[e]=Array(W.BARS_IN_MODULE)),cn.RATIOS_TABLE[e][W.BARS_IN_MODULE-r-1]=Math.fround(i/W.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(e){let t=cn.getDecodedCodewordValue(cn.sampleBitCounts(e));return t===-1?cn.getClosestDecodedValue(e):t}static sampleBitCounts(e){let t=ye.sum(e),n=new Int32Array(W.BARS_IN_MODULE),r=0,i=0;for(let a=0;a<W.MODULES_IN_CODEWORD;a++){let o=t/(2*W.MODULES_IN_CODEWORD)+a*t/W.MODULES_IN_CODEWORD;i+e[r]<=o&&(i+=e[r],r++),n[r]++}return n}static getDecodedCodewordValue(e){let t=cn.getBitValue(e);return W.getCodeword(t)===-1?-1:t}static getBitValue(e){let t=0;for(let n=0;n<e.length;n++)for(let r=0;r<e[n];r++)t=t<<1|(n%2==0?1:0);return Math.trunc(t)}static getClosestDecodedValue(e){let t=ye.sum(e),n=Array(W.BARS_IN_MODULE);if(t>1)for(let r=0;r<n.length;r++)n[r]=Math.fround(e[r]/t);let r=be.MAX_VALUE,i=-1;this.bSymbolTableReady||cn.initialize();for(let e=0;e<cn.RATIOS_TABLE.length;e++){let t=0,a=cn.RATIOS_TABLE[e];for(let e=0;e<W.BARS_IN_MODULE;e++){let i=Math.fround(a[e]-n[e]);if(t+=Math.fround(i*i),t>=r)break}t<r&&(r=t,i=W.SYMBOL_TABLE[e])}return i}}cn.bSymbolTableReady=!1,cn.RATIOS_TABLE=Array(W.SYMBOL_TABLE.length).map(e=>e=Array(W.BARS_IN_MODULE));class ln{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(e){this.segmentIndex=e}getFileId(){return this.fileId}setFileId(e){this.fileId=e}getOptionalData(){return this.optionalData}setOptionalData(e){this.optionalData=e}isLastSegment(){return this.lastSegment}setLastSegment(e){this.lastSegment=e}getSegmentCount(){return this.segmentCount}setSegmentCount(e){this.segmentCount=e}getSender(){return this.sender||null}setSender(e){this.sender=e}getAddressee(){return this.addressee||null}setAddressee(e){this.addressee=e}getFileName(){return this.fileName}setFileName(e){this.fileName=e}getFileSize(){return this.fileSize}setFileSize(e){this.fileSize=e}getChecksum(){return this.checksum}setChecksum(e){this.checksum=e}getTimestamp(){return this.timestamp}setTimestamp(e){this.timestamp=e}}class un{static parseLong(e,t=void 0){return parseInt(e,t)}}class dn extends s{}dn.kind=`NullPointerException`;class fn{writeBytes(e){this.writeBytesOffset(e,0,e.length)}writeBytesOffset(e,t,n){if(e==null)throw new dn;if(t<0||t>e.length||n<0||t+n>e.length||t+n<0)throw new m;if(n!==0)for(let r=0;r<n;r++)this.write(e[t+r])}flush(){}close(){}}class pn extends s{}class mn extends fn{constructor(e=32){if(super(),this.count=0,e<0)throw new l(`Negative initial size: `+e);this.buf=new Uint8Array(e)}ensureCapacity(e){e-this.buf.length>0&&this.grow(e)}grow(e){let t=this.buf.length<<1;if(t-e<0&&(t=e),t<0){if(e<0)throw new pn;t=_.MAX_VALUE}this.buf=g.copyOfUint8Array(this.buf,t)}write(e){this.ensureCapacity(this.count+1),this.buf[this.count]=e,this.count+=1}writeBytesOffset(e,t,n){if(t<0||t>e.length||n<0||t+n-e.length>0)throw new m;this.ensureCapacity(this.count+n),p.arraycopy(e,t,this.buf,this.count,n),this.count+=n}writeTo(e){e.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return g.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(e){return e?typeof e==`string`?this.toString_string(e):this.toString_number(e):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(e){return new String(this.buf).toString()}toString_number(e){return new String(this.buf).toString()}close(){}}var hn;(function(e){e[e.ALPHA=0]=`ALPHA`,e[e.LOWER=1]=`LOWER`,e[e.MIXED=2]=`MIXED`,e[e.PUNCT=3]=`PUNCT`,e[e.ALPHA_SHIFT=4]=`ALPHA_SHIFT`,e[e.PUNCT_SHIFT=5]=`PUNCT_SHIFT`})(hn||={});function gn(){if(typeof window<`u`)return window.BigInt||null;if(typeof global<`u`)return global.BigInt||null;if(typeof self<`u`)return self.BigInt||null;throw Error(`Can't search globals for BigInt!`)}let _n;function vn(e){if(_n===void 0&&(_n=gn()),_n===null)throw Error(`BigInt is not supported!`);return _n(e)}function yn(){let e=[];e[0]=vn(1);let t=vn(900);e[1]=t;for(let n=2;n<16;n++)e[n]=e[n-1]*t;return e}class K{static decode(e,t){let n=new D(``),r=C.ISO8859_1;n.enableDecoding(r);let i=1,a=e[i++],o=new ln;for(;i<e[0];){switch(a){case K.TEXT_COMPACTION_MODE_LATCH:i=K.textCompaction(e,i,n);break;case K.BYTE_COMPACTION_MODE_LATCH:case K.BYTE_COMPACTION_MODE_LATCH_6:i=K.byteCompaction(a,e,r,i,n);break;case K.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(e[i++]);break;case K.NUMERIC_COMPACTION_MODE_LATCH:i=K.numericCompaction(e,i,n);break;case K.ECI_CHARSET:C.getCharacterSetECIByValue(e[i++]);break;case K.ECI_GENERAL_PURPOSE:i+=2;break;case K.ECI_USER_DEFINED:i++;break;case K.BEGIN_MACRO_PDF417_CONTROL_BLOCK:i=K.decodeMacroBlock(e,i,o);break;case K.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case K.MACRO_PDF417_TERMINATOR:throw new x;default:i--,i=K.textCompaction(e,i,n);break}if(i<e.length)a=e[i++];else throw x.getFormatInstance()}if(n.length()===0)throw x.getFormatInstance();let s=new le(null,n.toString(),null,t);return s.setOther(o),s}static decodeMacroBlock(e,t,n){if(t+K.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw x.getFormatInstance();let r=new Int32Array(K.NUMBER_OF_SEQUENCE_CODEWORDS);for(let n=0;n<K.NUMBER_OF_SEQUENCE_CODEWORDS;n++,t++)r[n]=e[t];n.setSegmentIndex(_.parseInt(K.decodeBase900toBase10(r,K.NUMBER_OF_SEQUENCE_CODEWORDS)));let i=new D;t=K.textCompaction(e,t,i),n.setFileId(i.toString());let a=-1;for(e[t]===K.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(a=t+1);t<e[0];)switch(e[t]){case K.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(t++,e[t]){case K.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let r=new D;t=K.textCompaction(e,t+1,r),n.setFileName(r.toString());break;case K.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let i=new D;t=K.textCompaction(e,t+1,i),n.setSender(i.toString());break;case K.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let a=new D;t=K.textCompaction(e,t+1,a),n.setAddressee(a.toString());break;case K.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let o=new D;t=K.numericCompaction(e,t+1,o),n.setSegmentCount(_.parseInt(o.toString()));break;case K.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let s=new D;t=K.numericCompaction(e,t+1,s),n.setTimestamp(un.parseLong(s.toString()));break;case K.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let c=new D;t=K.numericCompaction(e,t+1,c),n.setChecksum(_.parseInt(c.toString()));break;case K.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let l=new D;t=K.numericCompaction(e,t+1,l),n.setFileSize(un.parseLong(l.toString()));break;default:throw x.getFormatInstance()}break;case K.MACRO_PDF417_TERMINATOR:t++,n.setLastSegment(!0);break;default:throw x.getFormatInstance()}if(a!==-1){let r=t-a;n.isLastSegment()&&r--,n.setOptionalData(g.copyOfRange(e,a,a+r))}return t}static textCompaction(e,t,n){let r=new Int32Array((e[0]-t)*2),i=new Int32Array((e[0]-t)*2),a=0,o=!1;for(;t<e[0]&&!o;){let n=e[t++];if(n<K.TEXT_COMPACTION_MODE_LATCH)r[a]=n/30,r[a+1]=n%30,a+=2;else switch(n){case K.TEXT_COMPACTION_MODE_LATCH:r[a++]=K.TEXT_COMPACTION_MODE_LATCH;break;case K.BYTE_COMPACTION_MODE_LATCH:case K.BYTE_COMPACTION_MODE_LATCH_6:case K.NUMERIC_COMPACTION_MODE_LATCH:case K.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case K.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case K.MACRO_PDF417_TERMINATOR:t--,o=!0;break;case K.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r[a]=K.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,n=e[t++],i[a]=n,a++;break}}return K.decodeTextCompaction(r,i,a,n),t}static decodeTextCompaction(e,t,n,r){let i=hn.ALPHA,a=hn.ALPHA,o=0;for(;o<n;){let n=e[o],s=``;switch(i){case hn.ALPHA:if(n<26)s=String.fromCharCode(65+n);else switch(n){case 26:s=` `;break;case K.LL:i=hn.LOWER;break;case K.ML:i=hn.MIXED;break;case K.PS:a=i,i=hn.PUNCT_SHIFT;break;case K.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(t[o]);break;case K.TEXT_COMPACTION_MODE_LATCH:i=hn.ALPHA;break}break;case hn.LOWER:if(n<26)s=String.fromCharCode(97+n);else switch(n){case 26:s=` `;break;case K.AS:a=i,i=hn.ALPHA_SHIFT;break;case K.ML:i=hn.MIXED;break;case K.PS:a=i,i=hn.PUNCT_SHIFT;break;case K.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(t[o]);break;case K.TEXT_COMPACTION_MODE_LATCH:i=hn.ALPHA;break}break;case hn.MIXED:if(n<K.PL)s=K.MIXED_CHARS[n];else switch(n){case K.PL:i=hn.PUNCT;break;case 26:s=` `;break;case K.LL:i=hn.LOWER;break;case K.AL:i=hn.ALPHA;break;case K.PS:a=i,i=hn.PUNCT_SHIFT;break;case K.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(t[o]);break;case K.TEXT_COMPACTION_MODE_LATCH:i=hn.ALPHA;break}break;case hn.PUNCT:if(n<K.PAL)s=K.PUNCT_CHARS[n];else switch(n){case K.PAL:i=hn.ALPHA;break;case K.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(t[o]);break;case K.TEXT_COMPACTION_MODE_LATCH:i=hn.ALPHA;break}break;case hn.ALPHA_SHIFT:if(i=a,n<26)s=String.fromCharCode(65+n);else switch(n){case 26:s=` `;break;case K.TEXT_COMPACTION_MODE_LATCH:i=hn.ALPHA;break}break;case hn.PUNCT_SHIFT:if(i=a,n<K.PAL)s=K.PUNCT_CHARS[n];else switch(n){case K.PAL:i=hn.ALPHA;break;case K.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:r.append(t[o]);break;case K.TEXT_COMPACTION_MODE_LATCH:i=hn.ALPHA;break}break}s!==``&&r.append(s),o++}}static byteCompaction(e,t,n,r,i){let a=new mn,o=0,s=0,c=!1;switch(e){case K.BYTE_COMPACTION_MODE_LATCH:let e=new Int32Array(6),n=t[r++];for(;r<t[0]&&!c;)switch(e[o++]=n,s=900*s+n,n=t[r++],n){case K.TEXT_COMPACTION_MODE_LATCH:case K.BYTE_COMPACTION_MODE_LATCH:case K.NUMERIC_COMPACTION_MODE_LATCH:case K.BYTE_COMPACTION_MODE_LATCH_6:case K.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case K.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case K.MACRO_PDF417_TERMINATOR:r--,c=!0;break;default:if(o%5==0&&o>0){for(let e=0;e<6;++e)a.write(Number(vn(s)>>vn(8*(5-e))));s=0,o=0}break}r===t[0]&&n<K.TEXT_COMPACTION_MODE_LATCH&&(e[o++]=n);for(let t=0;t<o;t++)a.write(e[t]);break;case K.BYTE_COMPACTION_MODE_LATCH_6:for(;r<t[0]&&!c;){let e=t[r++];if(e<K.TEXT_COMPACTION_MODE_LATCH)o++,s=900*s+e;else switch(e){case K.TEXT_COMPACTION_MODE_LATCH:case K.BYTE_COMPACTION_MODE_LATCH:case K.NUMERIC_COMPACTION_MODE_LATCH:case K.BYTE_COMPACTION_MODE_LATCH_6:case K.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case K.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case K.MACRO_PDF417_TERMINATOR:r--,c=!0;break}if(o%5==0&&o>0){for(let e=0;e<6;++e)a.write(Number(vn(s)>>vn(8*(5-e))));s=0,o=0}}break}return i.append(T.decode(a.toByteArray(),n)),r}static numericCompaction(e,t,n){let r=0,i=!1,a=new Int32Array(K.MAX_NUMERIC_CODEWORDS);for(;t<e[0]&&!i;){let o=e[t++];if(t===e[0]&&(i=!0),o<K.TEXT_COMPACTION_MODE_LATCH)a[r]=o,r++;else switch(o){case K.TEXT_COMPACTION_MODE_LATCH:case K.BYTE_COMPACTION_MODE_LATCH:case K.BYTE_COMPACTION_MODE_LATCH_6:case K.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case K.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case K.MACRO_PDF417_TERMINATOR:t--,i=!0;break}(r%K.MAX_NUMERIC_CODEWORDS===0||o===K.NUMERIC_COMPACTION_MODE_LATCH||i)&&r>0&&(n.append(K.decodeBase900toBase10(a,r)),r=0)}return t}static decodeBase900toBase10(e,t){let n=vn(0);for(let r=0;r<t;r++)n+=K.EXP900[t-r-1]*vn(e[r]);let r=n.toString();if(r.charAt(0)!==`1`)throw new x;return r.substring(1)}}K.TEXT_COMPACTION_MODE_LATCH=900,K.BYTE_COMPACTION_MODE_LATCH=901,K.NUMERIC_COMPACTION_MODE_LATCH=902,K.BYTE_COMPACTION_MODE_LATCH_6=924,K.ECI_USER_DEFINED=925,K.ECI_GENERAL_PURPOSE=926,K.ECI_CHARSET=927,K.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,K.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,K.MACRO_PDF417_TERMINATOR=922,K.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,K.MAX_NUMERIC_CODEWORDS=15,K.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,K.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,K.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,K.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,K.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,K.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,K.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,K.PL=25,K.LL=27,K.AS=27,K.ML=28,K.AL=28,K.PS=29,K.PAL=29,K.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,K.MIXED_CHARS=`0123456789&\r	,:#-.$/+%*=^`,K.EXP900=gn()?yn():[],K.NUMBER_OF_SEQUENCE_CODEWORDS=2;class q{constructor(){}static decode(e,t,n,r,i,a,o){let s=new $t(e,t,n,r,i),c=null,l=null,u;for(let n=!0;;n=!1){if(t!=null&&(c=q.getRowIndicatorColumn(e,s,t,!0,a,o)),r!=null&&(l=q.getRowIndicatorColumn(e,s,r,!1,a,o)),u=q.merge(c,l),u==null)throw k.getNotFoundInstance();let i=u.getBoundingBox();if(n&&i!=null&&(i.getMinY()<s.getMinY()||i.getMaxY()>s.getMaxY()))s=i;else break}u.setBoundingBox(s);let d=u.getBarcodeColumnCount()+1;u.setDetectionResultColumn(0,c),u.setDetectionResultColumn(d,l);let f=c!=null;for(let t=1;t<=d;t++){let n=f?t:d-t;if(u.getDetectionResultColumn(n)!==void 0)continue;let r;r=n===0||n===d?new an(s,n===0):new nn(s),u.setDetectionResultColumn(n,r);let i=-1,c=i;for(let t=s.getMinY();t<=s.getMaxY();t++){if(i=q.getStartColumn(u,n,t,f),i<0||i>s.getMaxX()){if(c===-1)continue;i=c}let l=q.detectCodeword(e,s.getMinX(),s.getMaxX(),f,i,t,a,o);l!=null&&(r.setCodeword(t,l),c=i,a=Math.min(a,l.getWidth()),o=Math.max(o,l.getWidth()))}}return q.createDecoderResult(u)}static merge(e,t){if(e==null&&t==null)return null;let n=q.getBarcodeMetadata(e,t);return n==null?null:new on(n,$t.merge(q.adjustBoundingBox(e),q.adjustBoundingBox(t)))}static adjustBoundingBox(e){if(e==null)return null;let t=e.getRowHeights();if(t==null)return null;let n=q.getMax(t),r=0;for(let e of t)if(r+=n-e,e>0)break;let i=e.getCodewords();for(let e=0;r>0&&i[e]==null;e++)r--;let a=0;for(let e=t.length-1;e>=0&&(a+=n-t[e],!(t[e]>0));e--);for(let e=i.length-1;a>0&&i[e]==null;e--)a--;return e.getBoundingBox().addMissingRows(r,a,e.isLeft())}static getMax(e){let t=-1;for(let n of e)t=Math.max(t,n);return t}static getBarcodeMetadata(e,t){let n;if(e==null||(n=e.getBarcodeMetadata())==null)return t==null?null:t.getBarcodeMetadata();let r;return t==null||(r=t.getBarcodeMetadata())==null?n:n.getColumnCount()!==r.getColumnCount()&&n.getErrorCorrectionLevel()!==r.getErrorCorrectionLevel()&&n.getRowCount()!==r.getRowCount()?null:n}static getRowIndicatorColumn(e,t,n,r,i,a){let o=new an(t,r);for(let s=0;s<2;s++){let c=s===0?1:-1,l=Math.trunc(Math.trunc(n.getX()));for(let s=Math.trunc(Math.trunc(n.getY()));s<=t.getMaxY()&&s>=t.getMinY();s+=c){let t=q.detectCodeword(e,0,e.getWidth(),r,l,s,i,a);t!=null&&(o.setCodeword(s,t),l=r?t.getStartX():t.getEndX())}}return o}static adjustCodewordCount(e,t){let n=t[0][1],r=n.getValue(),i=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-q.getNumberOfECCodeWords(e.getBarcodeECLevel());if(r.length===0){if(i<1||i>W.MAX_CODEWORDS_IN_BARCODE)throw k.getNotFoundInstance();n.setValue(i)}else r[0]!==i&&n.setValue(i)}static createDecoderResult(e){let t=q.createBarcodeMatrix(e);q.adjustCodewordCount(e,t);let n=[],r=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),i=[],a=[];for(let o=0;o<e.getBarcodeRowCount();o++)for(let s=0;s<e.getBarcodeColumnCount();s++){let c=t[o][s+1].getValue(),l=o*e.getBarcodeColumnCount()+s;c.length===0?n.push(l):c.length===1?r[l]=c[0]:(a.push(l),i.push(c))}let o=Array(i.length);for(let e=0;e<o.length;e++)o[e]=i[e];return q.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),r,W.toIntArray(n),W.toIntArray(a),o)}static createDecoderResultFromAmbiguousValues(e,t,n,r,i){let a=new Int32Array(r.length),o=100;for(;o-- >0;){for(let e=0;e<a.length;e++)t[r[e]]=i[e][a[e]];try{return q.decodeCodewords(t,e,n)}catch(e){if(!(e instanceof d))throw e}if(a.length===0)throw d.getChecksumInstance();for(let e=0;e<a.length;e++)if(a[e]<i[e].length-1){a[e]++;break}else if(a[e]=0,e===a.length-1)throw d.getChecksumInstance()}throw d.getChecksumInstance()}static createBarcodeMatrix(e){let t=Array.from({length:e.getBarcodeRowCount()},()=>Array(e.getBarcodeColumnCount()+2));for(let e=0;e<t.length;e++)for(let n=0;n<t[e].length;n++)t[e][n]=new rn;let n=0;for(let r of e.getDetectionResultColumns()){if(r!=null){for(let e of r.getCodewords())if(e!=null){let r=e.getRowNumber();if(r>=0){if(r>=t.length)continue;t[r][n].setValue(e.getValue())}}}n++}return t}static isValidBarcodeColumn(e,t){return t>=0&&t<=e.getBarcodeColumnCount()+1}static getStartColumn(e,t,n,r){let i=r?1:-1,a=null;if(q.isValidBarcodeColumn(e,t-i)&&(a=e.getDetectionResultColumn(t-i).getCodeword(n)),a!=null)return r?a.getEndX():a.getStartX();if(a=e.getDetectionResultColumn(t).getCodewordNearby(n),a!=null)return r?a.getStartX():a.getEndX();if(q.isValidBarcodeColumn(e,t-i)&&(a=e.getDetectionResultColumn(t-i).getCodewordNearby(n)),a!=null)return r?a.getEndX():a.getStartX();let o=0;for(;q.isValidBarcodeColumn(e,t-i);){t-=i;for(let n of e.getDetectionResultColumn(t).getCodewords())if(n!=null)return(r?n.getEndX():n.getStartX())+i*o*(n.getEndX()-n.getStartX());o++}return r?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()}static detectCodeword(e,t,n,r,i,a,o,s){i=q.adjustCodewordStartColumn(e,t,n,r,i,a);let c=q.getModuleBitCount(e,t,n,r,i,a);if(c==null)return null;let l,u=ye.sum(c);if(r)l=i+u;else{for(let e=0;e<c.length/2;e++){let t=c[e];c[e]=c[c.length-1-e],c[c.length-1-e]=t}l=i,i=l-u}if(!q.checkCodewordSkew(u,o,s))return null;let d=cn.getDecodedValue(c),f=W.getCodeword(d);return f===-1?null:new sn(i,l,q.getCodewordBucketNumber(d),f)}static getModuleBitCount(e,t,n,r,i,a){let o=i,s=new Int32Array(8),c=0,l=r?1:-1,u=r;for(;(r?o<n:o>=t)&&c<s.length;)e.get(o,a)===u?(s[c]++,o+=l):(c++,u=!u);return c===s.length||o===(r?n:t)&&c===s.length-1?s:null}static getNumberOfECCodeWords(e){return 2<<e}static adjustCodewordStartColumn(e,t,n,r,i,a){let o=i,s=r?-1:1;for(let c=0;c<2;c++){for(;(r?o>=t:o<n)&&r===e.get(o,a);){if(Math.abs(i-o)>q.CODEWORD_SKEW_SIZE)return i;o+=s}s=-s,r=!r}return o}static checkCodewordSkew(e,t,n){return t-q.CODEWORD_SKEW_SIZE<=e&&e<=n+q.CODEWORD_SKEW_SIZE}static decodeCodewords(e,t,n){if(e.length===0)throw x.getFormatInstance();let r=1<<t+1,i=q.correctErrors(e,n,r);q.verifyCodewordCount(e,r);let a=K.decode(e,``+t);return a.setErrorsCorrected(i),a.setErasures(n.length),a}static correctErrors(e,t,n){if(t!=null&&t.length>n/2+q.MAX_ERRORS||n<0||n>q.MAX_EC_CODEWORDS)throw d.getChecksumInstance();return q.errorCorrection.decode(e,n,t)}static verifyCodewordCount(e,t){if(e.length<4)throw x.getFormatInstance();let n=e[0];if(n>e.length)throw x.getFormatInstance();if(n===0)if(t<e.length)e[0]=e.length-t;else throw x.getFormatInstance()}static getBitCountForCodeword(e){let t=new Int32Array(8),n=0,r=t.length-1;for(;!((e&1)!==n&&(n=e&1,r--,r<0));)t[r]++,e>>=1;return t}static getCodewordBucketNumber(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)}static getCodewordBucketNumber_number(e){return q.getCodewordBucketNumber(q.getBitCountForCodeword(e))}static getCodewordBucketNumber_Int32Array(e){return(e[0]-e[2]+e[4]-e[6]+9)%9}static toString(e){let t=new tn;for(let n=0;n<e.length;n++){t.format(`Row %2d: `,n);for(let r=0;r<e[n].length;r++){let i=e[n][r];i.getValue().length===0?t.format(`        `,null):t.format(`%4d(%2d)`,i.getValue()[0],i.getConfidence(i.getValue()[0]))}t.format(`%n`)}return t.toString()}}q.CODEWORD_SKEW_SIZE=2,q.MAX_ERRORS=3,q.MAX_EC_CODEWORDS=512,q.errorCorrection=new Qt;class bn{decode(e,t=null){let n=bn.decode(e,t,!1);if(n==null||n.length===0||n[0]==null)throw k.getNotFoundInstance();return n[0]}decodeMultiple(e,t=null){try{return bn.decode(e,t,!0)}catch(e){throw e instanceof x||e instanceof d?k.getNotFoundInstance():e}}static decode(e,t,n){let r=[],i=G.detectMultiple(e,t,n);for(let e of i.getPoints()){let t=q.decode(i.getBits(),e[4],e[5],e[6],e[7],bn.getMinCodewordWidth(e),bn.getMaxCodewordWidth(e)),n=new ae(t.getText(),t.getRawBytes(),void 0,e,N.PDF_417);n.putMetadata(ce.ERROR_CORRECTION_LEVEL,t.getECLevel());let a=t.getOther();a!=null&&n.putMetadata(ce.PDF417_EXTRA_METADATA,a),r.push(n)}return r.map(e=>e)}static getMaxWidth(e,t){return e==null||t==null?0:Math.trunc(Math.abs(e.getX()-t.getX()))}static getMinWidth(e,t){return e==null||t==null?_.MAX_VALUE:Math.trunc(Math.abs(e.getX()-t.getX()))}static getMaxCodewordWidth(e){return Math.floor(Math.max(Math.max(bn.getMaxWidth(e[0],e[4]),bn.getMaxWidth(e[6],e[2])*W.MODULES_IN_CODEWORD/W.MODULES_IN_STOP_PATTERN),Math.max(bn.getMaxWidth(e[1],e[5]),bn.getMaxWidth(e[7],e[3])*W.MODULES_IN_CODEWORD/W.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(e){return Math.floor(Math.min(Math.min(bn.getMinWidth(e[0],e[4]),bn.getMinWidth(e[6],e[2])*W.MODULES_IN_CODEWORD/W.MODULES_IN_STOP_PATTERN),Math.min(bn.getMinWidth(e[1],e[5]),bn.getMinWidth(e[7],e[3])*W.MODULES_IN_CODEWORD/W.MODULES_IN_STOP_PATTERN)))}reset(){}}class xn extends s{}xn.kind=`ReaderException`;class Sn{constructor(e,t){this.verbose=e===!0,t&&this.setHints(t)}decode(e,t){return t&&this.setHints(t),this.decodeInternal(e)}decodeWithState(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)}setHints(e){this.hints=e;let n=!t(e)&&e.get(b.TRY_HARDER)===!0,r=t(e)?null:e.get(b.POSSIBLE_FORMATS),i=[];if(!t(r)){let t=r.some(e=>e===N.UPC_A||e===N.UPC_E||e===N.EAN_13||e===N.EAN_8||e===N.CODABAR||e===N.CODE_39||e===N.CODE_93||e===N.CODE_128||e===N.ITF||e===N.RSS_14||e===N.RSS_EXPANDED);t&&!n&&i.push(new _t(e,this.verbose)),r.includes(N.QR_CODE)&&i.push(new qt),r.includes(N.DATA_MATRIX)&&i.push(new Ot),r.includes(N.AZTEC)&&i.push(new Ae),r.includes(N.PDF_417)&&i.push(new bn),t&&n&&i.push(new _t(e,this.verbose))}i.length===0&&(n||i.push(new _t(e,this.verbose)),i.push(new qt),i.push(new Ot),i.push(new Ae),i.push(new bn),n&&i.push(new _t(e,this.verbose))),this.readers=i}reset(){if(this.readers!==null)for(let e of this.readers)e.reset()}decodeInternal(e){if(this.readers===null)throw new xn(`No readers where selected, nothing can be read.`);for(let t of this.readers)try{return t.decode(e,this.hints)}catch(e){if(e instanceof xn)continue}throw new k(`No MultiFormat Readers were able to detect the code.`)}}class Cn extends M{constructor(e=null,t=500){let n=new Sn;n.setHints(e),super(n,t)}decodeBitmap(e){return this.reader.decodeWithState(e)}}class wn extends M{constructor(e=500){super(new bn,e)}}class Tn extends M{constructor(e=500){super(new qt,e)}}var En;(function(e){e[e.ERROR_CORRECTION=0]=`ERROR_CORRECTION`,e[e.CHARACTER_SET=1]=`CHARACTER_SET`,e[e.DATA_MATRIX_SHAPE=2]=`DATA_MATRIX_SHAPE`,e[e.MIN_SIZE=3]=`MIN_SIZE`,e[e.MAX_SIZE=4]=`MAX_SIZE`,e[e.MARGIN=5]=`MARGIN`,e[e.PDF417_COMPACT=6]=`PDF417_COMPACT`,e[e.PDF417_COMPACTION=7]=`PDF417_COMPACTION`,e[e.PDF417_DIMENSIONS=8]=`PDF417_DIMENSIONS`,e[e.AZTEC_LAYERS=9]=`AZTEC_LAYERS`,e[e.QR_VERSION=10]=`QR_VERSION`})(En||={});var Dn=En;class On{constructor(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new de(e,Int32Array.from([1])))}buildGenerator(e){let t=this.cachedGenerators;if(e>=t.length){let n=t[t.length-1],r=this.field;for(let i=t.length;i<=e;i++){let e=n.multiply(new de(r,Int32Array.from([1,r.exp(i-1+r.getGeneratorBase())])));t.push(e),n=e}}return t[e]}encode(e,t){if(t===0)throw new l(`No error correction bytes`);let n=e.length-t;if(n<=0)throw new l(`No data bytes provided`);let r=this.buildGenerator(t),i=new Int32Array(n);p.arraycopy(e,0,i,0,n);let a=new de(this.field,i);a=a.multiplyByMonomial(t,1);let o=a.divide(r)[1].getCoefficients(),s=t-o.length;for(let t=0;t<s;t++)e[n+t]=0;p.arraycopy(o,0,e,n+s,o.length)}}class kn{constructor(){}static applyMaskPenaltyRule1(e){return kn.applyMaskPenaltyRule1Internal(e,!0)+kn.applyMaskPenaltyRule1Internal(e,!1)}static applyMaskPenaltyRule2(e){let t=0,n=e.getArray(),r=e.getWidth(),i=e.getHeight();for(let e=0;e<i-1;e++){let i=n[e];for(let a=0;a<r-1;a++){let r=i[a];r===i[a+1]&&r===n[e+1][a]&&r===n[e+1][a+1]&&t++}}return kn.N2*t}static applyMaskPenaltyRule3(e){let t=0,n=e.getArray(),r=e.getWidth(),i=e.getHeight();for(let e=0;e<i;e++)for(let a=0;a<r;a++){let o=n[e];a+6<r&&o[a]===1&&o[a+1]===0&&o[a+2]===1&&o[a+3]===1&&o[a+4]===1&&o[a+5]===0&&o[a+6]===1&&(kn.isWhiteHorizontal(o,a-4,a)||kn.isWhiteHorizontal(o,a+7,a+11))&&t++,e+6<i&&n[e][a]===1&&n[e+1][a]===0&&n[e+2][a]===1&&n[e+3][a]===1&&n[e+4][a]===1&&n[e+5][a]===0&&n[e+6][a]===1&&(kn.isWhiteVertical(n,a,e-4,e)||kn.isWhiteVertical(n,a,e+7,e+11))&&t++}return t*kn.N3}static isWhiteHorizontal(e,t,n){t=Math.max(t,0),n=Math.min(n,e.length);for(let r=t;r<n;r++)if(e[r]===1)return!1;return!0}static isWhiteVertical(e,t,n,r){n=Math.max(n,0),r=Math.min(r,e.length);for(let i=n;i<r;i++)if(e[i][t]===1)return!1;return!0}static applyMaskPenaltyRule4(e){let t=0,n=e.getArray(),r=e.getWidth(),i=e.getHeight();for(let e=0;e<i;e++){let i=n[e];for(let e=0;e<r;e++)i[e]===1&&t++}let a=e.getHeight()*e.getWidth();return Math.floor(Math.abs(t*2-a)*10/a)*kn.N4}static getDataMaskBit(e,t,n){let r,i;switch(e){case 0:r=n+t&1;break;case 1:r=n&1;break;case 2:r=t%3;break;case 3:r=(n+t)%3;break;case 4:r=Math.floor(n/2)+Math.floor(t/3)&1;break;case 5:i=n*t,r=(i&1)+i%3;break;case 6:i=n*t,r=(i&1)+i%3&1;break;case 7:i=n*t,r=i%3+(n+t&1)&1;break;default:throw new l(`Invalid mask pattern: `+e)}return r===0}static applyMaskPenaltyRule1Internal(e,t){let n=0,r=t?e.getHeight():e.getWidth(),i=t?e.getWidth():e.getHeight(),a=e.getArray();for(let e=0;e<r;e++){let r=0,o=-1;for(let s=0;s<i;s++){let i=t?a[e][s]:a[s][e];i===o?r++:(r>=5&&(n+=kn.N1+(r-5)),r=1,o=i)}r>=5&&(n+=kn.N1+(r-5))}return n}}kn.N1=3,kn.N2=3,kn.N3=40,kn.N4=10;class An{constructor(e,t){this.width=e,this.height=t;let n=Array(t);for(let r=0;r!==t;r++)n[r]=new Uint8Array(e);this.bytes=n}getHeight(){return this.height}getWidth(){return this.width}get(e,t){return this.bytes[t][e]}getArray(){return this.bytes}setNumber(e,t,n){this.bytes[t][e]=n}setBoolean(e,t,n){this.bytes[t][e]=n?1:0}clear(e){for(let t of this.bytes)g.fill(t,e)}equals(e){if(!(e instanceof An))return!1;let t=e;if(this.width!==t.width||this.height!==t.height)return!1;for(let e=0,n=this.height;e<n;++e){let n=this.bytes[e],r=t.bytes[e];for(let e=0,t=this.width;e<t;++e)if(n[e]!==r[e])return!1}return!0}toString(){let e=new D;for(let t=0,n=this.height;t<n;++t){let n=this.bytes[t];for(let t=0,r=this.width;t<r;++t)switch(n[t]){case 0:e.append(` 0`);break;case 1:e.append(` 1`);break;default:e.append(`  `);break}e.append(`
`)}return e.toString()}}class jn{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){let e=new D;return e.append(`<<
`),e.append(` mode: `),e.append(this.mode?this.mode.toString():`null`),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():`null`),e.append(`
 version: `),e.append(this.version?this.version.toString():`null`),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()}setMode(e){this.mode=e}setECLevel(e){this.ecLevel=e}setVersion(e){this.version=e}setMaskPattern(e){this.maskPattern=e}setMatrix(e){this.matrix=e}static isValidMaskPattern(e){return e>=0&&e<jn.NUM_MASK_PATTERNS}}jn.NUM_MASK_PATTERNS=8;class Mn extends s{}Mn.kind=`WriterException`;class J{constructor(){}static clearMatrix(e){e.clear(255)}static buildMatrix(e,t,n,r,i){J.clearMatrix(i),J.embedBasicPatterns(n,i),J.embedTypeInfo(t,r,i),J.maybeEmbedVersionInfo(n,i),J.embedDataBits(e,r,i)}static embedBasicPatterns(e,t){J.embedPositionDetectionPatternsAndSeparators(t),J.embedDarkDotAtLeftBottomCorner(t),J.maybeEmbedPositionAdjustmentPatterns(e,t),J.embedTimingPatterns(t)}static embedTypeInfo(e,t,n){let r=new v;J.makeTypeInfoBits(e,t,r);for(let e=0,t=r.getSize();e<t;++e){let t=r.get(r.getSize()-1-e),i=J.TYPE_INFO_COORDINATES[e],a=i[0],o=i[1];if(n.setBoolean(a,o,t),e<8){let r=n.getWidth()-e-1;n.setBoolean(r,8,t)}else{let r=n.getHeight()-7+(e-8);n.setBoolean(8,r,t)}}}static maybeEmbedVersionInfo(e,t){if(e.getVersionNumber()<7)return;let n=new v;J.makeVersionInfoBits(e,n);let r=17;for(let e=0;e<6;++e)for(let i=0;i<3;++i){let a=n.get(r);r--,t.setBoolean(e,t.getHeight()-11+i,a),t.setBoolean(t.getHeight()-11+i,e,a)}}static embedDataBits(e,t,n){let r=0,i=-1,a=n.getWidth()-1,o=n.getHeight()-1;for(;a>0;){for(a===6&&--a;o>=0&&o<n.getHeight();){for(let i=0;i<2;++i){let s=a-i;if(!J.isEmpty(n.get(s,o)))continue;let c;r<e.getSize()?(c=e.get(r),++r):c=!1,t!==255&&kn.getDataMaskBit(t,s,o)&&(c=!c),n.setBoolean(s,o,c)}o+=i}i=-i,o+=i,a-=2}if(r!==e.getSize())throw new Mn(`Not all bits consumed: `+r+`/`+e.getSize())}static findMSBSet(e){return 32-_.numberOfLeadingZeros(e)}static calculateBCHCode(e,t){if(t===0)throw new l(`0 polynomial`);let n=J.findMSBSet(t);for(e<<=n-1;J.findMSBSet(e)>=n;)e^=t<<J.findMSBSet(e)-n;return e}static makeTypeInfoBits(e,t,n){if(!jn.isValidMaskPattern(t))throw new Mn(`Invalid mask pattern`);let r=e.getBits()<<3|t;n.appendBits(r,5);let i=J.calculateBCHCode(r,J.TYPE_INFO_POLY);n.appendBits(i,10);let a=new v;if(a.appendBits(J.TYPE_INFO_MASK_PATTERN,15),n.xor(a),n.getSize()!==15)throw new Mn(`should not happen but we got: `+n.getSize())}static makeVersionInfoBits(e,t){t.appendBits(e.getVersionNumber(),6);let n=J.calculateBCHCode(e.getVersionNumber(),J.VERSION_INFO_POLY);if(t.appendBits(n,12),t.getSize()!==18)throw new Mn(`should not happen but we got: `+t.getSize())}static isEmpty(e){return e===255}static embedTimingPatterns(e){for(let t=8;t<e.getWidth()-8;++t){let n=(t+1)%2;J.isEmpty(e.get(t,6))&&e.setNumber(t,6,n),J.isEmpty(e.get(6,t))&&e.setNumber(6,t,n)}}static embedDarkDotAtLeftBottomCorner(e){if(e.get(8,e.getHeight()-8)===0)throw new Mn;e.setNumber(8,e.getHeight()-8,1)}static embedHorizontalSeparationPattern(e,t,n){for(let r=0;r<8;++r){if(!J.isEmpty(n.get(e+r,t)))throw new Mn;n.setNumber(e+r,t,0)}}static embedVerticalSeparationPattern(e,t,n){for(let r=0;r<7;++r){if(!J.isEmpty(n.get(e,t+r)))throw new Mn;n.setNumber(e,t+r,0)}}static embedPositionAdjustmentPattern(e,t,n){for(let r=0;r<5;++r){let i=J.POSITION_ADJUSTMENT_PATTERN[r];for(let a=0;a<5;++a)n.setNumber(e+a,t+r,i[a])}}static embedPositionDetectionPattern(e,t,n){for(let r=0;r<7;++r){let i=J.POSITION_DETECTION_PATTERN[r];for(let a=0;a<7;++a)n.setNumber(e+a,t+r,i[a])}}static embedPositionDetectionPatternsAndSeparators(e){let t=J.POSITION_DETECTION_PATTERN[0].length;J.embedPositionDetectionPattern(0,0,e),J.embedPositionDetectionPattern(e.getWidth()-t,0,e),J.embedPositionDetectionPattern(0,e.getWidth()-t,e),J.embedHorizontalSeparationPattern(0,7,e),J.embedHorizontalSeparationPattern(e.getWidth()-8,7,e),J.embedHorizontalSeparationPattern(0,e.getWidth()-8,e),J.embedVerticalSeparationPattern(7,0,e),J.embedVerticalSeparationPattern(e.getHeight()-7-1,0,e),J.embedVerticalSeparationPattern(7,e.getHeight()-7,e)}static maybeEmbedPositionAdjustmentPatterns(e,t){if(e.getVersionNumber()<2)return;let n=e.getVersionNumber()-1,r=J.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[n];for(let e=0,n=r.length;e!==n;e++){let i=r[e];if(i>=0)for(let e=0;e!==n;e++){let n=r[e];n>=0&&J.isEmpty(t.get(n,i))&&J.embedPositionAdjustmentPattern(n-2,i-2,t)}}}}J.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),J.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),J.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),J.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),J.VERSION_INFO_POLY=7973,J.TYPE_INFO_POLY=1335,J.TYPE_INFO_MASK_PATTERN=21522;class Nn{constructor(e,t){this.dataBytes=e,this.errorCorrectionBytes=t}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Pn{constructor(){}static calculateMaskPenalty(e){return kn.applyMaskPenaltyRule1(e)+kn.applyMaskPenaltyRule2(e)+kn.applyMaskPenaltyRule3(e)+kn.applyMaskPenaltyRule4(e)}static encode(e,t,n=null){let r=Pn.DEFAULT_BYTE_MODE_ENCODING,i=n!==null&&n.get(Dn.CHARACTER_SET)!==void 0;i&&(r=n.get(Dn.CHARACTER_SET).toString());let a=this.chooseMode(e,r),o=new v;if(a===U.BYTE&&(i||Pn.DEFAULT_BYTE_MODE_ENCODING!==r)){let e=C.getCharacterSetECIByName(r);e!==void 0&&this.appendECI(e,o)}this.appendModeInfo(a,o);let s=new v;this.appendBytes(e,a,s,r);let c;if(n!==null&&n.get(Dn.QR_VERSION)!==void 0){let e=Number.parseInt(n.get(Dn.QR_VERSION).toString(),10);c=H.getVersionForNumber(e);let r=this.calculateBitsNeeded(a,o,s,c);if(!this.willFit(r,c,t))throw new Mn(`Data too big for requested version`)}else c=this.recommendVersion(t,a,o,s);let l=new v;l.appendBitArray(o);let u=a===U.BYTE?s.getSizeInBytes():e.length;this.appendLengthInfo(u,c,a,l),l.appendBitArray(s);let d=c.getECBlocksForLevel(t),f=c.getTotalCodewords()-d.getTotalECCodewords();this.terminateBits(f,l);let p=this.interleaveWithECBytes(l,c.getTotalCodewords(),f,d.getNumBlocks()),m=new jn;m.setECLevel(t),m.setMode(a),m.setVersion(c);let h=c.getDimensionForVersion(),g=new An(h,h),_=this.chooseMaskPattern(p,t,c,g);return m.setMaskPattern(_),J.buildMatrix(p,t,c,_,g),m.setMatrix(g),m}static recommendVersion(e,t,n,r){let i=this.calculateBitsNeeded(t,n,r,H.getVersionForNumber(1)),a=this.chooseVersion(i,e),o=this.calculateBitsNeeded(t,n,r,a);return this.chooseVersion(o,e)}static calculateBitsNeeded(e,t,n,r){return t.getSize()+e.getCharacterCountBits(r)+n.getSize()}static getAlphanumericCode(e){return e<Pn.ALPHANUMERIC_TABLE.length?Pn.ALPHANUMERIC_TABLE[e]:-1}static chooseMode(e,t=null){if(C.SJIS.getName()===t&&this.isOnlyDoubleByteKanji(e))return U.KANJI;let n=!1,r=!1;for(let t=0,i=e.length;t<i;++t){let i=e.charAt(t);if(Pn.isDigit(i))n=!0;else if(this.getAlphanumericCode(i.charCodeAt(0))!==-1)r=!0;else return U.BYTE}return r?U.ALPHANUMERIC:n?U.NUMERIC:U.BYTE}static isOnlyDoubleByteKanji(e){let t;try{t=T.encode(e,C.SJIS)}catch{return!1}let n=t.length;if(n%2!=0)return!1;for(let e=0;e<n;e+=2){let n=t[e]&255;if((n<129||n>159)&&(n<224||n>235))return!1}return!0}static chooseMaskPattern(e,t,n,r){let i=2**53-1,a=-1;for(let o=0;o<jn.NUM_MASK_PATTERNS;o++){J.buildMatrix(e,t,n,o,r);let s=this.calculateMaskPenalty(r);s<i&&(i=s,a=o)}return a}static chooseVersion(e,t){for(let n=1;n<=40;n++){let r=H.getVersionForNumber(n);if(Pn.willFit(e,r,t))return r}throw new Mn(`Data too big`)}static willFit(e,t,n){return t.getTotalCodewords()-t.getECBlocksForLevel(n).getTotalECCodewords()>=(e+7)/8}static terminateBits(e,t){let n=e*8;if(t.getSize()>n)throw new Mn(`data bits cannot fit in the QR Code`+t.getSize()+` > `+n);for(let e=0;e<4&&t.getSize()<n;++e)t.appendBit(!1);let r=t.getSize()&7;if(r>0)for(let e=r;e<8;e++)t.appendBit(!1);let i=e-t.getSizeInBytes();for(let e=0;e<i;++e)t.appendBits(e&1?17:236,8);if(t.getSize()!==n)throw new Mn(`Bits size does not equal capacity`)}static getNumDataBytesAndNumECBytesForBlockID(e,t,n,r,i,a){if(r>=n)throw new Mn(`Block ID too large`);let o=e%n,s=n-o,c=Math.floor(e/n),l=c+1,u=Math.floor(t/n),d=u+1,f=c-u,p=l-d;if(f!==p)throw new Mn(`EC bytes mismatch`);if(n!==s+o)throw new Mn(`RS blocks mismatch`);if(e!==(u+f)*s+(d+p)*o)throw new Mn(`Total bytes mismatch`);r<s?(i[0]=u,a[0]=f):(i[0]=d,a[0]=p)}static interleaveWithECBytes(e,t,n,r){if(e.getSizeInBytes()!==n)throw new Mn(`Number of bits and data bytes does not match`);let i=0,a=0,o=0,s=[];for(let c=0;c<r;++c){let l=new Int32Array(1),u=new Int32Array(1);Pn.getNumDataBytesAndNumECBytesForBlockID(t,n,r,c,l,u);let d=l[0],f=new Uint8Array(d);e.toBytes(8*i,f,0,d);let p=Pn.generateECBytes(f,u[0]);s.push(new Nn(f,p)),a=Math.max(a,d),o=Math.max(o,p.length),i+=l[0]}if(n!==i)throw new Mn(`Data bytes does not match offset`);let c=new v;for(let e=0;e<a;++e)for(let t of s){let n=t.getDataBytes();e<n.length&&c.appendBits(n[e],8)}for(let e=0;e<o;++e)for(let t of s){let n=t.getErrorCorrectionBytes();e<n.length&&c.appendBits(n[e],8)}if(t!==c.getSizeInBytes())throw new Mn(`Interleaving error: `+t+` and `+c.getSizeInBytes()+` differ.`);return c}static generateECBytes(e,t){let n=e.length,r=new Int32Array(n+t);for(let t=0;t<n;t++)r[t]=e[t]&255;new On(pe.QR_CODE_FIELD_256).encode(r,t);let i=new Uint8Array(t);for(let e=0;e<t;e++)i[e]=r[n+e];return i}static appendModeInfo(e,t){t.appendBits(e.getBits(),4)}static appendLengthInfo(e,t,n,r){let i=n.getCharacterCountBits(t);if(e>=1<<i)throw new Mn(e+` is bigger than `+((1<<i)-1));r.appendBits(e,i)}static appendBytes(e,t,n,r){switch(t){case U.NUMERIC:Pn.appendNumericBytes(e,n);break;case U.ALPHANUMERIC:Pn.appendAlphanumericBytes(e,n);break;case U.BYTE:Pn.append8BitBytes(e,n,r);break;case U.KANJI:Pn.appendKanjiBytes(e,n);break;default:throw new Mn(`Invalid mode: `+t)}}static getDigit(e){return e.charCodeAt(0)-48}static isDigit(e){let t=Pn.getDigit(e);return t>=0&&t<=9}static appendNumericBytes(e,t){let n=e.length,r=0;for(;r<n;){let i=Pn.getDigit(e.charAt(r));if(r+2<n){let n=Pn.getDigit(e.charAt(r+1)),a=Pn.getDigit(e.charAt(r+2));t.appendBits(i*100+n*10+a,10),r+=3}else if(r+1<n){let n=Pn.getDigit(e.charAt(r+1));t.appendBits(i*10+n,7),r+=2}else t.appendBits(i,4),r++}}static appendAlphanumericBytes(e,t){let n=e.length,r=0;for(;r<n;){let i=Pn.getAlphanumericCode(e.charCodeAt(r));if(i===-1)throw new Mn;if(r+1<n){let n=Pn.getAlphanumericCode(e.charCodeAt(r+1));if(n===-1)throw new Mn;t.appendBits(i*45+n,11),r+=2}else t.appendBits(i,6),r++}}static append8BitBytes(e,t,n){let r;try{r=T.encode(e,n)}catch(e){throw new Mn(e)}for(let e=0,n=r.length;e!==n;e++){let n=r[e];t.appendBits(n,8)}}static appendKanjiBytes(e,t){let n;try{n=T.encode(e,C.SJIS)}catch(e){throw new Mn(e)}let r=n.length;for(let e=0;e<r;e+=2){let r=n[e]&255,i=n[e+1]&255,a=r<<8&4294967295|i,o=-1;if(a>=33088&&a<=40956?o=a-33088:a>=57408&&a<=60351&&(o=a-49472),o===-1)throw new Mn(`Invalid byte sequence`);let s=(o>>8)*192+(o&255);t.appendBits(s,13)}}static appendECI(e,t){t.appendBits(U.ECI.getBits(),4),t.appendBits(e.getValue(),8)}}Pn.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Pn.DEFAULT_BYTE_MODE_ENCODING=C.UTF8.getName();class Fn{write(e,t,n,r=null){if(e.length===0)throw new l(`Found empty contents`);if(t<0||n<0)throw new l(`Requested dimensions are too small: `+t+`x`+n);let i=jt.L,a=Fn.QUIET_ZONE_SIZE;r!==null&&(r.get(Dn.ERROR_CORRECTION)!==void 0&&(i=jt.fromString(r.get(Dn.ERROR_CORRECTION).toString())),r.get(Dn.MARGIN)!==void 0&&(a=Number.parseInt(r.get(Dn.MARGIN).toString(),10)));let o=Pn.encode(e,i,r);return this.renderResult(o,t,n,a)}writeToDom(e,t,n,r,i=null){typeof e==`string`&&(e=document.querySelector(e));let a=this.write(t,n,r,i);e&&e.appendChild(a)}renderResult(e,t,n,r){let i=e.getMatrix();if(i===null)throw new he;let a=i.getWidth(),o=i.getHeight(),s=a+r*2,c=o+r*2,l=Math.max(t,s),u=Math.max(n,c),d=Math.min(Math.floor(l/s),Math.floor(u/c)),f=Math.floor((l-a*d)/2),p=Math.floor((u-o*d)/2),m=this.createSVGElement(l,u);for(let e=0,t=p;e<o;e++,t+=d)for(let n=0,r=f;n<a;n++,r+=d)if(i.get(n,e)===1){let e=this.createSvgRectElement(r,t,d,d);m.appendChild(e)}return m}createSVGElement(e,t){let n=document.createElementNS(Fn.SVG_NS,`svg`);return n.setAttributeNS(null,`height`,e.toString()),n.setAttributeNS(null,`width`,t.toString()),n}createSvgRectElement(e,t,n,r){let i=document.createElementNS(Fn.SVG_NS,`rect`);return i.setAttributeNS(null,`x`,e.toString()),i.setAttributeNS(null,`y`,t.toString()),i.setAttributeNS(null,`height`,n.toString()),i.setAttributeNS(null,`width`,r.toString()),i.setAttributeNS(null,`fill`,`#000000`),i}}Fn.QUIET_ZONE_SIZE=4,Fn.SVG_NS=`http://www.w3.org/2000/svg`;class In{encode(e,t,n,r,i){if(e.length===0)throw new l(`Found empty contents`);if(t!==N.QR_CODE)throw new l(`Can only encode QR_CODE, but got `+t);if(n<0||r<0)throw new l(`Requested dimensions are too small: ${n}x${r}`);let a=jt.L,o=In.QUIET_ZONE_SIZE;i!==null&&(i.get(Dn.ERROR_CORRECTION)!==void 0&&(a=jt.fromString(i.get(Dn.ERROR_CORRECTION).toString())),i.get(Dn.MARGIN)!==void 0&&(o=Number.parseInt(i.get(Dn.MARGIN).toString(),10)));let s=Pn.encode(e,a,i);return In.renderResult(s,n,r,o)}static renderResult(e,t,n,r){let i=e.getMatrix();if(i===null)throw new he;let a=i.getWidth(),o=i.getHeight(),s=a+r*2,c=o+r*2,l=Math.max(t,s),u=Math.max(n,c),d=Math.min(Math.floor(l/s),Math.floor(u/c)),f=Math.floor((l-a*d)/2),p=Math.floor((u-o*d)/2),m=new O(l,u);for(let e=0,t=p;e<o;e++,t+=d)for(let n=0,r=f;n<a;n++,r+=d)i.get(n,e)===1&&m.setRegion(r,t,d,d);return m}}In.QUIET_ZONE_SIZE=4;class Ln{encode(e,t,n,r,i){let a;switch(t){case N.QR_CODE:a=new In;break;default:throw new l(`No encoder available for format `+t)}return a.encode(e,t,n,r,i)}}class Rn extends te{constructor(e,t,n,r,i,a,o,s){if(super(a,o),this.yuvData=e,this.dataWidth=t,this.dataHeight=n,this.left=r,this.top=i,r+a>t||i+o>n)throw new l(`Crop rectangle does not fit within image data.`);s&&this.reverseHorizontal(a,o)}getRow(e,t){if(e<0||e>=this.getHeight())throw new l(`Requested row is outside the image: `+e);let n=this.getWidth();(t==null||t.length<n)&&(t=new Uint8ClampedArray(n));let r=(e+this.top)*this.dataWidth+this.left;return p.arraycopy(this.yuvData,r,t,0,n),t}getMatrix(){let e=this.getWidth(),t=this.getHeight();if(e===this.dataWidth&&t===this.dataHeight)return this.yuvData;let n=e*t,r=new Uint8ClampedArray(n),i=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return p.arraycopy(this.yuvData,i,r,0,n),r;for(let n=0;n<t;n++){let t=n*e;p.arraycopy(this.yuvData,i,r,t,e),i+=this.dataWidth}return r}isCropSupported(){return!0}crop(e,t,n,r){return new Rn(this.yuvData,this.dataWidth,this.dataHeight,this.left+e,this.top+t,n,r,!1)}renderThumbnail(){let e=this.getWidth()/Rn.THUMBNAIL_SCALE_FACTOR,t=this.getHeight()/Rn.THUMBNAIL_SCALE_FACTOR,n=new Int32Array(e*t),r=this.yuvData,i=this.top*this.dataWidth+this.left;for(let a=0;a<t;a++){let t=a*e;for(let a=0;a<e;a++){let e=r[i+a*Rn.THUMBNAIL_SCALE_FACTOR]&255;n[t+a]=4278190080|e*65793}i+=this.dataWidth*Rn.THUMBNAIL_SCALE_FACTOR}return n}getThumbnailWidth(){return this.getWidth()/Rn.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/Rn.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(e,t){let n=this.yuvData;for(let r=0,i=this.top*this.dataWidth+this.left;r<t;r++,i+=this.dataWidth){let t=i+e/2;for(let r=i,a=i+e-1;r<t;r++,a--){let e=n[r];n[r]=n[a],n[a]=e}}}invert(){return new ne(this)}}Rn.THUMBNAIL_SCALE_FACTOR=2;class zn extends te{constructor(e,t,n,r,i,a,o){if(super(t,n),this.dataWidth=r,this.dataHeight=i,this.left=a,this.top=o,e.BYTES_PER_ELEMENT===4){let r=t*n,i=new Uint8ClampedArray(r);for(let t=0;t<r;t++){let n=e[t],r=n>>16&255,a=n>>7&510,o=n&255;i[t]=(r+a+o)/4&255}this.luminances=i}else this.luminances=e;if(r===void 0&&(this.dataWidth=t),i===void 0&&(this.dataHeight=n),a===void 0&&(this.left=0),o===void 0&&(this.top=0),this.left+t>this.dataWidth||this.top+n>this.dataHeight)throw new l(`Crop rectangle does not fit within image data.`)}getRow(e,t){if(e<0||e>=this.getHeight())throw new l(`Requested row is outside the image: `+e);let n=this.getWidth();(t==null||t.length<n)&&(t=new Uint8ClampedArray(n));let r=(e+this.top)*this.dataWidth+this.left;return p.arraycopy(this.luminances,r,t,0,n),t}getMatrix(){let e=this.getWidth(),t=this.getHeight();if(e===this.dataWidth&&t===this.dataHeight)return this.luminances;let n=e*t,r=new Uint8ClampedArray(n),i=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return p.arraycopy(this.luminances,i,r,0,n),r;for(let n=0;n<t;n++){let t=n*e;p.arraycopy(this.luminances,i,r,t,e),i+=this.dataWidth}return r}isCropSupported(){return!0}crop(e,t,n,r){return new zn(this.luminances,n,r,this.dataWidth,this.dataHeight,this.left+e,this.top+t)}invert(){return new ne(this)}}class Bn extends C{static forName(e){return this.getCharacterSetECIByName(e)}}class Vn{}Vn.ISO_8859_1=C.ISO8859_1;class Hn{isCompact(){return this.compact}setCompact(e){this.compact=e}getSize(){return this.size}setSize(e){this.size=e}getLayers(){return this.layers}setLayers(e){this.layers=e}getCodeWords(){return this.codeWords}setCodeWords(e){this.codeWords=e}getMatrix(){return this.matrix}setMatrix(e){this.matrix=e}}class Un{static singletonList(e){return[e]}static min(e,t){return e.sort(t)[0]}}class Wn{constructor(e){this.previous=e}getPrevious(){return this.previous}}class Gn extends Wn{constructor(e,t,n){super(e),this.value=t,this.bitCount=n}appendTo(e,t){e.appendBits(this.value,this.bitCount)}add(e,t){return new Gn(this,e,t)}addBinaryShift(e,t){return console.warn(`addBinaryShift on SimpleToken, this simply returns a copy of this token`),new Gn(this,e,t)}toString(){let e=this.value&(1<<this.bitCount)-1;return e|=1<<this.bitCount,`<`+_.toBinaryString(e|1<<this.bitCount).substring(1)+`>`}}class Kn extends Gn{constructor(e,t,n){super(e,0,0),this.binaryShiftStart=t,this.binaryShiftByteCount=n}appendTo(e,t){for(let n=0;n<this.binaryShiftByteCount;n++)(n===0||n===31&&this.binaryShiftByteCount<=62)&&(e.appendBits(31,5),this.binaryShiftByteCount>62?e.appendBits(this.binaryShiftByteCount-31,16):n===0?e.appendBits(Math.min(this.binaryShiftByteCount,31),5):e.appendBits(this.binaryShiftByteCount-31,5)),e.appendBits(t[this.binaryShiftStart+n],8)}addBinaryShift(e,t){return new Kn(this,e,t)}toString(){return`<`+this.binaryShiftStart+`::`+(this.binaryShiftStart+this.binaryShiftByteCount-1)+`>`}}function qn(e,t,n){return new Kn(e,t,n)}function Jn(e,t,n){return new Gn(e,t,n)}let Yn=[`UPPER`,`LOWER`,`DIGIT`,`MIXED`,`PUNCT`],Xn=new Gn(null,0,0),Zn=[Int32Array.from([0,327708,327710,327709,656318]),Int32Array.from([590318,0,327710,327709,656318]),Int32Array.from([262158,590300,0,590301,932798]),Int32Array.from([327709,327708,656318,0,327710]),Int32Array.from([327711,656380,656382,656381,0])];function Qn(e){for(let t of e)g.fill(t,-1);return e[0][4]=0,e[1][4]=0,e[1][0]=28,e[3][4]=0,e[2][4]=0,e[2][0]=15,e}let $n=Qn(g.createInt32Array(6,6));class er{constructor(e,t,n,r){this.token=e,this.mode=t,this.binaryShiftByteCount=n,this.bitCount=r}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(e,t){let n=this.bitCount,r=this.token;if(e!==this.mode){let t=Zn[this.mode][e];r=Jn(r,t&65535,t>>16),n+=t>>16}let i=e===2?4:5;return r=Jn(r,t,i),new er(r,e,0,n+i)}shiftAndAppend(e,t){let n=this.token,r=this.mode===2?4:5;return n=Jn(n,$n[this.mode][e],r),n=Jn(n,t,5),new er(n,this.mode,0,this.bitCount+r+5)}addBinaryShiftChar(e){let t=this.token,n=this.mode,r=this.bitCount;if(this.mode===4||this.mode===2){let e=Zn[n][0];t=Jn(t,e&65535,e>>16),r+=e>>16,n=0}let i=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,a=new er(t,n,this.binaryShiftByteCount+1,r+i);return a.binaryShiftByteCount===2078&&(a=a.endBinaryShift(e+1)),a}endBinaryShift(e){if(this.binaryShiftByteCount===0)return this;let t=this.token;return t=qn(t,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new er(t,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(e){let t=this.bitCount+(Zn[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?t+=er.calculateBinaryShiftCost(e)-er.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(t+=10),t<=e.bitCount}toBitArray(e){let t=[];for(let n=this.endBinaryShift(e.length).token;n!==null;n=n.getPrevious())t.unshift(n);let n=new v;for(let r of t)r.appendTo(n,e);return n}toString(){return E.format(`%s bits=%d bytes=%d`,Yn[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0}}er.INITIAL_STATE=new er(Xn,0,0,0);function tr(e){let t=E.getCharCode(` `),n=E.getCharCode(`.`),r=E.getCharCode(`,`);e[0][t]=1;let i=E.getCharCode(`Z`),a=E.getCharCode(`A`);for(let t=a;t<=i;t++)e[0][t]=t-a+2;e[1][t]=1;let o=E.getCharCode(`z`),s=E.getCharCode(`a`);for(let t=s;t<=o;t++)e[1][t]=t-s+2;e[2][t]=1;let c=E.getCharCode(`9`),l=E.getCharCode(`0`);for(let t=l;t<=c;t++)e[2][t]=t-l+2;e[2][r]=12,e[2][n]=13;let u=`\0 \x07\b	
\v\f\r\x1B@\\^_\`|~`.split(``);for(let t=0;t<u.length;t++)e[3][E.getCharCode(u[t])]=t;let d=`\0\r\0\0\0\0!'#$%&'()*+,-./:;<=>?[]{}`.split(``);for(let t=0;t<d.length;t++)E.getCharCode(d[t])>0&&(e[4][E.getCharCode(d[t])]=t);return e}let nr=tr(g.createInt32Array(5,256));class rr{constructor(e){this.text=e}encode(){let e=E.getCharCode(` `),t=E.getCharCode(`
`),n=Un.singletonList(er.INITIAL_STATE);for(let r=0;r<this.text.length;r++){let i,a=r+1<this.text.length?this.text[r+1]:0;switch(this.text[r]){case E.getCharCode(`\r`):i=a===t?2:0;break;case E.getCharCode(`.`):i=a===e?3:0;break;case E.getCharCode(`,`):i=a===e?4:0;break;case E.getCharCode(`:`):i=a===e?5:0;break;default:i=0}i>0?(n=rr.updateStateListForPair(n,r,i),r++):n=this.updateStateListForChar(n,r)}return Un.min(n,(e,t)=>e.getBitCount()-t.getBitCount()).toBitArray(this.text)}updateStateListForChar(e,t){let n=[];for(let r of e)this.updateStateForChar(r,t,n);return rr.simplifyStates(n)}updateStateForChar(e,t,n){let r=this.text[t]&255,i=nr[e.getMode()][r]>0,a=null;for(let o=0;o<=4;o++){let s=nr[o][r];if(s>0){if(a??=e.endBinaryShift(t),!i||o===e.getMode()||o===2){let e=a.latchAndAppend(o,s);n.push(e)}if(!i&&$n[e.getMode()][o]>=0){let e=a.shiftAndAppend(o,s);n.push(e)}}}if(e.getBinaryShiftByteCount()>0||nr[e.getMode()][r]===0){let r=e.addBinaryShiftChar(t);n.push(r)}}static updateStateListForPair(e,t,n){let r=[];for(let i of e)this.updateStateForPair(i,t,n,r);return this.simplifyStates(r)}static updateStateForPair(e,t,n,r){let i=e.endBinaryShift(t);if(r.push(i.latchAndAppend(4,n)),e.getMode()!==4&&r.push(i.shiftAndAppend(4,n)),n===3||n===4){let e=i.latchAndAppend(2,16-n).latchAndAppend(2,1);r.push(e)}if(e.getBinaryShiftByteCount()>0){let n=e.addBinaryShiftChar(t).addBinaryShiftChar(t+1);r.push(n)}}static simplifyStates(e){let t=[];for(let n of e){let e=!0;for(let r of t){if(r.isBetterThanOrEqualTo(n)){e=!1;break}n.isBetterThanOrEqualTo(r)&&(t=t.filter(e=>e!==r))}e&&t.push(n)}return t}}class ir{constructor(){}static encodeBytes(e){return ir.encode(e,ir.DEFAULT_EC_PERCENT,ir.DEFAULT_AZTEC_LAYERS)}static encode(e,t,n){let r=new rr(e).encode(),i=_.truncDivision(r.getSize()*t,100)+11,a=r.getSize()+i,o,s,c,u,d;if(n!==ir.DEFAULT_AZTEC_LAYERS){if(o=n<0,s=Math.abs(n),s>(o?ir.MAX_NB_BITS_COMPACT:ir.MAX_NB_BITS))throw new l(E.format(`Illegal value %s for layers`,n));c=ir.totalBitsInLayer(s,o),u=ir.WORD_SIZE[s];let e=c-c%u;if(d=ir.stuffBits(r,u),d.getSize()+i>e||o&&d.getSize()>u*64)throw new l(`Data to large for user specified layer`)}else{u=0,d=null;for(let e=0;;e++){if(e>ir.MAX_NB_BITS)throw new l(`Data too large for an Aztec code`);if(o=e<=3,s=o?e+1:e,c=ir.totalBitsInLayer(s,o),a>c)continue;(d==null||u!==ir.WORD_SIZE[s])&&(u=ir.WORD_SIZE[s],d=ir.stuffBits(r,u));let t=c-c%u;if(!(o&&d.getSize()>u*64)&&d.getSize()+i<=t)break}}let f=ir.generateCheckWords(d,c,u),p=d.getSize()/u,m=ir.generateModeMessage(o,s,p),h=(o?11:14)+s*4,g=new Int32Array(h),v;if(o){v=h;for(let e=0;e<g.length;e++)g[e]=e}else{v=h+1+2*_.truncDivision(_.truncDivision(h,2)-1,15);let e=_.truncDivision(h,2),t=_.truncDivision(v,2);for(let n=0;n<e;n++){let r=n+_.truncDivision(n,15);g[e-n-1]=t-r-1,g[e+n]=t+r+1}}let y=new O(v);for(let e=0,t=0;e<s;e++){let n=(s-e)*4+(o?9:12);for(let r=0;r<n;r++){let i=r*2;for(let a=0;a<2;a++)f.get(t+i+a)&&y.set(g[e*2+a],g[e*2+r]),f.get(t+n*2+i+a)&&y.set(g[e*2+r],g[h-1-e*2-a]),f.get(t+n*4+i+a)&&y.set(g[h-1-e*2-a],g[h-1-e*2-r]),f.get(t+n*6+i+a)&&y.set(g[h-1-e*2-r],g[e*2+a])}t+=n*8}if(ir.drawModeMessage(y,o,v,m),o)ir.drawBullsEye(y,_.truncDivision(v,2),5);else{ir.drawBullsEye(y,_.truncDivision(v,2),7);for(let e=0,t=0;e<_.truncDivision(h,2)-1;e+=15,t+=16)for(let e=_.truncDivision(v,2)&1;e<v;e+=2)y.set(_.truncDivision(v,2)-t,e),y.set(_.truncDivision(v,2)+t,e),y.set(e,_.truncDivision(v,2)-t),y.set(e,_.truncDivision(v,2)+t)}let b=new Hn;return b.setCompact(o),b.setSize(v),b.setLayers(s),b.setCodeWords(p),b.setMatrix(y),b}static drawBullsEye(e,t,n){for(let r=0;r<n;r+=2)for(let n=t-r;n<=t+r;n++)e.set(n,t-r),e.set(n,t+r),e.set(t-r,n),e.set(t+r,n);e.set(t-n,t-n),e.set(t-n+1,t-n),e.set(t-n,t-n+1),e.set(t+n,t-n),e.set(t+n,t-n+1),e.set(t+n,t+n-1)}static generateModeMessage(e,t,n){let r=new v;return e?(r.appendBits(t-1,2),r.appendBits(n-1,6),r=ir.generateCheckWords(r,28,4)):(r.appendBits(t-1,5),r.appendBits(n-1,11),r=ir.generateCheckWords(r,40,4)),r}static drawModeMessage(e,t,n,r){let i=_.truncDivision(n,2);if(t)for(let t=0;t<7;t++){let n=i-3+t;r.get(t)&&e.set(n,i-5),r.get(t+7)&&e.set(i+5,n),r.get(20-t)&&e.set(n,i+5),r.get(27-t)&&e.set(i-5,n)}else for(let t=0;t<10;t++){let n=i-5+t+_.truncDivision(t,5);r.get(t)&&e.set(n,i-7),r.get(t+10)&&e.set(i+7,n),r.get(29-t)&&e.set(n,i+7),r.get(39-t)&&e.set(i-7,n)}}static generateCheckWords(e,t,n){let r=e.getSize()/n,i=new On(ir.getGF(n)),a=_.truncDivision(t,n),o=ir.bitsToWords(e,n,a);i.encode(o,a-r);let s=t%n,c=new v;c.appendBits(0,s);for(let e of Array.from(o))c.appendBits(e,n);return c}static bitsToWords(e,t,n){let r=new Int32Array(n),i,a;for(i=0,a=e.getSize()/t;i<a;i++){let n=0;for(let r=0;r<t;r++)n|=e.get(i*t+r)?1<<t-r-1:0;r[i]=n}return r}static getGF(e){switch(e){case 4:return pe.AZTEC_PARAM;case 6:return pe.AZTEC_DATA_6;case 8:return pe.AZTEC_DATA_8;case 10:return pe.AZTEC_DATA_10;case 12:return pe.AZTEC_DATA_12;default:throw new l(`Unsupported word size `+e)}}static stuffBits(e,t){let n=new v,r=e.getSize(),i=(1<<t)-2;for(let a=0;a<r;a+=t){let o=0;for(let n=0;n<t;n++)(a+n>=r||e.get(a+n))&&(o|=1<<t-1-n);(o&i)===i?(n.appendBits(o&i,t),a--):(o&i)===0?(n.appendBits(o|1,t),a--):n.appendBits(o,t)}return n}static totalBitsInLayer(e,t){return((t?88:112)+16*e)*e}}ir.DEFAULT_EC_PERCENT=33,ir.DEFAULT_AZTEC_LAYERS=0,ir.MAX_NB_BITS=32,ir.MAX_NB_BITS_COMPACT=4,ir.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class ar{encode(e,t,n,r){return this.encodeWithHints(e,t,n,r,null)}encodeWithHints(e,t,n,r,i){let a=Vn.ISO_8859_1,o=ir.DEFAULT_EC_PERCENT,s=ir.DEFAULT_AZTEC_LAYERS;return i!=null&&(i.has(Dn.CHARACTER_SET)&&(a=Bn.forName(i.get(Dn.CHARACTER_SET).toString())),i.has(Dn.ERROR_CORRECTION)&&(o=_.parseInt(i.get(Dn.ERROR_CORRECTION).toString())),i.has(Dn.AZTEC_LAYERS)&&(s=_.parseInt(i.get(Dn.AZTEC_LAYERS).toString()))),ar.encodeLayers(e,t,n,r,a,o,s)}static encodeLayers(e,t,n,r,i,a,o){if(t!==N.AZTEC)throw new l(`Can only encode AZTEC, but got `+t);let s=ir.encode(E.getBytes(e,i),a,o);return ar.renderResult(s,n,r)}static renderResult(e,t,n){let r=e.getMatrix();if(r==null)throw new he;let i=r.getWidth(),a=r.getHeight(),o=Math.max(t,i),s=Math.max(n,a),c=Math.min(o/i,s/a),l=(o-i*c)/2,u=(s-a*c)/2,d=new O(o,s);for(let e=0,t=u;e<a;e++,t+=c)for(let n=0,a=l;n<i;n++,a+=c)r.get(n,e)&&d.setRegion(a,t,c,c);return d}}e.AbstractExpandedDecoder=tt,e.ArgumentException=c,e.ArithmeticException=fe,e.AztecCode=Hn,e.AztecCodeReader=Ae,e.AztecCodeWriter=ar,e.AztecDecoder=ve,e.AztecDetector=ke,e.AztecDetectorResult=Se,e.AztecEncoder=ir,e.AztecHighLevelEncoder=rr,e.AztecPoint=Oe,e.BarcodeFormat=N,e.Binarizer=f,e.BinaryBitmap=u,e.BitArray=v,e.BitMatrix=O,e.BitSource=Ct,e.BrowserAztecCodeReader=je,e.BrowserBarcodeReader=vt,e.BrowserCodeReader=M,e.BrowserDatamatrixCodeReader=kt,e.BrowserMultiFormatReader=Cn,e.BrowserPDF417Reader=wn,e.BrowserQRCodeReader=Tn,e.BrowserQRCodeSvgWriter=Fn,e.CharacterSetECI=C,e.ChecksumException=d,e.Code128Reader=F,e.Code39Reader=Ne,e.DataMatrixDecodedBitStreamParser=Tt,e.DataMatrixReader=Ot,e.DecodeHintType=b,e.DecoderResult=le,e.DefaultGridSampler=Ee,e.DetectorResult=xe,e.EAN13Reader=ze,e.EncodeHintType=Dn,e.Exception=s,e.FormatException=x,e.GenericGF=pe,e.GenericGFPoly=de,e.GlobalHistogramBinarizer=ee,e.GridSampler=we,e.GridSamplerInstance=De,e.HTMLCanvasElementLuminanceSource=re,e.HybridBinarizer=A,e.ITFReader=Pe,e.IllegalArgumentException=l,e.IllegalStateException=he,e.InvertedLuminanceSource=ne,e.LuminanceSource=te,e.MathUtils=ye,e.MultiFormatOneDReader=_t,e.MultiFormatReader=Sn,e.MultiFormatWriter=Ln,e.NotFoundException=k,e.OneDReader=Me,e.PDF417DecodedBitStreamParser=K,e.PDF417DecoderErrorCorrection=Qt,e.PDF417Reader=bn,e.PDF417ResultMetadata=ln,e.PerspectiveTransform=Te,e.PlanarYUVLuminanceSource=Rn,e.QRCodeByteMatrix=An,e.QRCodeDataMask=Pt,e.QRCodeDecodedBitStreamParser=Rt,e.QRCodeDecoderErrorCorrectionLevel=jt,e.QRCodeDecoderFormatInformation=Mt,e.QRCodeEncoder=Pn,e.QRCodeEncoderQRCode=jn,e.QRCodeMaskUtil=kn,e.QRCodeMatrixUtil=J,e.QRCodeMode=U,e.QRCodeReader=qt,e.QRCodeVersion=H,e.QRCodeWriter=In,e.RGBLuminanceSource=zn,e.RSS14Reader=gt,e.RSSExpandedReader=R,e.ReaderException=xn,e.ReedSolomonDecoder=ge,e.ReedSolomonEncoder=On,e.ReedSolomonException=me,e.Result=ae,e.ResultMetadataType=ce,e.ResultPoint=P,e.StringUtils=E,e.UnsupportedOperationException=w,e.VideoInputDevice=ie,e.WhiteRectangleDetector=Ce,e.WriterException=Mn,e.ZXingArrays=g,e.ZXingCharset=Bn,e.ZXingInteger=_,e.ZXingStandardCharsets=Vn,e.ZXingStringBuilder=D,e.ZXingStringEncoding=T,e.ZXingSystem=p,e.createAbstractExpandedDecoder=ft,Object.defineProperty(e,`__esModule`,{value:!0})}))}))()),Mp=function(){function e(e,t,n){if(this.formatMap=new Map([[$.QR_CODE,jp.BarcodeFormat.QR_CODE],[$.AZTEC,jp.BarcodeFormat.AZTEC],[$.CODABAR,jp.BarcodeFormat.CODABAR],[$.CODE_39,jp.BarcodeFormat.CODE_39],[$.CODE_93,jp.BarcodeFormat.CODE_93],[$.CODE_128,jp.BarcodeFormat.CODE_128],[$.DATA_MATRIX,jp.BarcodeFormat.DATA_MATRIX],[$.MAXICODE,jp.BarcodeFormat.MAXICODE],[$.ITF,jp.BarcodeFormat.ITF],[$.EAN_13,jp.BarcodeFormat.EAN_13],[$.EAN_8,jp.BarcodeFormat.EAN_8],[$.PDF_417,jp.BarcodeFormat.PDF_417],[$.RSS_14,jp.BarcodeFormat.RSS_14],[$.RSS_EXPANDED,jp.BarcodeFormat.RSS_EXPANDED],[$.UPC_A,jp.BarcodeFormat.UPC_A],[$.UPC_E,jp.BarcodeFormat.UPC_E],[$.UPC_EAN_EXTENSION,jp.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!jp)throw`Use html5qrcode.min.js without edit, ZXing not found.`;this.verbose=t,this.logger=n;var r=this.createZXingFormats(e),i=new Map;i.set(jp.DecodeHintType.POSSIBLE_FORMATS,r),i.set(jp.DecodeHintType.TRY_HARDER,!1),this.hints=i}return e.prototype.decodeAsync=function(e){var t=this;return new Promise(function(n,r){try{n(t.decode(e))}catch(e){r(e)}})},e.prototype.decode=function(e){var t=new jp.MultiFormatReader(this.verbose,this.hints),n=new jp.HTMLCanvasElementLuminanceSource(e),r=new jp.BinaryBitmap(new jp.HybridBinarizer(n)),i=t.decode(r);return{text:i.text,format:bp.create(this.toHtml5QrcodeSupportedFormats(i.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(t,n,r){e.set(t,n)}),e},e.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw`reverseFormatMap doesn't have ${e}`;return this.reverseFormatMap.get(e)},e.prototype.createZXingFormats=function(e){for(var t=[],n=0,r=e;n<r.length;n++){var i=r[n];this.formatMap.has(i)?t.push(this.formatMap.get(i)):this.logger.logError(`${i} is not supported byZXingHtml5QrcodeShim`)}return t},e.prototype.createDebugData=function(){return{decoderName:`zxing-js`}},e}(),Np=function(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||=Promise)(function(n,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){e.done?n(e.value):i(e.value).then(o,s)}c((r=r.apply(e,t||[])).next())})},Pp=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol==`function`&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return c([e,t])}}function c(s){if(r)throw TypeError(`Generator is already executing.`);for(;o&&(o=0,s[0]&&(n=0)),n;)try{if(r=1,i&&(a=s[0]&2?i.return:s[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,s[1])).done)return a;switch(i=0,a&&(s=[s[0]&2,a.value]),s[0]){case 0:case 1:a=s;break;case 4:return n.label++,{value:s[1],done:!1};case 5:n.label++,i=s[1],s=[0];continue;case 7:s=n.ops.pop(),n.trys.pop();continue;default:if((a=n.trys,!(a=a.length>0&&a[a.length-1]))&&(s[0]===6||s[0]===2)){n=0;continue}if(s[0]===3&&(!a||s[1]>a[0]&&s[1]<a[3])){n.label=s[1];break}if(s[0]===6&&n.label<a[1]){n.label=a[1],a=s;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(s);break}a[2]&&n.ops.pop(),n.trys.pop();continue}s=t.call(e,n)}catch(e){s=[6,e],i=0}finally{r=a=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}},Fp=function(){function e(t,n,r){if(this.formatMap=new Map([[$.QR_CODE,`qr_code`],[$.AZTEC,`aztec`],[$.CODABAR,`codabar`],[$.CODE_39,`code_39`],[$.CODE_93,`code_93`],[$.CODE_128,`code_128`],[$.DATA_MATRIX,`data_matrix`],[$.ITF,`itf`],[$.EAN_13,`ean_13`],[$.EAN_8,`ean_8`],[$.PDF_417,`pdf417`],[$.UPC_A,`upc_a`],[$.UPC_E,`upc_e`]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw`Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();`;this.verbose=n,this.logger=r;var i=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(i),!this.detector)throw`BarcodeDetector detector not supported`}return e.isSupported=function(){return`BarcodeDetector`in window?new BarcodeDetector({formats:[`qr_code`]})!==void 0:!1},e.prototype.decodeAsync=function(e){return Np(this,void 0,void 0,function(){var t,n;return Pp(this,function(r){switch(r.label){case 0:return[4,this.detector.detect(e)];case 1:if(t=r.sent(),!t||t.length===0)throw`No barcode or QR code detected.`;return n=this.selectLargestBarcode(t),[2,{text:n.rawValue,format:bp.create(this.toHtml5QrcodeSupportedFormats(n.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(e){for(var t=null,n=0,r=0,i=e;r<i.length;r++){var a=i[r],o=a.boundingBox.width*a.boundingBox.height;o>n&&(n=o,t=a)}if(!t)throw`No largest barcode found`;return t},e.prototype.createBarcodeDetectorFormats=function(e){for(var t=[],n=0,r=e;n<r.length;n++){var i=r[n];this.formatMap.has(i)?t.push(this.formatMap.get(i)):this.logger.warn(`${i} is not supported byBarcodeDetectorDelegate`)}return{formats:t}},e.prototype.toHtml5QrcodeSupportedFormats=function(e){if(!this.reverseFormatMap.has(e))throw`reverseFormatMap doesn't have ${e}`;return this.reverseFormatMap.get(e)},e.prototype.createReverseFormatMap=function(){var e=new Map;return this.formatMap.forEach(function(t,n,r){e.set(t,n)}),e},e.prototype.createDebugData=function(){return{decoderName:`BarcodeDetector`}},e}(),Ip=function(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||=Promise)(function(n,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){e.done?n(e.value):i(e.value).then(o,s)}c((r=r.apply(e,t||[])).next())})},Lp=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol==`function`&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return c([e,t])}}function c(s){if(r)throw TypeError(`Generator is already executing.`);for(;o&&(o=0,s[0]&&(n=0)),n;)try{if(r=1,i&&(a=s[0]&2?i.return:s[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,s[1])).done)return a;switch(i=0,a&&(s=[s[0]&2,a.value]),s[0]){case 0:case 1:a=s;break;case 4:return n.label++,{value:s[1],done:!1};case 5:n.label++,i=s[1],s=[0];continue;case 7:s=n.ops.pop(),n.trys.pop();continue;default:if((a=n.trys,!(a=a.length>0&&a[a.length-1]))&&(s[0]===6||s[0]===2)){n=0;continue}if(s[0]===3&&(!a||s[1]>a[0]&&s[1]<a[3])){n.label=s[1];break}if(s[0]===6&&n.label<a[1]){n.label=a[1],a=s;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(s);break}a[2]&&n.ops.pop(),n.trys.pop();continue}s=t.call(e,n)}catch(e){s=[6,e],i=0}finally{r=a=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}},Rp=function(){function e(e,t,n,r){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=n,t&&Fp.isSupported()?(this.primaryDecoder=new Fp(e,n,r),this.secondaryDecoder=new Mp(e,n,r)):this.primaryDecoder=new Mp(e,n,r)}return e.prototype.decodeAsync=function(e){return Ip(this,void 0,void 0,function(){var t;return Lp(this,function(n){switch(n.label){case 0:t=performance.now(),n.label=1;case 1:return n.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(e)];case 2:return[2,n.sent()];case 3:return this.possiblyLogPerformance(t),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(e){return Ip(this,void 0,void 0,function(){var t,n;return Lp(this,function(r){switch(r.label){case 0:t=performance.now(),r.label=1;case 1:return r.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(e)];case 2:return[2,r.sent()];case 3:if(n=r.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(e)];throw n;case 4:return this.possiblyLogPerformance(t),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(e){if(this.verbose){var t=performance.now()-e;this.executionResults.push(t),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var e=0,t=0,n=this.executionResults;t<n.length;t++){var r=n[t];e+=r}var i=e/this.executionResults.length;console.log(`${i} ms for ${this.executionResults.length} last runs.`),this.executions=0,this.executionResults=[]}},e}(),zp=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if(typeof n!=`function`&&n!==null)throw TypeError(`Class extends value `+String(n)+` is not a constructor or null`);e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),Bp=function(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||=Promise)(function(n,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){e.done?n(e.value):i(e.value).then(o,s)}c((r=r.apply(e,t||[])).next())})},Vp=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol==`function`&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return c([e,t])}}function c(s){if(r)throw TypeError(`Generator is already executing.`);for(;o&&(o=0,s[0]&&(n=0)),n;)try{if(r=1,i&&(a=s[0]&2?i.return:s[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,s[1])).done)return a;switch(i=0,a&&(s=[s[0]&2,a.value]),s[0]){case 0:case 1:a=s;break;case 4:return n.label++,{value:s[1],done:!1};case 5:n.label++,i=s[1],s=[0];continue;case 7:s=n.ops.pop(),n.trys.pop();continue;default:if((a=n.trys,!(a=a.length>0&&a[a.length-1]))&&(s[0]===6||s[0]===2)){n=0;continue}if(s[0]===3&&(!a||s[1]>a[0]&&s[1]<a[3])){n.label=s[1];break}if(s[0]===6&&n.label<a[1]){n.label=a[1],a=s;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(s);break}a[2]&&n.ops.pop(),n.trys.pop();continue}s=t.call(e,n)}catch(e){s=[6,e],i=0}finally{r=a=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}},Hp=function(){function e(e,t){this.name=e,this.track=t}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(e){var t={};t[this.name]=e;var n={advanced:[t]};return this.track.applyConstraints(n)},e.prototype.value=function(){var e=this.track.getSettings();return this.name in e?e[this.name]:null},e}(),Up=function(e){zp(t,e);function t(t){return e.call(this,`zoom`,t)||this}return t}(function(e){zp(t,e);function t(t,n){return e.call(this,t,n)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(e){var t={};t[this.name]=e;var n={advanced:[t]};return this.track.applyConstraints(n)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var e=this.track.getCapabilities()[this.name];return{min:e.min,max:e.max,step:e.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw Error(`${this.name} capability not supported`)},t}(Hp)),Wp=function(e){zp(t,e);function t(t){return e.call(this,`torch`,t)||this}return t}(Hp),Gp=function(){function e(e){this.track=e}return e.prototype.zoomFeature=function(){return new Up(this.track)},e.prototype.torchFeature=function(){return new Wp(this.track)},e}(),Kp=function(){function e(e,t,n){this.isClosed=!1,this.parentElement=e,this.mediaStream=t,this.callbacks=n,this.surface=this.createVideoElement(this.parentElement.clientWidth),e.append(this.surface)}return e.prototype.createVideoElement=function(e){var t=document.createElement(`video`);return t.style.width=`${e}px`,t.style.display=`block`,t.muted=!0,t.setAttribute(`muted`,`true`),t.playsInline=!0,t},e.prototype.setupSurface=function(){var e=this;this.surface.onabort=function(){throw`RenderedCameraImpl video surface onabort() called`},this.surface.onerror=function(){throw`RenderedCameraImpl video surface onerror() called`};var t=function(){var n=e.surface.clientWidth,r=e.surface.clientHeight;e.callbacks.onRenderSurfaceReady(n,r),e.surface.removeEventListener(`playing`,t)};this.surface.addEventListener(`playing`,t),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,n,r,i){return Bp(this,void 0,void 0,function(){var a,o;return Vp(this,function(s){switch(s.label){case 0:return a=new e(t,n,i),r.aspectRatio?(o={aspectRatio:r.aspectRatio},[4,a.getFirstTrackOrFail().applyConstraints(o)]):[3,2];case 1:s.sent(),s.label=2;case 2:return a.setupSurface(),[2,a]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw`The RenderedCamera has already been closed.`},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw`No video tracks found`;return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(e){this.failIfClosed();var t=this,n=function(){setTimeout(e,200),t.surface.removeEventListener(`playing`,n)};this.surface.addEventListener(`playing`,n),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(e){return Bp(this,void 0,void 0,function(){return Vp(this,function(t){if(`aspectRatio`in e)throw`Changing 'aspectRatio' in run-time is not yet supported.`;return[2,this.getFirstTrackOrFail().applyConstraints(e)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var e=this;return new Promise(function(t,n){var r=e.mediaStream.getVideoTracks().length,i=0;e.mediaStream.getVideoTracks().forEach(function(n){e.mediaStream.removeTrack(n),n.stop(),++i,i>=r&&(e.isClosed=!0,e.parentElement.removeChild(e.surface),t())})})},e.prototype.getCapabilities=function(){return new Gp(this.getFirstTrackOrFail())},e}(),qp=function(){function e(e){this.mediaStream=e}return e.prototype.render=function(e,t,n){return Bp(this,void 0,void 0,function(){return Vp(this,function(r){return[2,Kp.create(e,this.mediaStream,t,n)]})})},e.create=function(t){return Bp(this,void 0,void 0,function(){var n,r;return Vp(this,function(i){switch(i.label){case 0:if(!navigator.mediaDevices)throw`navigator.mediaDevices not supported`;return n={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return r=i.sent(),[2,new e(r)]}})})},e}(),Jp=function(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||=Promise)(function(n,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){e.done?n(e.value):i(e.value).then(o,s)}c((r=r.apply(e,t||[])).next())})},Yp=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol==`function`&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return c([e,t])}}function c(s){if(r)throw TypeError(`Generator is already executing.`);for(;o&&(o=0,s[0]&&(n=0)),n;)try{if(r=1,i&&(a=s[0]&2?i.return:s[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,s[1])).done)return a;switch(i=0,a&&(s=[s[0]&2,a.value]),s[0]){case 0:case 1:a=s;break;case 4:return n.label++,{value:s[1],done:!1};case 5:n.label++,i=s[1],s=[0];continue;case 7:s=n.ops.pop(),n.trys.pop();continue;default:if((a=n.trys,!(a=a.length>0&&a[a.length-1]))&&(s[0]===6||s[0]===2)){n=0;continue}if(s[0]===3&&(!a||s[1]>a[0]&&s[1]<a[3])){n.label=s[1];break}if(s[0]===6&&n.label<a[1]){n.label=a[1],a=s;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(s);break}a[2]&&n.ops.pop(),n.trys.pop();continue}s=t.call(e,n)}catch(e){s=[6,e],i=0}finally{r=a=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}},Xp=function(){function e(){}return e.failIfNotSupported=function(){return Jp(this,void 0,void 0,function(){return Yp(this,function(t){if(!navigator.mediaDevices)throw`navigator.mediaDevices not supported`;return[2,new e]})})},e.prototype.create=function(e){return Jp(this,void 0,void 0,function(){return Yp(this,function(t){return[2,qp.create(e)]})})},e}(),Zp=function(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||=Promise)(function(n,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){e.done?n(e.value):i(e.value).then(o,s)}c((r=r.apply(e,t||[])).next())})},Qp=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol==`function`&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return c([e,t])}}function c(s){if(r)throw TypeError(`Generator is already executing.`);for(;o&&(o=0,s[0]&&(n=0)),n;)try{if(r=1,i&&(a=s[0]&2?i.return:s[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,s[1])).done)return a;switch(i=0,a&&(s=[s[0]&2,a.value]),s[0]){case 0:case 1:a=s;break;case 4:return n.label++,{value:s[1],done:!1};case 5:n.label++,i=s[1],s=[0];continue;case 7:s=n.ops.pop(),n.trys.pop();continue;default:if((a=n.trys,!(a=a.length>0&&a[a.length-1]))&&(s[0]===6||s[0]===2)){n=0;continue}if(s[0]===3&&(!a||s[1]>a[0]&&s[1]<a[3])){n.label=s[1];break}if(s[0]===6&&n.label<a[1]){n.label=a[1],a=s;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(s);break}a[2]&&n.ops.pop(),n.trys.pop();continue}s=t.call(e,n)}catch(e){s=[6,e],i=0}finally{r=a=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}},$p=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=Dp.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=Dp.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol===`https:`)return!0;var e=location.host.split(`:`)[0];return e===`127.0.0.1`||e===`localhost`},e.getCamerasFromMediaDevices=function(){return Zp(this,void 0,void 0,function(){var e,t,n,r,i,a,o;return Qp(this,function(s){switch(s.label){case 0:return e=function(e){for(var t=e.getVideoTracks(),n=0,r=t;n<r.length;n++){var i=r[n];i.enabled=!1,i.stop(),e.removeTrack(i)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return t=s.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(n=s.sent(),r=[],i=0,a=n;i<a.length;i++)o=a[i],o.kind===`videoinput`&&r.push({id:o.deviceId,label:o.label});return e(t),[2,r]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(e,t){MediaStreamTrack.getSources(function(t){for(var n=[],r=0,i=t;r<i.length;r++){var a=i[r];a.kind===`video`&&n.push({id:a.id,label:a.label})}e(n)})})},e}(),em;(function(e){e[e.UNKNOWN=0]=`UNKNOWN`,e[e.NOT_STARTED=1]=`NOT_STARTED`,e[e.SCANNING=2]=`SCANNING`,e[e.PAUSED=3]=`PAUSED`})(em||={});var tm=function(){function e(){this.state=em.NOT_STARTED,this.onGoingTransactionNewState=em.UNKNOWN}return e.prototype.directTransition=function(e){this.failIfTransitionOngoing(),this.validateTransition(e),this.state=e},e.prototype.startTransition=function(e){return this.failIfTransitionOngoing(),this.validateTransition(e),this.onGoingTransactionNewState=e,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===em.UNKNOWN)throw`Transaction is already cancelled, cannot execute().`;var e=this.onGoingTransactionNewState;this.onGoingTransactionNewState=em.UNKNOWN,this.directTransition(e)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===em.UNKNOWN)throw`Transaction is already cancelled, cannot cancel().`;this.onGoingTransactionNewState=em.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==em.UNKNOWN)throw`Cannot transition to a new state, already under transition`},e.prototype.validateTransition=function(e){switch(this.state){case em.UNKNOWN:throw`Transition from unknown is not allowed`;case em.NOT_STARTED:this.failIfNewStateIs(e,[em.PAUSED]);break;case em.SCANNING:break;case em.PAUSED:break}},e.prototype.failIfNewStateIs=function(e,t){for(var n=0,r=t;n<r.length;n++)if(e===r[n])throw`Cannot transition from ${this.state} to ${e}`},e}(),nm=function(){function e(e){this.stateManager=e}return e.prototype.startTransition=function(e){return this.stateManager.startTransition(e)},e.prototype.directTransition=function(e){this.stateManager.directTransition(e)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===em.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==em.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===em.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===em.PAUSED},e}(),rm=function(){function e(){}return e.create=function(){return new nm(new tm)},e}(),im=(function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if(typeof n!=`function`&&n!==null)throw TypeError(`Class extends value `+String(n)+` is not a constructor or null`);e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}})(),am=function(e){im(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID=`qr-shaded-region`,t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR=`#ffffff`,t.BORDER_SHADER_MATCH_COLOR=`rgb(90, 193, 56)`,t}(yp),om=function(){function e(e,t){this.logger=t,this.fps=am.SCAN_DEFAULT_FPS,e?(e.fps&&(this.fps=e.fps),this.disableFlip=e.disableFlip===!0,this.qrbox=e.qrbox,this.aspectRatio=e.aspectRatio,this.videoConstraints=e.videoConstraints):this.disableFlip=am.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?Ap.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError(`Empty videoConstraints`,!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!Tp(this.qrbox)},e.create=function(t,n){return new e(t,n)},e}(),sm=function(){function e(e,t){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(e))throw`HTML Element with id=${e} not found`;this.elementId=e,this.verbose=!1;var n;typeof t==`boolean`?this.verbose=t===!0:t&&(n=t,this.verbose=n.verbose===!0,n.experimentalFeatures),this.logger=new wp(this.verbose),this.qrcode=new Rp(this.getSupportedFormats(t),this.getUseBarCodeDetectorIfSupported(n),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=rm.create()}return e.prototype.start=function(e,t,n,r){var i=this;if(!e)throw`cameraIdOrConfig is required`;if(!n||typeof n!=`function`)throw`qrCodeSuccessCallback is required and should be a function.`;var a=r||(this.verbose?this.logger.log:function(){}),o=om.create(t,this.logger);this.clearElement();var s=!1;o.videoConstraints&&(o.isMediaStreamConstraintsValid()?s=!0:this.logger.logError(`'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'`,!0));var c=s,l=document.getElementById(this.elementId);l.clientWidth?l.clientWidth:am.DEFAULT_WIDTH,l.style.position=`relative`,this.shouldScan=!0,this.element=l;var u=this,d=this.stateManagerProxy.startTransition(em.SCANNING);return new Promise(function(t,r){var s=c?o.videoConstraints:u.createVideoConstraints(e);if(!s){d.cancel(),r(`videoConstraints should be defined`);return}var l={};(!c||o.aspectRatio)&&(l.aspectRatio=o.aspectRatio);var f={onRenderSurfaceReady:function(e,t){u.setupUi(e,t,o),u.isScanning=!0,u.foreverScan(o,n,a)}};Xp.failIfNotSupported().then(function(e){e.create(s).then(function(e){return e.render(i.element,l,f).then(function(e){u.renderedCamera=e,d.execute(),t(null)}).catch(function(e){d.cancel(),r(e)})}).catch(function(e){d.cancel(),r(Dp.errorGettingUserMedia(e))})}).catch(function(e){d.cancel(),r(Dp.cameraStreamingNotSupported())})})},e.prototype.pause=function(e){if(!this.stateManagerProxy.isStrictlyScanning())throw`Cannot pause, scanner is not scanning.`;this.stateManagerProxy.directTransition(em.PAUSED),this.showPausedState(),(Tp(e)||e!==!0)&&(e=!1),e&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw`Cannot result, scanner is not paused.`;if(!this.renderedCamera)throw`renderedCamera doesn't exist while trying resume()`;var e=this,t=function(){e.stateManagerProxy.directTransition(em.SCANNING),e.hidePausedState()};if(!this.renderedCamera.isPaused()){t();return}this.renderedCamera.resume(function(){t()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var e=this;if(!this.stateManagerProxy.isScanning())throw`Cannot stop, scanner is not running or paused.`;var t=this.stateManagerProxy.startTransition(em.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var n=function(){if(e.element){var t=document.getElementById(am.SHADED_REGION_ELEMENT_ID);t&&e.element.removeChild(t)}},r=this;return this.renderedCamera.close().then(function(){return r.renderedCamera=null,r.element&&(r.element.removeChild(r.canvasElement),r.canvasElement=null),n(),r.qrRegion&&=null,r.context&&=null,t.execute(),r.hidePausedState(),r.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(e,t){return this.scanFileV2(e,t).then(function(e){return e.decodedText})},e.prototype.scanFileV2=function(e,t){var n=this;if(!e||!(e instanceof File))throw`imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.`;if(Tp(t)&&(t=!0),!this.stateManagerProxy.canScanFile())throw`Cannot start file scan - ongoing camera scan`;return new Promise(function(r,i){n.possiblyCloseLastScanImageFile(),n.clearElement(),n.lastScanImageFile=URL.createObjectURL(e);var a=new Image;a.onload=function(){var e=a.width,o=a.height,s=document.getElementById(n.elementId),c=s.clientWidth?s.clientWidth:am.DEFAULT_WIDTH,l=Math.max(s.clientHeight?s.clientHeight:o,am.FILE_SCAN_MIN_HEIGHT),u=n.computeCanvasDrawConfig(e,o,c,l);if(t){var d=n.createCanvasElement(c,l,`qr-canvas-visible`);d.style.display=`inline-block`,s.appendChild(d);var f=d.getContext(`2d`);if(!f)throw`Unable to get 2d context from canvas`;f.canvas.width=c,f.canvas.height=l,f.drawImage(a,0,0,e,o,u.x,u.y,u.width,u.height)}var p=am.FILE_SCAN_HIDDEN_CANVAS_PADDING,m=Math.max(a.width,u.width),h=Math.max(a.height,u.height),g=m+2*p,_=h+2*p,v=n.createCanvasElement(g,_);s.appendChild(v);var y=v.getContext(`2d`);if(!y)throw`Unable to get 2d context from canvas`;y.canvas.width=g,y.canvas.height=_,y.drawImage(a,0,0,e,o,p,p,m,h);try{n.qrcode.decodeRobustlyAsync(v).then(function(e){r(xp.createFromQrcodeResult(e))}).catch(i)}catch(e){i(`QR code parse error, error = ${e}`)}},a.onerror=i,a.onabort=i,a.onstalled=i,a.onsuspend=i,a.src=URL.createObjectURL(e)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return $p.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(e){if(e){if(!Ap.isMediaStreamConstraintsValid(e,this.logger))throw`invalid videoConstaints passed, check logs for more details`}else throw`videoConstaints is required argument.`;return this.getRenderedCameraOrFail().applyVideoConstraints(e)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw`Scanning is not in running state, call this API only when QR code scanning using camera is in running state.`;return this.renderedCamera},e.prototype.getSupportedFormats=function(e){var t=[$.QR_CODE,$.AZTEC,$.CODABAR,$.CODE_39,$.CODE_93,$.CODE_128,$.DATA_MATRIX,$.MAXICODE,$.ITF,$.EAN_13,$.EAN_8,$.PDF_417,$.RSS_14,$.RSS_EXPANDED,$.UPC_A,$.UPC_E,$.UPC_EAN_EXTENSION];if(!e||typeof e==`boolean`||!e.formatsToSupport)return t;if(!Array.isArray(e.formatsToSupport))throw`configOrVerbosityFlag.formatsToSupport should be undefined or an array.`;if(e.formatsToSupport.length===0)throw`Atleast 1 formatsToSupport is needed.`;for(var n=[],r=0,i=e.formatsToSupport;r<i.length;r++){var a=i[r];_p(a)?n.push(a):this.logger.warn(`Invalid format: ${a} passed in config, ignoring.`)}if(n.length===0)throw`None of formatsToSupport match supported values.`;return n},e.prototype.getUseBarCodeDetectorIfSupported=function(e){if(Tp(e))return!0;if(!Tp(e.useBarCodeDetectorIfSupported))return e.useBarCodeDetectorIfSupported!==!1;if(Tp(e.experimentalFeatures))return!0;var t=e.experimentalFeatures;return Tp(t.useBarCodeDetectorIfSupported)?!0:t.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(e,t,n){var r=this,i=n.qrbox;this.validateQrboxConfig(i);var a=this.toQrdimensions(e,t,i),o=function(e){if(e<am.MIN_QR_BOX_SIZE)throw`minimum size of 'config.qrbox' dimension value is ${am.MIN_QR_BOX_SIZE}px.`};o(a.width),o(a.height),a.width=function(t){return t>e&&(r.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),t=e),t}(a.width)},e.prototype.validateQrboxConfig=function(e){if(typeof e!=`number`&&typeof e!=`function`&&(e.width===void 0||e.height===void 0))throw`Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set.`},e.prototype.toQrdimensions=function(e,t,n){if(typeof n==`number`)return{width:n,height:n};if(typeof n==`function`)try{return n(e,t)}catch(e){throw Error(`qrbox config was passed as a function but it failed with unknown error`+e)}return n},e.prototype.setupUi=function(e,t,n){n.isShadedBoxEnabled()&&this.validateQrboxSize(e,t,n);var r=Tp(n.qrbox)?{width:e,height:t}:n.qrbox;this.validateQrboxConfig(r);var i=this.toQrdimensions(e,t,r);i.height>t&&this.logger.warn(`[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored`);var a=n.isShadedBoxEnabled()&&i.height<=t,o=a?this.getShadedRegionBounds(e,t,i):{x:0,y:0,width:e,height:t},s=this.createCanvasElement(o.width,o.height),c=s.getContext(`2d`,{willReadFrequently:!0});c.canvas.width=o.width,c.canvas.height=o.height,this.element.append(s),a&&this.possiblyInsertShadingElement(this.element,e,t,i),this.createScannerPausedUiElement(this.element),this.qrRegion=o,this.context=c,this.canvasElement=s},e.prototype.createScannerPausedUiElement=function(e){var t=document.createElement(`div`);t.innerText=Dp.scannerPaused(),t.style.display=`none`,t.style.position=`absolute`,t.style.top=`0px`,t.style.zIndex=`1`,t.style.background=`rgba(9, 9, 9, 0.46)`,t.style.color=`#FFECEC`,t.style.textAlign=`center`,t.style.width=`100%`,e.appendChild(t),this.scannerPausedUiElement=t},e.prototype.scanContext=function(e,t){var n=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(t){return e(t.text,xp.createFromQrcodeResult(t)),n.possiblyUpdateShaders(!0),!0}).catch(function(e){n.possiblyUpdateShaders(!1);var r=Dp.codeParseError(e);return t(r,Cp.createFrom(r)),!1})},e.prototype.foreverScan=function(e,t,n){var r=this;if(this.shouldScan&&this.renderedCamera){var i=this.renderedCamera.getSurface(),a=i.videoWidth/i.clientWidth,o=i.videoHeight/i.clientHeight;if(!this.qrRegion)throw`qrRegion undefined when localMediaStream is ready.`;var s=this.qrRegion.width*a,c=this.qrRegion.height*o,l=this.qrRegion.x*a,u=this.qrRegion.y*o;this.context.drawImage(i,l,u,s,c,0,0,this.qrRegion.width,this.qrRegion.height);var d=function(){r.foreverScanTimeout=setTimeout(function(){r.foreverScan(e,t,n)},r.getTimeoutFps(e.fps))};this.scanContext(t,n).then(function(i){!i&&e.disableFlip!==!0?(r.context.translate(r.context.canvas.width,0),r.context.scale(-1,1),r.scanContext(t,n).finally(function(){d()})):d()}).catch(function(e){r.logger.logError(`Error happend while scanning context`,e),d()})}},e.prototype.createVideoConstraints=function(e){if(typeof e==`string`)return{deviceId:{exact:e}};if(typeof e==`object`){var t=`facingMode`,n=`deviceId`,r={user:!0,environment:!0},i=`exact`,a=function(e){if(e in r)return!0;throw`config has invalid 'facingMode' value = '${e}'`},o=Object.keys(e);if(o.length!==1)throw`'cameraIdOrConfig' object should have exactly 1 key, if passed as an object, found ${o.length} keys`;var s=Object.keys(e)[0];if(s!==t&&s!==n)throw`Only '${t}' and '${n}'  are supported for 'cameraIdOrConfig'`;if(s===t){var c=e.facingMode;if(typeof c==`string`){if(a(c))return{facingMode:c}}else if(typeof c==`object`)if(i in c){if(a(c[`${i}`]))return{facingMode:{exact:c[`${i}`]}}}else throw`'facingMode' should be string or object with ${i} as key.`;else throw`Invalid type of 'facingMode' = ${typeof c}`}else{var l=e.deviceId;if(typeof l==`string`)return{deviceId:l};if(typeof l==`object`){if(i in l)return{deviceId:{exact:l[`${i}`]}};throw`'deviceId' should be string or object with ${i} as key.`}else throw`Invalid type of 'deviceId' = ${typeof l}`}}throw`Invalid type of 'cameraIdOrConfig' = ${typeof e}`},e.prototype.computeCanvasDrawConfig=function(e,t,n,r){if(e<=n&&t<=r)return{x:(n-e)/2,y:(r-t)/2,width:e,height:t};var i=e,a=t;return e>n&&(t=n/e*t,e=n),t>r&&(e=r/t*e,t=r),this.logger.log(`Image downsampled from ${i}X${a} to ${e}X${t}.`),this.computeCanvasDrawConfig(e,t,n,r)},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw`Cannot clear while scan is ongoing, close it first.`;var e=document.getElementById(this.elementId);e&&(e.innerHTML=``)},e.prototype.possiblyUpdateShaders=function(e){this.qrMatch!==e&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(t){t.style.backgroundColor=e?am.BORDER_SHADER_MATCH_COLOR:am.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=e)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&=(URL.revokeObjectURL(this.lastScanImageFile),null)},e.prototype.createCanvasElement=function(e,t,n){var r=e,i=t,a=document.createElement(`canvas`);return a.style.width=`${r}px`,a.style.height=`${i}px`,a.style.display=`none`,a.id=Tp(n)?`qr-canvas`:n,a},e.prototype.getShadedRegionBounds=function(e,t,n){if(n.width>e||n.height>t)throw`'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.`;return{x:(e-n.width)/2,y:(t-n.height)/2,width:n.width,height:n.height}},e.prototype.possiblyInsertShadingElement=function(e,t,n,r){if(!(t-r.width<1||n-r.height<1)){var i=document.createElement(`div`);i.style.position=`absolute`;var a=(t-r.width)/2,o=(n-r.height)/2;if(i.style.borderLeft=`${a}px solid rgba(0, 0, 0, 0.48)`,i.style.borderRight=`${a}px solid rgba(0, 0, 0, 0.48)`,i.style.borderTop=`${o}px solid rgba(0, 0, 0, 0.48)`,i.style.borderBottom=`${o}px solid rgba(0, 0, 0, 0.48)`,i.style.boxSizing=`border-box`,i.style.top=`0px`,i.style.bottom=`0px`,i.style.left=`0px`,i.style.right=`0px`,i.id=`${am.SHADED_REGION_ELEMENT_ID}`,t-r.width<11||n-r.height<11)this.hasBorderShaders=!1;else{var s=5,c=40;this.insertShaderBorders(i,c,s,-s,null,0,!0),this.insertShaderBorders(i,c,s,-s,null,0,!1),this.insertShaderBorders(i,c,s,null,-s,0,!0),this.insertShaderBorders(i,c,s,null,-s,0,!1),this.insertShaderBorders(i,s,c+s,-s,null,-s,!0),this.insertShaderBorders(i,s,c+s,null,-s,-s,!0),this.insertShaderBorders(i,s,c+s,-s,null,-s,!1),this.insertShaderBorders(i,s,c+s,null,-s,-s,!1),this.hasBorderShaders=!0}e.append(i)}},e.prototype.insertShaderBorders=function(e,t,n,r,i,a,o){var s=document.createElement(`div`);s.style.position=`absolute`,s.style.backgroundColor=am.BORDER_SHADER_DEFAULT_COLOR,s.style.width=`${t}px`,s.style.height=`${n}px`,r!==null&&(s.style.top=`${r}px`),i!==null&&(s.style.bottom=`${i}px`),o?s.style.left=`${a}px`:s.style.right=`${a}px`,this.borderShaders||=[],this.borderShaders.push(s),e.appendChild(s)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw`[internal error] scanner paused UI element not found`;this.scannerPausedUiElement.style.display=`block`},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw`[internal error] scanner paused UI element not found`;this.scannerPausedUiElement.style.display=`none`},e.prototype.getTimeoutFps=function(e){return 1e3/e},e}(),cm=`data:image/svg+xml;base64,`,lm=cm+`PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzNzEuNjQzIDM3MS42NDMiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM3MS42NDMgMzcxLjY0MyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHBhdGggZD0iTTEwNS4wODQgMzguMjcxaDE2My43Njh2MjBIMTA1LjA4NHoiLz48cGF0aCBkPSJNMzExLjU5NiAxOTAuMTg5Yy03LjQ0MS05LjM0Ny0xOC40MDMtMTYuMjA2LTMyLjc0My0yMC41MjJWMzBjMC0xNi41NDItMTMuNDU4LTMwLTMwLTMwSDEyNS4wODRjLTE2LjU0MiAwLTMwIDEzLjQ1OC0zMCAzMHYxMjAuMTQzaC04LjI5NmMtMTYuNTQyIDAtMzAgMTMuNDU4LTMwIDMwdjEuMzMzYTI5LjgwNCAyOS44MDQgMCAwIDAgNC42MDMgMTUuOTM5Yy03LjM0IDUuNDc0LTEyLjEwMyAxNC4yMjEtMTIuMTAzIDI0LjA2MXYxLjMzM2MwIDkuODQgNC43NjMgMTguNTg3IDEyLjEwMyAyNC4wNjJhMjkuODEgMjkuODEgMCAwIDAtNC42MDMgMTUuOTM4djEuMzMzYzAgMTYuNTQyIDEzLjQ1OCAzMCAzMCAzMGg4LjMyNGMuNDI3IDExLjYzMSA3LjUwMyAyMS41ODcgMTcuNTM0IDI2LjE3Ny45MzEgMTAuNTAzIDQuMDg0IDMwLjE4NyAxNC43NjggNDUuNTM3YTkuOTg4IDkuOTg4IDAgMCAwIDguMjE2IDQuMjg4IDkuOTU4IDkuOTU4IDAgMCAwIDUuNzA0LTEuNzkzYzQuNTMzLTMuMTU1IDUuNjUtOS4zODggMi40OTUtMTMuOTIxLTYuNzk4LTkuNzY3LTkuNjAyLTIyLjYwOC0xMC43Ni0zMS40aDgyLjY4NWMuMjcyLjQxNC41NDUuODE4LjgxNSAxLjIxIDMuMTQyIDQuNTQxIDkuMzcyIDUuNjc5IDEzLjkxMyAyLjUzNCA0LjU0Mi0zLjE0MiA1LjY3Ny05LjM3MSAyLjUzNS0xMy45MTMtMTEuOTE5LTE3LjIyOS04Ljc4Ny0zNS44ODQgOS41ODEtNTcuMDEyIDMuMDY3LTIuNjUyIDEyLjMwNy0xMS43MzIgMTEuMjE3LTI0LjAzMy0uODI4LTkuMzQzLTcuMTA5LTE3LjE5NC0xOC42NjktMjMuMzM3YTkuODU3IDkuODU3IDAgMCAwLTEuMDYxLS40ODZjLS40NjYtLjE4Mi0xMS40MDMtNC41NzktOS43NDEtMTUuNzA2IDEuMDA3LTYuNzM3IDE0Ljc2OC04LjI3MyAyMy43NjYtNy42NjYgMjMuMTU2IDEuNTY5IDM5LjY5OCA3LjgwMyA0Ny44MzYgMTguMDI2IDUuNzUyIDcuMjI1IDcuNjA3IDE2LjYyMyA1LjY3MyAyOC43MzMtLjQxMyAyLjU4NS0uODI0IDUuMjQxLTEuMjQ1IDcuOTU5LTUuNzU2IDM3LjE5NC0xMi45MTkgODMuNDgzLTQ5Ljg3IDExNC42NjEtNC4yMjEgMy41NjEtNC43NTYgOS44Ny0xLjE5NCAxNC4wOTJhOS45OCA5Ljk4IDAgMCAwIDcuNjQ4IDMuNTUxIDkuOTU1IDkuOTU1IDAgMCAwIDYuNDQ0LTIuMzU4YzQyLjY3Mi0zNi4wMDUgNTAuODAyLTg4LjUzMyA1Ni43MzctMTI2Ljg4OC40MTUtMi42ODQuODIxLTUuMzA5IDEuMjI5LTcuODYzIDIuODM0LTE3LjcyMS0uNDU1LTMyLjY0MS05Ljc3Mi00NC4zNDV6bS0yMzIuMzA4IDQyLjYyYy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM2MwLTUuNTE0IDQuNDg2LTEwIDEwLTEwaDE1djIxLjMzM2gtMTV6bS0yLjUtNTIuNjY2YzAtNS41MTQgNC40ODYtMTAgMTAtMTBoNy41djIxLjMzM2gtNy41Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi0xLjMzM3ptMTcuNSA5My45OTloLTcuNWMtNS41MTQgMC0xMC00LjQ4Ni0xMC0xMHYtMS4zMzNjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGg3LjV2MjEuMzMzem0zMC43OTYgMjguODg3Yy01LjUxNCAwLTEwLTQuNDg2LTEwLTEwdi04LjI3MWg5MS40NTdjLS44NTEgNi42NjgtLjQzNyAxMi43ODcuNzMxIDE4LjI3MWgtODIuMTg4em03OS40ODItMTEzLjY5OGMtMy4xMjQgMjAuOTA2IDEyLjQyNyAzMy4xODQgMjEuNjI1IDM3LjA0IDUuNDQxIDIuOTY4IDcuNTUxIDUuNjQ3IDcuNzAxIDcuMTg4LjIxIDIuMTUtMi41NTMgNS42ODQtNC40NzcgNy4yNTEtLjQ4Mi4zNzgtLjkyOS44LTEuMzM1IDEuMjYxLTYuOTg3IDcuOTM2LTExLjk4MiAxNS41Mi0xNS40MzIgMjIuNjg4aC05Ny41NjRWMzBjMC01LjUxNCA0LjQ4Ni0xMCAxMC0xMGgxMjMuNzY5YzUuNTE0IDAgMTAgNC40ODYgMTAgMTB2MTM1LjU3OWMtMy4wMzItLjM4MS02LjE1LS42OTQtOS4zODktLjkxNC0yNS4xNTktMS42OTQtNDIuMzcgNy43NDgtNDQuODk4IDI0LjY2NnoiLz48cGF0aCBkPSJNMTc5LjEyOSA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXpNMTcyLjYyOSAxNDIuODZoLTEyLjU2VjEzMC44YTUgNSAwIDEgMC0xMCAwdjE3LjA2MWE1IDUgMCAwIDAgNSA1aDE3LjU2YTUgNSAwIDEgMCAwLTEwLjAwMXpNMjE2LjU2OCA4My4xNjdoLTI0LjA2YTUgNSAwIDAgMC01IDV2MjQuMDYxYTUgNSAwIDAgMCA1IDVoMjQuMDZhNSA1IDAgMCAwIDUtNVY4OC4xNjdhNSA1IDAgMCAwLTUtNXptLTUgMjQuMDYxaC0xNC4wNlY5My4xNjdoMTQuMDZ2MTQuMDYxek0yMTEuNjY5IDEyNS45MzZIMTk3LjQxYTUgNSAwIDAgMC01IDV2MTQuMjU3YTUgNSAwIDAgMCA1IDVoMTQuMjU5YTUgNSAwIDAgMCA1LTV2LTE0LjI1N2E1IDUgMCAwIDAtNS01eiIvPjwvc3ZnPg==`,um=cm+`PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA1OS4wMTggNTkuMDE4IiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA1OS4wMTggNTkuMDE4IiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJtNTguNzQxIDU0LjgwOS01Ljk2OS02LjI0NGExMC43NCAxMC43NCAwIDAgMCAyLjgyLTcuMjVjMC01Ljk1My00Ljg0My0xMC43OTYtMTAuNzk2LTEwLjc5NlMzNCAzNS4zNjEgMzQgNDEuMzE0IDM4Ljg0MyA1Mi4xMSA0NC43OTYgNTIuMTFjMi40NDEgMCA0LjY4OC0uODI0IDYuNDk5LTIuMTk2bDYuMDAxIDYuMjc3YS45OTguOTk4IDAgMCAwIDEuNDE0LjAzMiAxIDEgMCAwIDAgLjAzMS0xLjQxNHpNMzYgNDEuMzE0YzAtNC44NSAzLjk0Ni04Ljc5NiA4Ljc5Ni04Ljc5NnM4Ljc5NiAzLjk0NiA4Ljc5NiA4Ljc5Ni0zLjk0NiA4Ljc5Ni04Ljc5NiA4Ljc5NlMzNiA0Ni4xNjQgMzYgNDEuMzE0ek0xMC40MzEgMTYuMDg4YzAgMy4wNyAyLjQ5OCA1LjU2OCA1LjU2OSA1LjU2OHM1LjU2OS0yLjQ5OCA1LjU2OS01LjU2OGMwLTMuMDcxLTIuNDk4LTUuNTY5LTUuNTY5LTUuNTY5cy01LjU2OSAyLjQ5OC01LjU2OSA1LjU2OXptOS4xMzggMGMwIDEuOTY4LTEuNjAyIDMuNTY4LTMuNTY5IDMuNTY4cy0zLjU2OS0xLjYwMS0zLjU2OS0zLjU2OCAxLjYwMi0zLjU2OSAzLjU2OS0zLjU2OSAzLjU2OSAxLjYwMSAzLjU2OSAzLjU2OXoiLz48cGF0aCBkPSJtMzAuODgyIDI4Ljk4NyA5LjE4LTEwLjA1NCAxMS4yNjIgMTAuMzIzYTEgMSAwIDAgMCAxLjM1MS0xLjQ3NWwtMTItMTFhMSAxIDAgMCAwLTEuNDE0LjA2M2wtOS43OTQgMTAuNzI3LTQuNzQzLTQuNzQzYTEuMDAzIDEuMDAzIDAgMCAwLTEuMzY4LS4wNDRMNi4zMzkgMzcuNzY4YTEgMSAwIDEgMCAxLjMyMiAxLjUwMWwxNi4zMTMtMTQuMzYyIDcuMzE5IDcuMzE4YS45OTkuOTk5IDAgMSAwIDEuNDE0LTEuNDE0bC0xLjgyNS0xLjgyNHoiLz48cGF0aCBkPSJNMzAgNDYuNTE4SDJ2LTQyaDU0djI4YTEgMSAwIDEgMCAyIDB2LTI5YTEgMSAwIDAgMC0xLTFIMWExIDEgMCAwIDAtMSAxdjQ0YTEgMSAwIDAgMCAxIDFoMjlhMSAxIDAgMSAwIDAtMnoiLz48L3N2Zz4=`,dm=cm+`PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0NjAgNDYwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0NjAgNDYwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNMjMwIDBDMTAyLjk3NSAwIDAgMTAyLjk3NSAwIDIzMHMxMDIuOTc1IDIzMCAyMzAgMjMwIDIzMC0xMDIuOTc0IDIzMC0yMzBTMzU3LjAyNSAwIDIzMCAwem0zOC4zMzMgMzc3LjM2YzAgOC42NzYtNy4wMzQgMTUuNzEtMTUuNzEgMTUuNzFoLTQzLjEwMWMtOC42NzYgMC0xNS43MS03LjAzNC0xNS43MS0xNS43MVYyMDIuNDc3YzAtOC42NzYgNy4wMzMtMTUuNzEgMTUuNzEtMTUuNzFoNDMuMTAxYzguNjc2IDAgMTUuNzEgNy4wMzMgMTUuNzEgMTUuNzFWMzc3LjM2ek0yMzAgMTU3Yy0yMS41MzkgMC0zOS0xNy40NjEtMzktMzlzMTcuNDYxLTM5IDM5LTM5IDM5IDE3LjQ2MSAzOSAzOS0xNy40NjEgMzktMzkgMzl6Ii8+PC9zdmc+`,fm=`data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAAQgAAAEIBarqQRAAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAE1SURBVDiNfdI7S0NBEAXgLya1otFgpbYSbISAgpXYi6CmiH9KCAiChaVga6OiWPgfRDQ+0itaGVNosXtluWwcuMzePfM4M3sq8lbHBubwg1dc4m1E/J/N4ghDPOIsfk/4xiEao5KX0McFljN4C9d4QTPXuY99jP3DsIoDPGM6BY5i5yI5R7O4q+ImFkJY2DCh3cAH2klyB+9J1xUMMAG7eCh1a+Mr+k48b5diXrFVwwLuS+BJ9MfR7+G0FHOHhTHhnXNWS87VDF4pcnfQK4Ep7XScNLmPTZgURNKKYENYWDpzW1BhscS1WHS8CDgURFJQrWcoF3c13KKbgg1BYQfy8xZWEzTTw1QZbAoKu8FqJnktdu5hcVSHmchiILzzuaDQvjBzV2m8yohCE1jHfPx/xhU+y4G/D75ELlRJsSYAAAAASUVORK5CYII=`,pm=function(){function e(){}return e.createDefault=function(){return{hasPermission:!1,lastUsedCameraId:null}},e}(),mm=function(){function e(){this.data=pm.createDefault();var t=localStorage.getItem(e.LOCAL_STORAGE_KEY);t?this.data=JSON.parse(t):this.reset()}return e.prototype.hasCameraPermissions=function(){return this.data.hasPermission},e.prototype.getLastUsedCameraId=function(){return this.data.lastUsedCameraId},e.prototype.setHasPermission=function(e){this.data.hasPermission=e,this.flush()},e.prototype.setLastUsedCameraId=function(e){this.data.lastUsedCameraId=e,this.flush()},e.prototype.resetLastUsedCameraId=function(){this.data.lastUsedCameraId=null,this.flush()},e.prototype.reset=function(){this.data=pm.createDefault(),this.flush()},e.prototype.flush=function(){localStorage.setItem(e.LOCAL_STORAGE_KEY,JSON.stringify(this.data))},e.LOCAL_STORAGE_KEY=`HTML5_QRCODE_DATA`,e}(),hm=function(){function e(){this.infoDiv=document.createElement(`div`)}return e.prototype.renderInto=function(e){this.infoDiv.style.position=`absolute`,this.infoDiv.style.top=`10px`,this.infoDiv.style.right=`10px`,this.infoDiv.style.zIndex=`2`,this.infoDiv.style.display=`none`,this.infoDiv.style.padding=`5pt`,this.infoDiv.style.border=`1px solid #171717`,this.infoDiv.style.fontSize=`10pt`,this.infoDiv.style.background=`rgb(0 0 0 / 69%)`,this.infoDiv.style.borderRadius=`5px`,this.infoDiv.style.textAlign=`center`,this.infoDiv.style.fontWeight=`400`,this.infoDiv.style.color=`white`,this.infoDiv.innerText=kp.poweredBy();var t=document.createElement(`a`);t.innerText=`ScanApp`,t.href=`https://scanapp.org`,t.target=`new`,t.style.color=`white`,this.infoDiv.appendChild(t);var n=document.createElement(`br`),r=document.createElement(`br`);this.infoDiv.appendChild(n),this.infoDiv.appendChild(r);var i=document.createElement(`a`);i.innerText=kp.reportIssues(),i.href=`https://github.com/mebjas/html5-qrcode/issues`,i.target=`new`,i.style.color=`white`,this.infoDiv.appendChild(i),e.appendChild(this.infoDiv)},e.prototype.show=function(){this.infoDiv.style.display=`block`},e.prototype.hide=function(){this.infoDiv.style.display=`none`},e}(),gm=function(){function e(e,t){this.isShowingInfoIcon=!0,this.onTapIn=e,this.onTapOut=t,this.infoIcon=document.createElement(`img`)}return e.prototype.renderInto=function(e){var t=this;this.infoIcon.alt=`Info icon`,this.infoIcon.src=dm,this.infoIcon.style.position=`absolute`,this.infoIcon.style.top=`4px`,this.infoIcon.style.right=`4px`,this.infoIcon.style.opacity=`0.6`,this.infoIcon.style.cursor=`pointer`,this.infoIcon.style.zIndex=`2`,this.infoIcon.style.width=`16px`,this.infoIcon.style.height=`16px`,this.infoIcon.onmouseover=function(e){return t.onHoverIn()},this.infoIcon.onmouseout=function(e){return t.onHoverOut()},this.infoIcon.onclick=function(e){return t.onClick()},e.appendChild(this.infoIcon)},e.prototype.onHoverIn=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity=`1`)},e.prototype.onHoverOut=function(){this.isShowingInfoIcon&&(this.infoIcon.style.opacity=`0.6`)},e.prototype.onClick=function(){this.isShowingInfoIcon?(this.isShowingInfoIcon=!1,this.onTapIn(),this.infoIcon.src=fm,this.infoIcon.style.opacity=`1`):(this.isShowingInfoIcon=!0,this.onTapOut(),this.infoIcon.src=dm,this.infoIcon.style.opacity=`0.6`)},e}(),_m=function(){function e(){var e=this;this.infoDiv=new hm,this.infoIcon=new gm(function(){e.infoDiv.show()},function(){e.infoDiv.hide()})}return e.prototype.renderInto=function(e){this.infoDiv.renderInto(e),this.infoIcon.renderInto(e)},e}(),vm=function(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||=Promise)(function(n,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){e.done?n(e.value):i(e.value).then(o,s)}c((r=r.apply(e,t||[])).next())})},ym=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol==`function`&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return c([e,t])}}function c(s){if(r)throw TypeError(`Generator is already executing.`);for(;o&&(o=0,s[0]&&(n=0)),n;)try{if(r=1,i&&(a=s[0]&2?i.return:s[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,s[1])).done)return a;switch(i=0,a&&(s=[s[0]&2,a.value]),s[0]){case 0:case 1:a=s;break;case 4:return n.label++,{value:s[1],done:!1};case 5:n.label++,i=s[1],s=[0];continue;case 7:s=n.ops.pop(),n.trys.pop();continue;default:if((a=n.trys,!(a=a.length>0&&a[a.length-1]))&&(s[0]===6||s[0]===2)){n=0;continue}if(s[0]===3&&(!a||s[1]>a[0]&&s[1]<a[3])){n.label=s[1];break}if(s[0]===6&&n.label<a[1]){n.label=a[1],a=s;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(s);break}a[2]&&n.ops.pop(),n.trys.pop();continue}s=t.call(e,n)}catch(e){s=[6,e],i=0}finally{r=a=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}},bm=function(){function e(){}return e.hasPermissions=function(){return vm(this,void 0,void 0,function(){var e,t,n,r;return ym(this,function(i){switch(i.label){case 0:return[4,navigator.mediaDevices.enumerateDevices()];case 1:for(e=i.sent(),t=0,n=e;t<n.length;t++)if(r=n[t],r.kind===`videoinput`&&r.label)return[2,!0];return[2,!1]}})})},e}(),xm=function(){function e(e){this.supportedScanTypes=this.validateAndReturnScanTypes(e)}return e.prototype.getDefaultScanType=function(){return this.supportedScanTypes[0]},e.prototype.hasMoreThanOneScanType=function(){return this.supportedScanTypes.length>1},e.prototype.isCameraScanRequired=function(){for(var t=0,n=this.supportedScanTypes;t<n.length;t++){var r=n[t];if(e.isCameraScanType(r))return!0}return!1},e.isCameraScanType=function(e){return e===vp.SCAN_TYPE_CAMERA},e.isFileScanType=function(e){return e===vp.SCAN_TYPE_FILE},e.prototype.validateAndReturnScanTypes=function(e){if(!e||e.length===0)return yp.DEFAULT_SUPPORTED_SCAN_TYPE;var t=yp.DEFAULT_SUPPORTED_SCAN_TYPE.length;if(e.length>t)throw`Max ${t} values expected for supportedScanTypes`;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(!yp.DEFAULT_SUPPORTED_SCAN_TYPE.includes(i))throw`Unsupported scan type ${i}`}return e},e}(),Sm=function(){function e(){}return e.ALL_ELEMENT_CLASS=`html5-qrcode-element`,e.CAMERA_PERMISSION_BUTTON_ID=`html5-qrcode-button-camera-permission`,e.CAMERA_START_BUTTON_ID=`html5-qrcode-button-camera-start`,e.CAMERA_STOP_BUTTON_ID=`html5-qrcode-button-camera-stop`,e.TORCH_BUTTON_ID=`html5-qrcode-button-torch`,e.CAMERA_SELECTION_SELECT_ID=`html5-qrcode-select-camera`,e.FILE_SELECTION_BUTTON_ID=`html5-qrcode-button-file-selection`,e.ZOOM_SLIDER_ID=`html5-qrcode-input-range-zoom`,e.SCAN_TYPE_CHANGE_ANCHOR_ID=`html5-qrcode-anchor-scan-type-change`,e.TORCH_BUTTON_CLASS_TORCH_ON=`html5-qrcode-button-torch-on`,e.TORCH_BUTTON_CLASS_TORCH_OFF=`html5-qrcode-button-torch-off`,e}(),Cm=function(){function e(){}return e.createElement=function(e,t){var n=document.createElement(e);return n.id=t,n.classList.add(Sm.ALL_ELEMENT_CLASS),e===`button`&&n.setAttribute(`type`,`button`),n},e}(),wm=function(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||=Promise)(function(n,a){function o(e){try{c(r.next(e))}catch(e){a(e)}}function s(e){try{c(r.throw(e))}catch(e){a(e)}}function c(e){e.done?n(e.value):i(e.value).then(o,s)}c((r=r.apply(e,t||[])).next())})},Tm=function(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o;return o={next:s(0),throw:s(1),return:s(2)},typeof Symbol==`function`&&(o[Symbol.iterator]=function(){return this}),o;function s(e){return function(t){return c([e,t])}}function c(s){if(r)throw TypeError(`Generator is already executing.`);for(;o&&(o=0,s[0]&&(n=0)),n;)try{if(r=1,i&&(a=s[0]&2?i.return:s[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,s[1])).done)return a;switch(i=0,a&&(s=[s[0]&2,a.value]),s[0]){case 0:case 1:a=s;break;case 4:return n.label++,{value:s[1],done:!1};case 5:n.label++,i=s[1],s=[0];continue;case 7:s=n.ops.pop(),n.trys.pop();continue;default:if((a=n.trys,!(a=a.length>0&&a[a.length-1]))&&(s[0]===6||s[0]===2)){n=0;continue}if(s[0]===3&&(!a||s[1]>a[0]&&s[1]<a[3])){n.label=s[1];break}if(s[0]===6&&n.label<a[1]){n.label=a[1],a=s;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(s);break}a[2]&&n.ops.pop(),n.trys.pop();continue}s=t.call(e,n)}catch(e){s=[6,e],i=0}finally{r=a=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}},Em=function(){function e(e,t,n){this.isTorchOn=!1,this.torchCapability=e,this.buttonController=t,this.onTorchActionFailureCallback=n}return e.prototype.isTorchEnabled=function(){return this.isTorchOn},e.prototype.flipState=function(){return wm(this,void 0,void 0,function(){var e,t;return Tm(this,function(n){switch(n.label){case 0:this.buttonController.disable(),e=!this.isTorchOn,n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.torchCapability.apply(e)];case 2:return n.sent(),this.updateUiBasedOnLatestSettings(this.torchCapability.value(),e),[3,4];case 3:return t=n.sent(),this.propagateFailure(e,t),this.buttonController.enable(),[3,4];case 4:return[2]}})})},e.prototype.updateUiBasedOnLatestSettings=function(e,t){e===t?(this.buttonController.setText(t?Op.torchOffButton():Op.torchOnButton()),this.isTorchOn=t):this.propagateFailure(t),this.buttonController.enable()},e.prototype.propagateFailure=function(e,t){var n=e?Op.torchOnFailedMessage():Op.torchOffFailedMessage();t&&(n+=`; Error = `+t),this.onTorchActionFailureCallback(n)},e.prototype.reset=function(){this.isTorchOn=!1},e}(),Dm=function(){function e(e,t){this.onTorchActionFailureCallback=t,this.torchButton=Cm.createElement(`button`,Sm.TORCH_BUTTON_ID),this.torchController=new Em(e,this,t)}return e.prototype.render=function(e,t){var n=this;this.torchButton.innerText=Op.torchOnButton(),this.torchButton.style.display=t.display,this.torchButton.style.marginLeft=t.marginLeft;var r=this;this.torchButton.addEventListener(`click`,function(e){return wm(n,void 0,void 0,function(){return Tm(this,function(e){switch(e.label){case 0:return[4,r.torchController.flipState()];case 1:return e.sent(),r.torchController.isTorchEnabled()?(r.torchButton.classList.remove(Sm.TORCH_BUTTON_CLASS_TORCH_OFF),r.torchButton.classList.add(Sm.TORCH_BUTTON_CLASS_TORCH_ON)):(r.torchButton.classList.remove(Sm.TORCH_BUTTON_CLASS_TORCH_ON),r.torchButton.classList.add(Sm.TORCH_BUTTON_CLASS_TORCH_OFF)),[2]}})})}),e.appendChild(this.torchButton)},e.prototype.updateTorchCapability=function(e){this.torchController=new Em(e,this,this.onTorchActionFailureCallback)},e.prototype.getTorchButton=function(){return this.torchButton},e.prototype.hide=function(){this.torchButton.style.display=`none`},e.prototype.show=function(){this.torchButton.style.display=`inline-block`},e.prototype.disable=function(){this.torchButton.disabled=!0},e.prototype.enable=function(){this.torchButton.disabled=!1},e.prototype.setText=function(e){this.torchButton.innerText=e},e.prototype.reset=function(){this.torchButton.innerText=Op.torchOnButton(),this.torchController.reset()},e.create=function(t,n,r,i){var a=new e(n,i);return a.render(t,r),a},e}(),Om=function(){function e(e,t,n){this.fileBasedScanRegion=this.createFileBasedScanRegion(),this.fileBasedScanRegion.style.display=t?`block`:`none`,e.appendChild(this.fileBasedScanRegion);var r=document.createElement(`label`);r.setAttribute(`for`,this.getFileScanInputId()),r.style.display=`inline-block`,this.fileBasedScanRegion.appendChild(r),this.fileSelectionButton=Cm.createElement(`button`,Sm.FILE_SELECTION_BUTTON_ID),this.setInitialValueToButton(),this.fileSelectionButton.addEventListener(`click`,function(e){r.click()}),r.append(this.fileSelectionButton),this.fileScanInput=Cm.createElement(`input`,this.getFileScanInputId()),this.fileScanInput.type=`file`,this.fileScanInput.accept=`image/*`,this.fileScanInput.style.display=`none`,r.appendChild(this.fileScanInput);var i=this;this.fileScanInput.addEventListener(`change`,function(e){if(!(e==null||e.target==null)){var t=e.target;if(!(t.files&&t.files.length===0)){var r=t.files[0],a=r.name;i.setImageNameToButton(a),n(r)}}});var a=this.createDragAndDropMessage();this.fileBasedScanRegion.appendChild(a),this.fileBasedScanRegion.addEventListener(`dragenter`,function(e){i.fileBasedScanRegion.style.border=i.fileBasedScanRegionActiveBorder(),e.stopPropagation(),e.preventDefault()}),this.fileBasedScanRegion.addEventListener(`dragleave`,function(e){i.fileBasedScanRegion.style.border=i.fileBasedScanRegionDefaultBorder(),e.stopPropagation(),e.preventDefault()}),this.fileBasedScanRegion.addEventListener(`dragover`,function(e){i.fileBasedScanRegion.style.border=i.fileBasedScanRegionActiveBorder(),e.stopPropagation(),e.preventDefault()}),this.fileBasedScanRegion.addEventListener(`drop`,function(e){e.stopPropagation(),e.preventDefault(),i.fileBasedScanRegion.style.border=i.fileBasedScanRegionDefaultBorder();var t=e.dataTransfer;if(t){var r=t.files;if(!r||r.length===0)return;for(var o=!1,s=0;s<r.length;++s){var c=r.item(s);if(c&&c.type.match(/image.*/)){o=!0;var l=c.name;i.setImageNameToButton(l),n(c),a.innerText=Op.dragAndDropMessage();break}}o||(a.innerText=Op.dragAndDropMessageOnlyImages())}})}return e.prototype.hide=function(){this.fileBasedScanRegion.style.display=`none`,this.fileScanInput.disabled=!0},e.prototype.show=function(){this.fileBasedScanRegion.style.display=`block`,this.fileScanInput.disabled=!1},e.prototype.isShowing=function(){return this.fileBasedScanRegion.style.display===`block`},e.prototype.resetValue=function(){this.fileScanInput.value=``,this.setInitialValueToButton()},e.prototype.createFileBasedScanRegion=function(){var e=document.createElement(`div`);return e.style.textAlign=`center`,e.style.margin=`auto`,e.style.width=`80%`,e.style.maxWidth=`600px`,e.style.border=this.fileBasedScanRegionDefaultBorder(),e.style.padding=`10px`,e.style.marginBottom=`10px`,e},e.prototype.fileBasedScanRegionDefaultBorder=function(){return`6px dashed #ebebeb`},e.prototype.fileBasedScanRegionActiveBorder=function(){return`6px dashed rgb(153 151 151)`},e.prototype.createDragAndDropMessage=function(){var e=document.createElement(`div`);return e.innerText=Op.dragAndDropMessage(),e.style.fontWeight=`400`,e},e.prototype.setImageNameToButton=function(e){if(e.length>20){var t=e.substring(0,8),n=e.length;e=`${t}....${e.substring(n-8,n)}`}var r=Op.fileSelectionChooseAnother()+` - `+e;this.fileSelectionButton.innerText=r},e.prototype.setInitialValueToButton=function(){var e=Op.fileSelectionChooseImage()+` - `+Op.fileSelectionNoImageSelected();this.fileSelectionButton.innerText=e},e.prototype.getFileScanInputId=function(){return`html5-qrcode-private-filescan-input`},e.create=function(t,n,r){return new e(t,n,r)},e}(),km=function(){function e(e){this.selectElement=Cm.createElement(`select`,Sm.CAMERA_SELECTION_SELECT_ID),this.cameras=e,this.options=[]}return e.prototype.render=function(e){var t=document.createElement(`span`);t.style.marginRight=`10px`;var n=this.cameras.length;if(n===0)throw Error(`No cameras found`);n===1?t.style.display=`none`:t.innerText=`${Op.selectCamera()} (${this.cameras.length})  `;for(var r=1,i=0,a=this.cameras;i<a.length;i++){var o=a[i],s=o.id,c=o.label==null?s:o.label;(!c||c===``)&&(c=[Op.anonymousCameraPrefix(),r++].join(` `));var l=document.createElement(`option`);l.value=s,l.innerText=c,this.options.push(l),this.selectElement.appendChild(l)}t.appendChild(this.selectElement),e.appendChild(t)},e.prototype.disable=function(){this.selectElement.disabled=!0},e.prototype.isDisabled=function(){return this.selectElement.disabled===!0},e.prototype.enable=function(){this.selectElement.disabled=!1},e.prototype.getValue=function(){return this.selectElement.value},e.prototype.hasValue=function(e){for(var t=0,n=this.options;t<n.length;t++)if(n[t].value===e)return!0;return!1},e.prototype.setValue=function(e){if(!this.hasValue(e))throw Error(`${e} is not present in the camera list.`);this.selectElement.value=e},e.prototype.hasSingleItem=function(){return this.cameras.length===1},e.prototype.numCameras=function(){return this.cameras.length},e.create=function(t,n){var r=new e(n);return r.render(t),r},e}(),Am=function(){function e(){this.onChangeCallback=null,this.zoomElementContainer=document.createElement(`div`),this.rangeInput=Cm.createElement(`input`,Sm.ZOOM_SLIDER_ID),this.rangeInput.type=`range`,this.rangeText=document.createElement(`span`),this.rangeInput.min=`1`,this.rangeInput.max=`5`,this.rangeInput.value=`1`,this.rangeInput.step=`0.1`}return e.prototype.render=function(e,t){this.zoomElementContainer.style.display=t?`block`:`none`,this.zoomElementContainer.style.padding=`5px 10px`,this.zoomElementContainer.style.textAlign=`center`,e.appendChild(this.zoomElementContainer),this.rangeInput.style.display=`inline-block`,this.rangeInput.style.width=`50%`,this.rangeInput.style.height=`5px`,this.rangeInput.style.background=`#d3d3d3`,this.rangeInput.style.outline=`none`,this.rangeInput.style.opacity=`0.7`;var n=Op.zoom();this.rangeText.innerText=`${this.rangeInput.value}x ${n}`,this.rangeText.style.marginRight=`10px`;var r=this;this.rangeInput.addEventListener(`input`,function(){return r.onValueChange()}),this.rangeInput.addEventListener(`change`,function(){return r.onValueChange()}),this.zoomElementContainer.appendChild(this.rangeInput),this.zoomElementContainer.appendChild(this.rangeText)},e.prototype.onValueChange=function(){var e=Op.zoom();this.rangeText.innerText=`${this.rangeInput.value}x ${e}`,this.onChangeCallback&&this.onChangeCallback(parseFloat(this.rangeInput.value))},e.prototype.setValues=function(e,t,n,r){this.rangeInput.min=e.toString(),this.rangeInput.max=t.toString(),this.rangeInput.step=r.toString(),this.rangeInput.value=n.toString(),this.onValueChange()},e.prototype.show=function(){this.zoomElementContainer.style.display=`block`},e.prototype.hide=function(){this.zoomElementContainer.style.display=`none`},e.prototype.setOnCameraZoomValueChangeCallback=function(e){this.onChangeCallback=e},e.prototype.removeOnCameraZoomValueChangeCallback=function(){this.onChangeCallback=null},e.create=function(t,n){var r=new e;return r.render(t,n),r},e}(),jm;(function(e){e[e.STATUS_DEFAULT=0]=`STATUS_DEFAULT`,e[e.STATUS_SUCCESS=1]=`STATUS_SUCCESS`,e[e.STATUS_WARNING=2]=`STATUS_WARNING`,e[e.STATUS_REQUESTING_PERMISSION=3]=`STATUS_REQUESTING_PERMISSION`})(jm||={});function Mm(e){return{fps:e.fps,qrbox:e.qrbox,aspectRatio:e.aspectRatio,disableFlip:e.disableFlip,videoConstraints:e.videoConstraints}}function Nm(e,t){return{formatsToSupport:e.formatsToSupport,useBarCodeDetectorIfSupported:e.useBarCodeDetectorIfSupported,experimentalFeatures:e.experimentalFeatures,verbose:t}}var Pm=function(){function e(e,t,n){if(this.lastMatchFound=null,this.cameraScanImage=null,this.fileScanImage=null,this.fileSelectionUi=null,this.elementId=e,this.config=this.createConfig(t),this.verbose=n===!0,!document.getElementById(e))throw`HTML Element with id=${e} not found`;this.scanTypeSelector=new xm(this.config.supportedScanTypes),this.currentScanType=this.scanTypeSelector.getDefaultScanType(),this.sectionSwapAllowed=!0,this.logger=new wp(this.verbose),this.persistedDataManager=new mm,t.rememberLastUsedCamera!==!0&&this.persistedDataManager.reset()}return e.prototype.render=function(e,t){var n=this;this.lastMatchFound=null,this.qrCodeSuccessCallback=function(t,r){if(e)e(t,r);else{if(n.lastMatchFound===t)return;n.lastMatchFound=t,n.setHeaderMessage(Op.lastMatch(t),jm.STATUS_SUCCESS)}},this.qrCodeErrorCallback=function(e,n){t&&t(e,n)};var r=document.getElementById(this.elementId);if(!r)throw`HTML Element with id=${this.elementId} not found`;r.innerHTML=``,this.createBasicLayout(r),this.html5Qrcode=new sm(this.getScanRegionId(),Nm(this.config,this.verbose))},e.prototype.pause=function(e){(Tp(e)||e!==!0)&&(e=!1),this.getHtml5QrcodeOrFail().pause(e)},e.prototype.resume=function(){this.getHtml5QrcodeOrFail().resume()},e.prototype.getState=function(){return this.getHtml5QrcodeOrFail().getState()},e.prototype.clear=function(){var e=this,t=function(){var t=document.getElementById(e.elementId);t&&(t.innerHTML=``,e.resetBasicLayout(t))};return this.html5Qrcode?new Promise(function(n,r){if(!e.html5Qrcode){n();return}e.html5Qrcode.isScanning?e.html5Qrcode.stop().then(function(r){if(!e.html5Qrcode){n();return}e.html5Qrcode.clear(),t(),n()}).catch(function(t){e.verbose&&e.logger.logError(`Unable to stop qrcode scanner`,t),r(t)}):(e.html5Qrcode.clear(),t(),n())}):Promise.resolve()},e.prototype.getRunningTrackCapabilities=function(){return this.getHtml5QrcodeOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getHtml5QrcodeOrFail().getRunningTrackSettings()},e.prototype.applyVideoConstraints=function(e){return this.getHtml5QrcodeOrFail().applyVideoConstraints(e)},e.prototype.getHtml5QrcodeOrFail=function(){if(!this.html5Qrcode)throw`Code scanner not initialized.`;return this.html5Qrcode},e.prototype.createConfig=function(e){return e?(e.fps||=yp.SCAN_DEFAULT_FPS,e.rememberLastUsedCamera!==!yp.DEFAULT_REMEMBER_LAST_CAMERA_USED&&(e.rememberLastUsedCamera=yp.DEFAULT_REMEMBER_LAST_CAMERA_USED),e.supportedScanTypes||=yp.DEFAULT_SUPPORTED_SCAN_TYPE,e):{fps:yp.SCAN_DEFAULT_FPS,rememberLastUsedCamera:yp.DEFAULT_REMEMBER_LAST_CAMERA_USED,supportedScanTypes:yp.DEFAULT_SUPPORTED_SCAN_TYPE}},e.prototype.createBasicLayout=function(e){e.style.position=`relative`,e.style.padding=`0px`,e.style.border=`1px solid silver`,this.createHeader(e);var t=document.createElement(`div`);t.id=this.getScanRegionId(),t.style.width=`100%`,t.style.minHeight=`100px`,t.style.textAlign=`center`,e.appendChild(t),xm.isCameraScanType(this.currentScanType)?this.insertCameraScanImageToScanRegion():this.insertFileScanImageToScanRegion();var n=document.createElement(`div`);n.id=this.getDashboardId(),n.style.width=`100%`,e.appendChild(n),this.setupInitialDashboard(n)},e.prototype.resetBasicLayout=function(e){e.style.border=`none`},e.prototype.setupInitialDashboard=function(e){this.createSection(e),this.createSectionControlPanel(),this.scanTypeSelector.hasMoreThanOneScanType()&&this.createSectionSwap()},e.prototype.createHeader=function(e){var t=document.createElement(`div`);t.style.textAlign=`left`,t.style.margin=`0px`,e.appendChild(t),new _m().renderInto(t);var n=document.createElement(`div`);n.id=this.getHeaderMessageContainerId(),n.style.display=`none`,n.style.textAlign=`center`,n.style.fontSize=`14px`,n.style.padding=`2px 10px`,n.style.margin=`4px`,n.style.borderTop=`1px solid #f6f6f6`,t.appendChild(n)},e.prototype.createSection=function(e){var t=document.createElement(`div`);t.id=this.getDashboardSectionId(),t.style.width=`100%`,t.style.padding=`10px 0px 10px 0px`,t.style.textAlign=`left`,e.appendChild(t)},e.prototype.createCameraListUi=function(e,t,n){var r=this;r.showHideScanTypeSwapLink(!1),r.setHeaderMessage(Op.cameraPermissionRequesting());var i=function(){n||r.createPermissionButton(e,t)};sm.getCameras().then(function(n){r.persistedDataManager.setHasPermission(!0),r.showHideScanTypeSwapLink(!0),r.resetHeaderMessage(),n&&n.length>0?(e.removeChild(t),r.renderCameraSelection(n)):(r.setHeaderMessage(Op.noCameraFound(),jm.STATUS_WARNING),i())}).catch(function(e){r.persistedDataManager.setHasPermission(!1),n?n.disabled=!1:i(),r.setHeaderMessage(e,jm.STATUS_WARNING),r.showHideScanTypeSwapLink(!0)})},e.prototype.createPermissionButton=function(e,t){var n=this,r=Cm.createElement(`button`,this.getCameraPermissionButtonId());r.innerText=Op.cameraPermissionTitle(),r.addEventListener(`click`,function(){r.disabled=!0,n.createCameraListUi(e,t,r)}),t.appendChild(r)},e.prototype.createPermissionsUi=function(e,t){var n=this;if(xm.isCameraScanType(this.currentScanType)&&this.persistedDataManager.hasCameraPermissions()){bm.hasPermissions().then(function(r){r?n.createCameraListUi(e,t):(n.persistedDataManager.setHasPermission(!1),n.createPermissionButton(e,t))}).catch(function(r){n.persistedDataManager.setHasPermission(!1),n.createPermissionButton(e,t)});return}this.createPermissionButton(e,t)},e.prototype.createSectionControlPanel=function(){var e=document.getElementById(this.getDashboardSectionId()),t=document.createElement(`div`);e.appendChild(t);var n=document.createElement(`div`);n.id=this.getDashboardSectionCameraScanRegionId(),n.style.display=xm.isCameraScanType(this.currentScanType)?`block`:`none`,t.appendChild(n);var r=document.createElement(`div`);r.style.textAlign=`center`,n.appendChild(r),this.scanTypeSelector.isCameraScanRequired()&&this.createPermissionsUi(n,r),this.renderFileScanUi(t)},e.prototype.renderFileScanUi=function(e){var t=xm.isFileScanType(this.currentScanType),n=this;this.fileSelectionUi=Om.create(e,t,function(e){if(!n.html5Qrcode)throw`html5Qrcode not defined`;xm.isFileScanType(n.currentScanType)&&(n.setHeaderMessage(Op.loadingImage()),n.html5Qrcode.scanFileV2(e,!0).then(function(e){n.resetHeaderMessage(),n.qrCodeSuccessCallback(e.decodedText,e)}).catch(function(e){n.setHeaderMessage(e,jm.STATUS_WARNING),n.qrCodeErrorCallback(e,Cp.createFrom(e))}))})},e.prototype.renderCameraSelection=function(e){var t=this,n=this,r=document.getElementById(this.getDashboardSectionCameraScanRegionId());r.style.textAlign=`center`;var i=Am.create(r,!1),a=function(e){var n=e.zoomFeature();if(n.isSupported()){i.setOnCameraZoomValueChangeCallback(function(e){n.apply(e)});var r=1;t.config.defaultZoomValueIfSupported&&(r=t.config.defaultZoomValueIfSupported),r=Ep(r,n.min(),n.max()),i.setValues(n.min(),n.max(),r,n.step()),i.show()}},o=km.create(r,e),s=document.createElement(`span`),c=Cm.createElement(`button`,Sm.CAMERA_START_BUTTON_ID);c.innerText=Op.scanButtonStartScanningText(),s.appendChild(c);var l=Cm.createElement(`button`,Sm.CAMERA_STOP_BUTTON_ID);l.innerText=Op.scanButtonStopScanningText(),l.style.display=`none`,l.disabled=!0,s.appendChild(l);var u,d=function(e){if(!e.torchFeature().isSupported()){u&&u.hide();return}u?u.updateTorchCapability(e.torchFeature()):u=Dm.create(s,e.torchFeature(),{display:`none`,marginLeft:`5px`},function(e){n.setHeaderMessage(e,jm.STATUS_WARNING)}),u.show()};r.appendChild(s);var f=function(e){e||(c.style.display=`none`),c.innerText=Op.scanButtonStartScanningText(),c.style.opacity=`1`,c.disabled=!1,e&&(c.style.display=`inline-block`)};if(c.addEventListener(`click`,function(e){c.innerText=Op.scanButtonScanningStarting(),o.disable(),c.disabled=!0,c.style.opacity=`0.5`,t.scanTypeSelector.hasMoreThanOneScanType()&&n.showHideScanTypeSwapLink(!1),n.resetHeaderMessage();var r=o.getValue();n.persistedDataManager.setLastUsedCameraId(r),n.html5Qrcode.start(r,Mm(n.config),n.qrCodeSuccessCallback,n.qrCodeErrorCallback).then(function(e){l.disabled=!1,l.style.display=`inline-block`,f(!1);var r=n.html5Qrcode.getRunningTrackCameraCapabilities();t.config.showTorchButtonIfSupported===!0&&d(r),t.config.showZoomSliderIfSupported===!0&&a(r)}).catch(function(e){n.showHideScanTypeSwapLink(!0),o.enable(),f(!0),n.setHeaderMessage(e,jm.STATUS_WARNING)})}),o.hasSingleItem()&&c.click(),l.addEventListener(`click`,function(e){if(!n.html5Qrcode)throw`html5Qrcode not defined`;l.disabled=!0,n.html5Qrcode.stop().then(function(e){t.scanTypeSelector.hasMoreThanOneScanType()&&n.showHideScanTypeSwapLink(!0),o.enable(),c.disabled=!1,l.style.display=`none`,c.style.display=`inline-block`,u&&(u.reset(),u.hide()),i.removeOnCameraZoomValueChangeCallback(),i.hide(),n.insertCameraScanImageToScanRegion()}).catch(function(e){l.disabled=!1,n.setHeaderMessage(e,jm.STATUS_WARNING)})}),n.persistedDataManager.getLastUsedCameraId()){var p=n.persistedDataManager.getLastUsedCameraId();o.hasValue(p)?(o.setValue(p),c.click()):n.persistedDataManager.resetLastUsedCameraId()}},e.prototype.createSectionSwap=function(){var e=this,t=Op.textIfCameraScanSelected(),n=Op.textIfFileScanSelected(),r=document.getElementById(this.getDashboardSectionId()),i=document.createElement(`div`);i.style.textAlign=`center`;var a=Cm.createElement(`span`,this.getDashboardSectionSwapLinkId());a.style.textDecoration=`underline`,a.style.cursor=`pointer`,a.innerText=xm.isCameraScanType(this.currentScanType)?t:n,a.addEventListener(`click`,function(){if(!e.sectionSwapAllowed){e.verbose&&e.logger.logError(`Section swap called when not allowed`);return}e.resetHeaderMessage(),e.fileSelectionUi.resetValue(),e.sectionSwapAllowed=!1,xm.isCameraScanType(e.currentScanType)?(e.clearScanRegion(),e.getCameraScanRegion().style.display=`none`,e.fileSelectionUi.show(),a.innerText=n,e.currentScanType=vp.SCAN_TYPE_FILE,e.insertFileScanImageToScanRegion()):(e.clearScanRegion(),e.getCameraScanRegion().style.display=`block`,e.fileSelectionUi.hide(),a.innerText=t,e.currentScanType=vp.SCAN_TYPE_CAMERA,e.insertCameraScanImageToScanRegion(),e.startCameraScanIfPermissionExistsOnSwap()),e.sectionSwapAllowed=!0}),i.appendChild(a),r.appendChild(i)},e.prototype.startCameraScanIfPermissionExistsOnSwap=function(){var e=this,t=this;if(this.persistedDataManager.hasCameraPermissions()){bm.hasPermissions().then(function(n){if(n){var r=document.getElementById(t.getCameraPermissionButtonId());if(!r)throw e.logger.logError(`Permission button not found, fail;`),`Permission button not found`;r.click()}else t.persistedDataManager.setHasPermission(!1)}).catch(function(e){t.persistedDataManager.setHasPermission(!1)});return}},e.prototype.resetHeaderMessage=function(){var e=document.getElementById(this.getHeaderMessageContainerId());e.style.display=`none`},e.prototype.setHeaderMessage=function(e,t){t||=jm.STATUS_DEFAULT;var n=this.getHeaderMessageDiv();switch(n.innerText=e,n.style.display=`block`,t){case jm.STATUS_SUCCESS:n.style.background=`rgba(106, 175, 80, 0.26)`,n.style.color=`#477735`;break;case jm.STATUS_WARNING:n.style.background=`rgba(203, 36, 49, 0.14)`,n.style.color=`#cb2431`;break;case jm.STATUS_DEFAULT:default:n.style.background=`rgba(0, 0, 0, 0)`,n.style.color=`rgb(17, 17, 17)`;break}},e.prototype.showHideScanTypeSwapLink=function(e){this.scanTypeSelector.hasMoreThanOneScanType()&&(e!==!0&&(e=!1),this.sectionSwapAllowed=e,this.getDashboardSectionSwapLink().style.display=e?`inline-block`:`none`)},e.prototype.insertCameraScanImageToScanRegion=function(){var e=this,t=document.getElementById(this.getScanRegionId());if(this.cameraScanImage){t.innerHTML=`<br>`,t.appendChild(this.cameraScanImage);return}this.cameraScanImage=new Image,this.cameraScanImage.onload=function(n){t.innerHTML=`<br>`,t.appendChild(e.cameraScanImage)},this.cameraScanImage.width=64,this.cameraScanImage.style.opacity=`0.8`,this.cameraScanImage.src=lm,this.cameraScanImage.alt=Op.cameraScanAltText()},e.prototype.insertFileScanImageToScanRegion=function(){var e=this,t=document.getElementById(this.getScanRegionId());if(this.fileScanImage){t.innerHTML=`<br>`,t.appendChild(this.fileScanImage);return}this.fileScanImage=new Image,this.fileScanImage.onload=function(n){t.innerHTML=`<br>`,t.appendChild(e.fileScanImage)},this.fileScanImage.width=64,this.fileScanImage.style.opacity=`0.8`,this.fileScanImage.src=um,this.fileScanImage.alt=Op.fileScanAltText()},e.prototype.clearScanRegion=function(){var e=document.getElementById(this.getScanRegionId());e.innerHTML=``},e.prototype.getDashboardSectionId=function(){return`${this.elementId}__dashboard_section`},e.prototype.getDashboardSectionCameraScanRegionId=function(){return`${this.elementId}__dashboard_section_csr`},e.prototype.getDashboardSectionSwapLinkId=function(){return Sm.SCAN_TYPE_CHANGE_ANCHOR_ID},e.prototype.getScanRegionId=function(){return`${this.elementId}__scan_region`},e.prototype.getDashboardId=function(){return`${this.elementId}__dashboard`},e.prototype.getHeaderMessageContainerId=function(){return`${this.elementId}__header_message`},e.prototype.getCameraPermissionButtonId=function(){return Sm.CAMERA_PERMISSION_BUTTON_ID},e.prototype.getCameraScanRegion=function(){return document.getElementById(this.getDashboardSectionCameraScanRegionId())},e.prototype.getDashboardSectionSwapLink=function(){return document.getElementById(this.getDashboardSectionSwapLinkId())},e.prototype.getHeaderMessageDiv=function(){return document.getElementById(this.getHeaderMessageContainerId())},e}();function Fm({onClose:e,onScanSuccess:t}){return(0,x.useEffect)(()=>{let e=new Pm(`reader`,{fps:10,qrbox:{width:250,height:250}},!1);return e.render(n=>{e.clear(),t(n)},e=>{}),()=>{try{e.clear().catch(e=>console.warn(`Scanner clear error`,e))}catch{}}},[t]),(0,Q.jsx)(`div`,{className:`admin-modal-overlay`,style:{position:`fixed`,inset:0,zIndex:1100,display:`flex`,alignItems:`center`,justifyContent:`center`,background:`rgba(0,0,0,0.8)`},children:(0,Q.jsxs)(`div`,{className:`admin-modal`,style:{background:`white`,padding:`1rem`,borderRadius:`12px`,width:`90%`,maxWidth:`500px`,position:`relative`},children:[(0,Q.jsx)(`button`,{onClick:e,style:{position:`absolute`,top:`10px`,right:`10px`,border:`none`,background:`#f1f5f9`,borderRadius:`50%`,width:`30px`,height:`30px`,cursor:`pointer`,zIndex:10},children:(0,Q.jsx)(`i`,{className:`fa-solid fa-xmark`})}),(0,Q.jsxs)(`div`,{style:{marginTop:`20px`},children:[(0,Q.jsx)(`h3`,{style:{textAlign:`center`,marginBottom:`1rem`},children:`Qut m QR User`}),(0,Q.jsx)(`div`,{id:`reader`})]})]})})}function Im({userId:e,userName:t,currentPoints:n,onClose:r,onConfirm:i}){let[a,o]=(0,x.useState)(``),[s,c]=(0,x.useState)(``),[l,u]=(0,x.useState)(``),[d,f]=(0,x.useState)(!1),p=e=>{c(e);let t=parseFloat(e);o(!isNaN(t)&&e!==``?Math.floor(t*10).toString():``)},m=e=>{o(e),s&&c(``)};return(0,Q.jsx)(`div`,{style:{position:`fixed`,inset:0,zIndex:1e3,display:`flex`,alignItems:`center`,justifyContent:`center`},className:`admin-modal-overlay`,children:(0,Q.jsxs)(`div`,{style:{background:`white`,padding:`2rem`,borderRadius:`12px`,width:`450px`},className:`admin-modal`,children:[(0,Q.jsxs)(`div`,{style:{display:`flex`,justifyContent:`space-between`,alignItems:`center`,marginBottom:`1.5rem`},children:[(0,Q.jsxs)(`h3`,{style:{margin:0,color:`#0f172a`},children:[`iu chnh: `,t]}),(0,Q.jsx)(`button`,{onClick:r,style:{border:`none`,background:`transparent`,fontSize:`1.2rem`,cursor:`pointer`,color:`#64748b`},children:(0,Q.jsx)(`i`,{className:`fa-solid fa-xmark`})})]}),(0,Q.jsxs)(`div`,{style:{background:`#f8fafc`,padding:`1rem`,borderRadius:`8px`,marginBottom:`1.5rem`,display:`flex`,justifyContent:`space-between`},children:[(0,Q.jsx)(`span`,{className:`text-muted`,children:`im hin ti:`}),(0,Q.jsx)(`strong`,{style:{fontSize:`1.1rem`,color:`#0f172a`},children:n})]}),(0,Q.jsxs)(`div`,{className:`form-input-group`,children:[(0,Q.jsx)(`label`,{children:`Nhp s Kg thc t (Ty chn)`}),(0,Q.jsxs)(`div`,{style:{position:`relative`},children:[(0,Q.jsx)(`input`,{type:`number`,className:`form-field`,value:s,onChange:e=>p(e.target.value),placeholder:`VD: 5.5`,step:`0.1`}),(0,Q.jsx)(`span`,{style:{position:`absolute`,right:`1rem`,top:`50%`,transform:`translateY(-50%)`,color:`#94a3b8`,fontSize:`0.9rem`},children:`kg`})]}),s&&(0,Q.jsxs)(`div`,{style:{fontSize:`0.8rem`,color:`#16a34a`,marginTop:`0.25rem`},children:[(0,Q.jsx)(`i`,{className:`fa-solid fa-calculator`}),` T ng quy i: `,s,`kg x 10 = `,Math.floor(parseFloat(s)*10),` im`]})]}),(0,Q.jsxs)(`div`,{className:`form-input-group`,style:{marginTop:`1rem`},children:[(0,Q.jsx)(`label`,{children:`S im iu chnh (+/-)`}),(0,Q.jsx)(`input`,{type:`number`,className:`form-field`,value:a,onChange:e=>m(e.target.value),placeholder:`0`}),(0,Q.jsx)(`div`,{style:{fontSize:`0.8rem`,color:`#64748b`,marginTop:`0.25rem`},children:a&&parseFloat(a)>0?`Thm im`:a&&parseFloat(a)<0?`Tr im`:`Nhp s im`})]}),(0,Q.jsxs)(`div`,{className:`form-input-group`,children:[(0,Q.jsx)(`label`,{children:`L do / Ghi ch`}),(0,Q.jsx)(`input`,{type:`text`,className:`form-field`,value:l,onChange:e=>u(e.target.value),placeholder:`VD: Thu gom ti s kin X...`})]}),(0,Q.jsxs)(`div`,{style:{display:`flex`,gap:`1rem`,marginTop:`2rem`,justifyContent:`flex-end`},children:[(0,Q.jsx)(`button`,{className:`btn outline sm`,onClick:r,style:{border:`1px solid #e2e8f0`,color:`#64748b`},disabled:d,children:`Hy b`}),(0,Q.jsx)(`button`,{className:`btn primary sm`,onClick:async()=>{!a&&!s||(f(!0),await i(a?parseFloat(a):0,s?parseFloat(s):0,l),f(!1))},disabled:!a&&!s||d,children:d?(0,Q.jsx)(`i`,{className:`fa-solid fa-spinner fa-spin`}):(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)(`i`,{className:`fa-solid fa-check`}),` Cp nht`]})})]})]})})}function Lm(){let{allUsers:e,adminAwardPoints:t}=Mf(),[n,r]=(0,x.useState)(``),[i,a]=(0,x.useState)(null),[o,s]=(0,x.useState)(!1),c=e.filter(e=>e.name.toLowerCase().includes(n.toLowerCase())||e.email.toLowerCase().includes(n.toLowerCase()));return(0,Q.jsxs)(`div`,{children:[o&&(0,Q.jsx)(Fm,{onClose:()=>s(!1),onScanSuccess:t=>{s(!1);let n=e.find(e=>e.id===t||e.email===t);n?a({id:n.id,name:n.name,points:n.points}):alert(`Khng tm thy user vi m ny: `+t)}}),(0,Q.jsxs)(`div`,{className:`admin-page-header`,children:[(0,Q.jsx)(`h2`,{className:`admin-page-title`,children:`Qun l ngi dng`}),(0,Q.jsxs)(`p`,{className:`admin-page-desc`,children:[`Danh sch `,e.length,` thnh vin  ng k.`]})]}),(0,Q.jsxs)(`div`,{className:`table-card`,children:[(0,Q.jsxs)(`div`,{className:`table-header-actions`,children:[(0,Q.jsxs)(`div`,{className:`search-bar`,style:{maxWidth:`300px`,margin:0},children:[(0,Q.jsx)(`i`,{className:`fa-solid fa-magnifying-glass search-icon`}),(0,Q.jsx)(`input`,{type:`text`,placeholder:`Tm thnh vin...`,className:`search-input`,value:n,onChange:e=>r(e.target.value)})]}),(0,Q.jsxs)(`button`,{className:`btn primary sm`,onClick:()=>s(!0),children:[(0,Q.jsx)(`i`,{className:`fa-solid fa-qrcode`}),` Qut QR`]}),(0,Q.jsxs)(`button`,{className:`btn outline sm`,title:`Tnh nng xut Excel ang pht trin`,children:[(0,Q.jsx)(`i`,{className:`fa-solid fa-download`}),` Xut danh sch`]})]}),(0,Q.jsxs)(`table`,{className:`pro-table`,children:[(0,Q.jsx)(`thead`,{children:(0,Q.jsxs)(`tr`,{children:[(0,Q.jsx)(`th`,{children:`Thnh vin`}),(0,Q.jsx)(`th`,{children:`im hin ti`}),(0,Q.jsx)(`th`,{children:`Tng ng gp`}),(0,Q.jsx)(`th`,{children:`Trng thi`}),(0,Q.jsx)(`th`,{style:{textAlign:`right`},children:`Thao tc`})]})}),(0,Q.jsx)(`tbody`,{children:c.map(e=>(0,Q.jsxs)(`tr`,{children:[(0,Q.jsxs)(`td`,{children:[(0,Q.jsx)(`div`,{className:`text-bold`,children:e.name}),(0,Q.jsx)(`div`,{className:`text-sm text-muted`,children:e.email})]}),(0,Q.jsx)(`td`,{children:(0,Q.jsx)(`span`,{style:{fontWeight:700,color:`#16a34a`},children:e.points})}),(0,Q.jsxs)(`td`,{children:[e.totalKg.toFixed(1),` kg`]}),(0,Q.jsx)(`td`,{children:(0,Q.jsx)(`span`,{className:`badge-status badge-approved`,children:`Hot ng`})}),(0,Q.jsx)(`td`,{style:{textAlign:`right`},children:(0,Q.jsxs)(`button`,{className:`btn outline sm`,style:{fontSize:`0.8rem`,padding:`0.3rem 0.8rem`},onClick:()=>a({id:e.id,name:e.name,points:e.points}),children:[(0,Q.jsx)(`i`,{className:`fa-solid fa-sliders`}),` iu chnh im`]})})]},e.id))})]})]}),i&&(0,Q.jsx)(Im,{userId:i.id,userName:i.name,currentPoints:i.points,onClose:()=>a(null),onConfirm:async(e,n,r)=>{if(i){let o=n>0?n:0,s=n>0?void 0:e;await t(i.id,o,s,r),a(null)}}})]})}function Rm(){let{allUsers:e,updateDonationStatus:t}=Mf(),n=(0,x.useMemo)(()=>e.flatMap(e=>e.history.filter(e=>e.status===`pending`&&e.type===`donate`).map(t=>({...t,userName:e.name,userEmail:e.email}))).sort((e,t)=>new Date(t.createdAt).getTime()-new Date(e.createdAt).getTime()),[e]);return n.length===0?(0,Q.jsxs)(`div`,{children:[(0,Q.jsxs)(`div`,{className:`admin-page-header`,children:[(0,Q.jsx)(`h2`,{className:`admin-page-title`,children:`Qun l quyn gp`}),(0,Q.jsx)(`p`,{className:`admin-page-desc`,children:`Duyt v kim tra cc yu cu gi nha t thnh vin.`})]}),(0,Q.jsxs)(`div`,{className:`admin-empty-state`,children:[(0,Q.jsx)(`i`,{className:`fa-solid fa-clipboard-check`}),(0,Q.jsx)(`h3`,{children:`Khng c yu cu mi`}),(0,Q.jsx)(`p`,{children:`Tt c cc n  c x l.`})]})]}):(0,Q.jsxs)(`div`,{children:[(0,Q.jsxs)(`div`,{className:`admin-page-header`,children:[(0,Q.jsx)(`h2`,{className:`admin-page-title`,children:`Qun l quyn gp`}),(0,Q.jsxs)(`p`,{className:`admin-page-desc`,children:[`C `,(0,Q.jsx)(`strong`,{children:n.length}),` yu cu cn ph duyt.`]})]}),(0,Q.jsx)(`div`,{className:`table-card`,children:(0,Q.jsxs)(`table`,{className:`pro-table`,children:[(0,Q.jsx)(`thead`,{children:(0,Q.jsxs)(`tr`,{children:[(0,Q.jsx)(`th`,{children:`Ngi gi`}),(0,Q.jsx)(`th`,{children:`Thi gian`}),(0,Q.jsx)(`th`,{children:`Khi lng`}),(0,Q.jsx)(`th`,{children:`im quy i`}),(0,Q.jsx)(`th`,{children:`Ghi ch`}),(0,Q.jsx)(`th`,{style:{textAlign:`right`},children:`Thao tc`})]})}),(0,Q.jsx)(`tbody`,{children:n.map(e=>(0,Q.jsxs)(`tr`,{children:[(0,Q.jsxs)(`td`,{children:[(0,Q.jsx)(`div`,{className:`text-bold`,children:e.userName}),(0,Q.jsx)(`div`,{className:`text-sm text-muted`,children:e.userEmail})]}),(0,Q.jsx)(`td`,{children:e.createdAt}),(0,Q.jsxs)(`td`,{children:[(0,Q.jsx)(`span`,{style:{fontWeight:700,fontSize:`1.1rem`},children:e.kg}),` `,(0,Q.jsx)(`span`,{className:`text-muted text-sm`,children:`kg`})]}),(0,Q.jsxs)(`td`,{style:{color:`#16a34a`,fontWeight:600},children:[`+`,e.points,` im`]}),(0,Q.jsx)(`td`,{style:{maxWidth:`250px`,whiteSpace:`nowrap`,overflow:`hidden`,textOverflow:`ellipsis`},children:e.note}),(0,Q.jsx)(`td`,{style:{textAlign:`right`},children:(0,Q.jsxs)(`div`,{style:{display:`inline-flex`,gap:`0.5rem`},children:[(0,Q.jsx)(`button`,{className:`btn outline sm`,style:{borderColor:`#ef4444`,color:`#ef4444`,padding:`0.4rem 0.8rem`},onClick:()=>t(e.userId||``,e.id,`rejected`),title:`T chi`,children:(0,Q.jsx)(`i`,{className:`fa-solid fa-xmark`})}),(0,Q.jsxs)(`button`,{className:`btn primary sm`,style:{padding:`0.4rem 1.2rem`,display:`flex`,alignItems:`center`,gap:`0.5rem`},onClick:()=>t(e.userId||``,e.id,`approved`),children:[(0,Q.jsx)(`i`,{className:`fa-solid fa-check`}),` Duyt`]})]})})]},e.id))})]})})]})}function zm(){let{availableVouchers:e,addVoucher:t,deleteVoucher:n,editVoucher:r,config:i,updatePointsPerKg:a}=Mf(),[o,s]=(0,x.useState)(i.pointsPerKg.toString()),[c,l]=(0,x.useState)(`Voucher mi`),[u,d]=(0,x.useState)(`200`),[f,p]=(0,x.useState)(`8%`),[m,h]=(0,x.useState)(``),[g,_]=(0,x.useState)(``),[v,y]=(0,x.useState)(null),b=()=>{let e=Number(o);e>0&&(a(e),alert(` cp nht t l quy i!`))},S=async()=>{let n=Number(u)||0;if(n<=0){alert(`im yu cu phi ln hn 0`);return}if(v){let t=e.find(e=>e.id===v);t&&(r({...t,title:c,discount:f,pointsRequired:n,code:m||t.code,expiresAt:g||t.expiresAt}),alert(` cp nht voucher (Lu : Chc nng Edit cha ng b DB)!`)),y(null)}else await t({title:c,code:m,discount:f,pointsRequired:n,expiresAt:g||`2026-12-31`})&&alert(` thm voucher mi!`);l(`Voucher mi`),d(`200`),p(`8%`),h(``),_(``)},C=e=>{y(e.id),l(e.title),d(e.pointsRequired.toString()),p(e.discount),h(e.code),_(e.expiresAt),window.scrollTo({top:0,behavior:`smooth`})},w=()=>{y(null),l(`Voucher mi`),d(`200`),p(`8%`),h(``),_(``)},T=e=>{window.confirm(`Bn c chc mun xa voucher ny khng?`)&&n(e)};return(0,Q.jsxs)(`div`,{children:[(0,Q.jsxs)(`div`,{className:`admin-page-header`,children:[(0,Q.jsx)(`h2`,{className:`admin-page-title`,children:`Cu hnh & Voucher`}),(0,Q.jsx)(`p`,{className:`admin-page-desc`,children:`Qun l t l quy i v kho qu tng.`})]}),(0,Q.jsxs)(`div`,{className:`stats-container`,style:{gridTemplateColumns:`repeat(auto-fit, minmax(300px, 1fr))`},children:[(0,Q.jsxs)(`div`,{className:`stat-widget`,children:[(0,Q.jsxs)(`h3`,{style:{fontSize:`1.1rem`,marginBottom:`1.5rem`,borderBottom:`1px solid #f1f5f9`,paddingBottom:`0.5rem`},children:[(0,Q.jsx)(`i`,{className:`fa-solid fa-scale-balanced`,style:{color:`#20803F`,marginRight:`0.5rem`}}),`T l quy i`]}),(0,Q.jsxs)(`div`,{className:`form-input-group`,children:[(0,Q.jsx)(`label`,{children:`im thng / 1 kg nha`}),(0,Q.jsxs)(`div`,{style:{display:`flex`,gap:`0.5rem`},children:[(0,Q.jsx)(`input`,{type:`number`,min:1,className:`form-field`,value:o,onChange:e=>s(e.target.value)}),(0,Q.jsx)(`button`,{className:`btn primary`,onClick:b,children:`Lu`})]}),(0,Q.jsxs)(`div`,{style:{fontSize:`0.85rem`,color:`#64748b`,marginTop:`0.5rem`},children:[`Gi tr hin ti: `,(0,Q.jsxs)(`strong`,{children:[`1 kg = `,i.pointsPerKg,` im`]})]})]})]}),(0,Q.jsxs)(`div`,{className:`stat-widget`,children:[(0,Q.jsxs)(`h3`,{style:{fontSize:`1.1rem`,marginBottom:`1.5rem`,borderBottom:`1px solid #f1f5f9`,paddingBottom:`0.5rem`},children:[(0,Q.jsx)(`i`,{className:`fa-solid fa-ticket`,style:{color:`#20803F`,marginRight:`0.5rem`}}),v?`Cp nht Voucher`:`To Voucher mi`]}),(0,Q.jsxs)(`div`,{className:`form-input-group`,children:[(0,Q.jsx)(`label`,{children:`Tn Voucher`}),(0,Q.jsx)(`input`,{type:`text`,className:`form-field`,value:c,onChange:e=>l(e.target.value),placeholder:`V d: Gim 20% ht nha`})]}),(0,Q.jsxs)(`div`,{className:`form-input-group`,children:[(0,Q.jsx)(`label`,{children:`M Voucher ( trng  t to)`}),(0,Q.jsx)(`input`,{type:`text`,className:`form-field`,value:m,onChange:e=>h(e.target.value.toUpperCase()),placeholder:`T to (VD: SALE50) hoc Random`})]}),(0,Q.jsxs)(`div`,{style:{display:`grid`,gridTemplateColumns:`1fr 1fr`,gap:`1rem`},children:[(0,Q.jsxs)(`div`,{className:`form-input-group`,children:[(0,Q.jsx)(`label`,{children:`im cn i`}),(0,Q.jsx)(`input`,{type:`number`,min:50,className:`form-field`,value:u,onChange:e=>d(e.target.value)})]}),(0,Q.jsxs)(`div`,{className:`form-input-group`,children:[(0,Q.jsx)(`label`,{children:`Mc gim gi`}),(0,Q.jsx)(`input`,{type:`text`,className:`form-field`,value:f,onChange:e=>p(e.target.value),placeholder:`VD: 10% hoc 50k`})]})]}),(0,Q.jsxs)(`div`,{className:`form-input-group`,children:[(0,Q.jsx)(`label`,{children:`Hn s dng`}),(0,Q.jsx)(`input`,{type:`date`,className:`form-field`,value:g,onChange:e=>_(e.target.value)})]}),(0,Q.jsxs)(`div`,{style:{textAlign:`right`,marginTop:`1rem`,display:`flex`,justifyContent:`flex-end`,gap:`0.5rem`},children:[v&&(0,Q.jsx)(`button`,{className:`btn outline`,onClick:w,children:`Hy`}),(0,Q.jsx)(`button`,{className:`btn outline`,onClick:S,style:{borderColor:v?`#20803F`:void 0,color:v?`#20803F`:void 0},children:v?(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)(`i`,{className:`fa-solid fa-save`}),` Cp nht`]}):(0,Q.jsxs)(Q.Fragment,{children:[(0,Q.jsx)(`i`,{className:`fa-solid fa-plus`}),` Thm Voucher`]})})]})]})]}),(0,Q.jsxs)(`div`,{className:`table-card`,style:{marginTop:`2rem`},children:[(0,Q.jsx)(`div`,{className:`table-header-actions`,children:(0,Q.jsxs)(`h3`,{style:{fontSize:`1rem`,fontWeight:700,margin:0,textTransform:`uppercase`,color:`#64748b`},children:[`Danh sch Voucher hin hnh (`,e.length,`)`]})}),(0,Q.jsxs)(`table`,{className:`pro-table`,children:[(0,Q.jsx)(`thead`,{children:(0,Q.jsxs)(`tr`,{children:[(0,Q.jsx)(`th`,{children:`Tn Voucher`}),(0,Q.jsx)(`th`,{children:`M (Auto)`}),(0,Q.jsx)(`th`,{children:`Tr gi`}),(0,Q.jsx)(`th`,{children:`im yu cu`}),(0,Q.jsx)(`th`,{children:`Hn s dng`}),(0,Q.jsx)(`th`,{style:{textAlign:`right`},children:`Thao tc`})]})}),(0,Q.jsx)(`tbody`,{children:e.map(e=>(0,Q.jsxs)(`tr`,{children:[(0,Q.jsx)(`td`,{children:(0,Q.jsx)(`div`,{className:`text-bold`,children:e.title})}),(0,Q.jsx)(`td`,{children:(0,Q.jsx)(`code`,{style:{background:`#f1f5f9`,padding:`0.2rem 0.4rem`,borderRadius:`4px`,fontSize:`0.85rem`},children:e.code})}),(0,Q.jsx)(`td`,{style:{color:`#20803F`,fontWeight:600},children:e.discount}),(0,Q.jsxs)(`td`,{children:[e.pointsRequired,` im`]}),(0,Q.jsx)(`td`,{className:`text-muted`,children:e.expiresAt}),(0,Q.jsxs)(`td`,{style:{textAlign:`right`},children:[(0,Q.jsx)(`button`,{className:`btn outline sm`,onClick:()=>C(e),style:{marginRight:`0.5rem`},title:`Chnh sa`,children:(0,Q.jsx)(`i`,{className:`fa-solid fa-pen`})}),(0,Q.jsx)(`button`,{className:`btn outline sm`,onClick:()=>T(e.id),style:{color:`#ef4444`,borderColor:`#ef4444`},title:`Xa`,children:(0,Q.jsx)(`i`,{className:`fa-solid fa-trash`})})]})]},e.id))})]})]})]})}function Bm(){let{products:e,addProduct:t,updateProduct:n,deleteProduct:r}=pf(),[i,a]=(0,x.useState)(!1),[o,s]=(0,x.useState)(null),[c,l]=(0,x.useState)(``),[u,d]=(0,x.useState)(``),[f,p]=(0,x.useState)(``),[m,h]=(0,x.useState)(`Standard`),[g,_]=(0,x.useState)(``),[v,y]=(0,x.useState)(``),[b,S]=(0,x.useState)(``),[C,w]=(0,x.useState)(``),[T,E]=(0,x.useState)(``),[D,O]=(0,x.useState)(``),[k,ee]=(0,x.useState)({}),A=()=>{a(!1),s(null),l(``),d(``),p(``),h(`Standard`),_(``),y(``),S(``),w(``),ee({}),E(``),O(``)},te=e=>{a(!0),s(e.id),l(e.name),d(e.slug),p(e.price.toString()),h(e.category),_(e.stock.toString()),y(e.description),S(e.image),w(e.sizes?e.sizes.join(`, `):``),ee(e.specifications||{}),window.scrollTo({top:0,behavior:`smooth`})},ne=()=>{T&&D&&(ee(e=>({...e,[T]:D})),E(``),O(``))},re=e=>{ee(t=>{let n={...t};return delete n[e],n})};return(0,Q.jsxs)(`div`,{children:[(0,Q.jsxs)(`div`,{className:`admin-page-header`,children:[(0,Q.jsx)(`h2`,{className:`admin-page-title`,children:`Qun l Sn phm`}),(0,Q.jsxs)(`button`,{className:`btn primary`,onClick:()=>{A(),a(!i)},children:[(0,Q.jsx)(`i`,{className:`fa-solid ${i?`fa-xmark`:`fa-plus`}`}),` `,i?`ng form`:`Thm sn phm`]})]}),i&&(0,Q.jsxs)(`div`,{className:`card`,style:{padding:`2rem`,marginBottom:`2rem`,borderLeft:`4px solid #20803F`},children:[(0,Q.jsx)(`h3`,{style:{fontSize:`1.4rem`,marginBottom:`1.5rem`,fontWeight:700,color:`#1e293b`},children:o?`Chnh sa sn phm`:`To sn phm mi`}),(0,Q.jsxs)(`div`,{style:{display:`grid`,gridTemplateColumns:`repeat(auto-fit, minmax(280px, 1fr))`,gap:`2rem`},children:[(0,Q.jsxs)(`div`,{style:{display:`flex`,flexDirection:`column`,gap:`1rem`},children:[(0,Q.jsxs)(`div`,{className:`form-input-group`,children:[(0,Q.jsx)(`label`,{children:`Tn sn phm *`}),(0,Q.jsx)(`input`,{className:`form-field`,value:c,onChange:e=>{l(e.target.value),o||d(e.target.value.toLowerCase().replace(/ /g,`-`).replace(/[^\w-]/g,``))},placeholder:`V d: Gch Mosaic Xanh`})]}),(0,Q.jsxs)(`div`,{className:`form-input-group`,children:[(0,Q.jsx)(`label`,{children:`M URL (Slug) *`}),(0,Q.jsx)(`input`,{className:`form-field`,value:u,onChange:e=>d(e.target.value),placeholder:`gach-mosaic-xanh`})]}),(0,Q.jsxs)(`div`,{className:`grid-2`,style:{display:`grid`,gridTemplateColumns:`1fr 1fr`,gap:`1rem`},children:[(0,Q.jsxs)(`div`,{className:`form-input-group`,children:[(0,Q.jsx)(`label`,{children:`Gi nim yt (VN) *`}),(0,Q.jsx)(`input`,{className:`form-field`,type:`number`,value:f,onChange:e=>p(e.target.value)})]}),(0,Q.jsxs)(`div`,{className:`form-input-group`,children:[(0,Q.jsx)(`label`,{children:`Tn kho`}),(0,Q.jsx)(`input`,{className:`form-field`,type:`number`,value:g,onChange:e=>_(e.target.value)})]})]}),(0,Q.jsxs)(`div`,{className:`form-input-group`,children:[(0,Q.jsx)(`label`,{children:`Danh mc`}),(0,Q.jsxs)(`select`,{className:`form-field`,value:m,onChange:e=>h(e.target.value),children:[(0,Q.jsx)(`option`,{value:`Standard`,children:`Standard`}),(0,Q.jsx)(`option`,{value:`Premium`,children:`Premium`}),(0,Q.jsx)(`option`,{value:`Material`,children:`Vt liu th`}),(0,Q.jsx)(`option`,{value:`Mini`,children:`Mini`})]})]}),(0,Q.jsxs)(`div`,{className:`form-input-group`,children:[(0,Q.jsx)(`label`,{children:`Hnh nh (URL)`}),(0,Q.jsx)(`input`,{className:`form-field`,value:b,onChange:e=>S(e.target.value),placeholder:`images/example.jpg`}),b&&(0,Q.jsx)(`div`,{style:{marginTop:`0.5rem`},children:(0,Q.jsx)(`img`,{src:b,alt:`Preview`,style:{height:`60px`,borderRadius:`4px`}})})]})]}),(0,Q.jsxs)(`div`,{style:{display:`flex`,flexDirection:`column`,gap:`1rem`},children:[(0,Q.jsxs)(`div`,{className:`form-input-group`,children:[(0,Q.jsx)(`label`,{children:`M t chi tit`}),(0,Q.jsx)(`textarea`,{className:`form-field`,rows:4,value:v,onChange:e=>y(e.target.value),placeholder:`M t c im, cng dng...`})]}),(0,Q.jsxs)(`div`,{className:`form-input-group`,children:[(0,Q.jsx)(`label`,{children:`Kch thc (phn cch bng du phy)`}),(0,Q.jsx)(`input`,{className:`form-field`,value:C,onChange:e=>w(e.target.value),placeholder:`15x15cm, 30x30cm`})]}),(0,Q.jsxs)(`div`,{className:`form-input-group`,style:{background:`#f8fafc`,padding:`1rem`,borderRadius:`8px`},children:[(0,Q.jsx)(`label`,{style:{marginBottom:`0.5rem`,display:`block`},children:`Thng s k thut`}),(0,Q.jsxs)(`div`,{style:{display:`flex`,gap:`0.5rem`,marginBottom:`0.5rem`},children:[(0,Q.jsx)(`input`,{className:`form-field`,placeholder:`Tn (VD:  dy)`,value:T,onChange:e=>E(e.target.value),style:{flex:1}}),(0,Q.jsx)(`input`,{className:`form-field`,placeholder:`Gi tr (VD: 2cm)`,value:D,onChange:e=>O(e.target.value),style:{flex:1}}),(0,Q.jsx)(`button`,{className:`btn outline sm`,onClick:ne,type:`button`,children:(0,Q.jsx)(`i`,{className:`fa-solid fa-plus`})})]}),(0,Q.jsx)(`ul`,{style:{listStyle:`none`,padding:0},children:Object.entries(k).map(([e,t])=>(0,Q.jsxs)(`li`,{style:{display:`flex`,justifyContent:`space-between`,fontSize:`0.9rem`,borderBottom:`1px solid #e2e8f0`,padding:`4px 0`},children:[(0,Q.jsxs)(`span`,{children:[(0,Q.jsxs)(`strong`,{children:[e,`:`]}),` `,t]}),(0,Q.jsx)(`button`,{onClick:()=>re(e),style:{border:`none`,background:`none`,color:`#ef4444`,cursor:`pointer`},children:(0,Q.jsx)(`i`,{className:`fa-solid fa-times`})})]},e))})]})]})]}),(0,Q.jsxs)(`div`,{style:{textAlign:`right`,marginTop:`2rem`,borderTop:`1px solid #eee`,paddingTop:`1rem`},children:[(0,Q.jsx)(`button`,{className:`btn outline`,onClick:A,style:{marginRight:`1rem`},children:`Hy b`}),(0,Q.jsxs)(`button`,{className:`btn primary`,onClick:()=>{if(!c||!u||!f){alert(`Tn, Slug v Gi l bt buc.`);return}let e={name:c,slug:u,price:parseFloat(f),category:m,stock:parseInt(g)||0,description:v,image:b,sizes:C.split(`,`).map(e=>e.trim()).filter(e=>e),specifications:k};i&&o?(n({...e,id:o}),alert(`Cp nht thnh cng!`)):(t(e),alert(`Thm mi thnh cng!`)),A()},children:[(0,Q.jsx)(`i`,{className:`fa-solid fa-save`}),` `,o?`Lu thay i`:`To sn phm`]})]})]}),(0,Q.jsxs)(`div`,{className:`table-card`,style:{overflowX:`auto`},children:[(0,Q.jsxs)(`table`,{className:`pro-table`,style:{minWidth:`600px`},children:[(0,Q.jsx)(`thead`,{children:(0,Q.jsxs)(`tr`,{children:[(0,Q.jsx)(`th`,{style:{width:`60px`},children:`nh`}),(0,Q.jsx)(`th`,{children:`Thng tin sn phm`}),(0,Q.jsx)(`th`,{children:`Gi bn`}),(0,Q.jsx)(`th`,{children:`Kho`}),(0,Q.jsx)(`th`,{style:{textAlign:`center`},children:`Thao tc`})]})}),(0,Q.jsx)(`tbody`,{children:e.map(e=>(0,Q.jsxs)(`tr`,{children:[(0,Q.jsx)(`td`,{children:(0,Q.jsx)(`img`,{src:e.image||`images/hdpe.jpg`,alt:``,style:{width:`48px`,height:`48px`,objectFit:`cover`,borderRadius:`6px`,background:`#f1f5f9`}})}),(0,Q.jsxs)(`td`,{children:[(0,Q.jsx)(`div`,{style:{fontWeight:600,color:`#0f172a`},children:e.name}),(0,Q.jsxs)(`div`,{style:{fontSize:`0.8rem`,color:`#64748b`},children:[e.slug,`  `,e.category]})]}),(0,Q.jsxs)(`td`,{style:{fontWeight:600,color:`#20803F`},children:[e.price.toLocaleString(),` `]}),(0,Q.jsx)(`td`,{children:(0,Q.jsx)(`span`,{style:{padding:`4px 8px`,borderRadius:`20px`,background:e.stock>0?`#dcfce7`:`#fee2e2`,color:e.stock>0?`#166534`:`#991b1b`,fontSize:`0.85rem`,fontWeight:600},children:e.stock})}),(0,Q.jsx)(`td`,{style:{textAlign:`center`},children:(0,Q.jsxs)(`div`,{style:{display:`flex`,gap:`0.5rem`,justifyContent:`center`},children:[(0,Q.jsx)(`button`,{className:`btn outline sm`,onClick:()=>te(e),title:`Sa`,children:(0,Q.jsx)(`i`,{className:`fa-solid fa-pen`})}),(0,Q.jsx)(`button`,{className:`btn outline sm`,onClick:()=>{window.confirm(`Bn c chc chn mun xa?`)&&r(e.id)},style:{color:`#ef4444`,borderColor:`#ef4444`},title:`Xa`,children:(0,Q.jsx)(`i`,{className:`fa-solid fa-trash`})})]})})]},e.id))})]}),e.length===0&&(0,Q.jsx)(`div`,{style:{padding:`2rem`,textAlign:`center`,color:`#64748b`},children:`Cha c sn phm no.`})]})]})}function Vm(){let{logout:e,userAttributes:t,user:n}=Xd(),r=Qe(),[i,a]=(0,x.useState)(!1),o=async()=>{await e(),r(`/`)},s=t?.name||n?.username||`Admin`;return(0,Q.jsx)(`header`,{className:`admin-header-nav`,children:(0,Q.jsxs)(`div`,{className:`admin-nav-container`,children:[(0,Q.jsxs)(un,{to:`/admin`,className:`admin-logo`,children:[(0,Q.jsx)(`img`,{src:Zd(`LogoEBcolor.png`),width:40,height:40,alt:`Ecobrick Admin`}),(0,Q.jsxs)(`span`,{className:`logo-text`,children:[`Ecobrick `,(0,Q.jsx)(`span`,{className:`logo-badge`,children:`Admin`})]})]}),(0,Q.jsx)(`div`,{className:`admin-user-controls`,children:(0,Q.jsxs)(`div`,{className:`admin-profile-wrapper`,onClick:()=>a(!i),children:[(0,Q.jsxs)(`div`,{className:`admin-profile`,children:[(0,Q.jsx)(`div`,{className:`avatar-circle`,children:s.charAt(0).toUpperCase()}),(0,Q.jsxs)(`span`,{className:`admin-name`,children:[s,` `,(0,Q.jsx)(`i`,{className:`fa-solid fa-chevron-down`,style:{fontSize:`0.7rem`,marginLeft:`0.25rem`}})]})]}),i&&(0,Q.jsx)(`div`,{className:`admin-profile-dropdown`,children:(0,Q.jsxs)(`div`,{className:`dropdown-item`,onClick:o,children:[(0,Q.jsx)(`i`,{className:`fa-solid fa-right-from-bracket`}),` ng xut`]})})]})})]})})}function Hm({children:e,activeTab:t,onTabChange:n}){return(0,Q.jsxs)(`div`,{className:`admin-layout`,children:[(0,Q.jsx)(Vm,{}),(0,Q.jsxs)(`div`,{className:`admin-body`,children:[(0,Q.jsxs)(`aside`,{className:`admin-idx-sidebar`,children:[(0,Q.jsx)(`nav`,{className:`admin-side-nav`,children:[{id:`overview`,icon:`fa-chart-pie`,label:`Tng quan`},{id:`orders`,icon:`fa-box-open`,label:`Qun l n`},{id:`users`,icon:`fa-users`,label:`Ngi dng`},{id:`products`,icon:`fa-box`,label:`Sn phm`},{id:`vouchers`,icon:`fa-ticket`,label:`Voucher & Cu hnh`}].map(e=>(0,Q.jsxs)(`button`,{className:`admin-nav-link ${t===e.id?`active`:``}`,onClick:()=>n(e.id),children:[(0,Q.jsx)(`i`,{className:`fa-solid ${e.icon} nav-icon`}),(0,Q.jsx)(`span`,{children:e.label})]},e.id))}),(0,Q.jsx)(`div`,{className:`admin-version`,children:`v1.2.0  Ecobrick Admin`})]}),(0,Q.jsx)(`main`,{className:`admin-main-content`,children:e})]})]})}function Um(){let[e,t]=(0,x.useState)(`overview`);return(0,Q.jsx)(Hm,{activeTab:e,onTabChange:t,children:(()=>{switch(e){case`overview`:return(0,Q.jsx)(mp,{});case`users`:return(0,Q.jsx)(Lm,{});case`orders`:return(0,Q.jsx)(Rm,{});case`vouchers`:return(0,Q.jsx)(zm,{});case`products`:return(0,Q.jsx)(Bm,{});default:return(0,Q.jsx)(mp,{})}})()})}function Wm(){let{isAuthenticated:e,user:t,userAttributes:n,role:r,isLoading:i}=Xd(),[a,o]=(0,x.useState)(null);(0,x.useEffect)(()=>{e&&s()},[e]);let s=async()=>{try{let e=await Gi();o({groups:e.tokens?.idToken?.payload[`cognito:groups`],email:e.tokens?.idToken?.payload.email,sub:e.tokens?.idToken?.payload.sub,exp:e.tokens?.idToken?.payload.exp,iat:e.tokens?.idToken?.payload.iat})}catch(e){console.error(`Load token error:`,e)}};return i?(0,Q.jsx)(`div`,{style:{padding:`2rem`,maxWidth:`800px`,margin:`0 auto`},children:(0,Q.jsx)(`h1`,{children:` ang ti...`})}):e?(0,Q.jsxs)(`div`,{style:{padding:`2rem`,maxWidth:`800px`,margin:`0 auto`,fontFamily:`Plus Jakarta Sans, sans-serif`},children:[(0,Q.jsx)(`h1`,{style:{color:`#20803F`,marginBottom:`2rem`},children:` Test Role & Token Info`}),(0,Q.jsxs)(`section`,{style:{marginBottom:`2rem`,background:`white`,padding:`1.5rem`,borderRadius:`12px`,boxShadow:`0 2px 8px rgba(0,0,0,0.08)`},children:[(0,Q.jsx)(`h2`,{style:{fontSize:`1.25rem`,marginBottom:`1rem`,color:`#2d2d2d`},children:` Thng tin User`}),(0,Q.jsx)(`table`,{style:{width:`100%`,borderCollapse:`collapse`},children:(0,Q.jsxs)(`tbody`,{children:[(0,Q.jsxs)(`tr`,{style:{borderBottom:`1px solid #eee`},children:[(0,Q.jsx)(`td`,{style:{padding:`0.75rem`,fontWeight:600,width:`200px`},children:`Username:`}),(0,Q.jsx)(`td`,{style:{padding:`0.75rem`},children:t?.username||`N/A`})]}),(0,Q.jsxs)(`tr`,{style:{borderBottom:`1px solid #eee`},children:[(0,Q.jsx)(`td`,{style:{padding:`0.75rem`,fontWeight:600},children:`Email:`}),(0,Q.jsx)(`td`,{style:{padding:`0.75rem`},children:n?.email||`N/A`})]}),(0,Q.jsxs)(`tr`,{style:{borderBottom:`1px solid #eee`},children:[(0,Q.jsx)(`td`,{style:{padding:`0.75rem`,fontWeight:600},children:`Name:`}),(0,Q.jsx)(`td`,{style:{padding:`0.75rem`},children:n?.name||`N/A`})]}),(0,Q.jsxs)(`tr`,{style:{borderBottom:`1px solid #eee`},children:[(0,Q.jsx)(`td`,{style:{padding:`0.75rem`,fontWeight:600},children:`Email Verified:`}),(0,Q.jsx)(`td`,{style:{padding:`0.75rem`},children:n?.email_verified===`true`?(0,Q.jsx)(`span`,{style:{color:`#20803F`,fontWeight:600},children:`  xc thc`}):(0,Q.jsx)(`span`,{style:{color:`#dc3545`,fontWeight:600},children:` Cha xc thc`})})]})]})})]}),(0,Q.jsxs)(`section`,{style:{marginBottom:`2rem`,background:`white`,padding:`1.5rem`,borderRadius:`12px`,boxShadow:`0 2px 8px rgba(0,0,0,0.08)`},children:[(0,Q.jsx)(`h2`,{style:{fontSize:`1.25rem`,marginBottom:`1rem`,color:`#2d2d2d`},children:` Phn quyn (Role)`}),(0,Q.jsxs)(`div`,{style:{padding:`1.5rem`,background:r===`admin`?`#f0f9f4`:`#f6f7f9`,borderRadius:`8px`,border:`2px solid ${r===`admin`?`#20803F`:`#ddd`}`},children:[(0,Q.jsx)(`div`,{style:{fontSize:`2rem`,marginBottom:`0.5rem`},children:r===`admin`?``:``}),(0,Q.jsx)(`div`,{style:{fontSize:`1.5rem`,fontWeight:700,color:r===`admin`?`#20803F`:`#666`,marginBottom:`0.5rem`},children:r===`admin`?`ADMIN`:`USER`}),(0,Q.jsx)(`div`,{style:{fontSize:`0.95rem`,color:`#666`},children:r===`admin`?`Bn c quyn truy cp trang /admin`:`Bn ch c quyn truy cp cc trang user (rewards, vouchers, redeem)`})]})]}),(0,Q.jsxs)(`section`,{style:{marginBottom:`2rem`,background:`white`,padding:`1.5rem`,borderRadius:`12px`,boxShadow:`0 2px 8px rgba(0,0,0,0.08)`},children:[(0,Q.jsx)(`h2`,{style:{fontSize:`1.25rem`,marginBottom:`1rem`,color:`#2d2d2d`},children:` Cognito Groups`}),a?.groups&&a.groups.length>0?(0,Q.jsx)(`div`,{style:{display:`flex`,gap:`0.5rem`,flexWrap:`wrap`},children:a.groups.map(e=>(0,Q.jsx)(`span`,{style:{padding:`0.5rem 1rem`,background:e===`admin`?`#20803F`:`#17a2b8`,color:`white`,borderRadius:`999px`,fontSize:`0.9rem`,fontWeight:600},children:e},e))}):(0,Q.jsx)(`p`,{style:{color:`#999`,fontStyle:`italic`},children:`Khng c group no. Lin h admin  c thm vo group.`})]}),(0,Q.jsxs)(`section`,{style:{marginBottom:`2rem`,background:`white`,padding:`1.5rem`,borderRadius:`12px`,boxShadow:`0 2px 8px rgba(0,0,0,0.08)`},children:[(0,Q.jsx)(`h2`,{style:{fontSize:`1.25rem`,marginBottom:`1rem`,color:`#2d2d2d`},children:` Token Info`}),a?(0,Q.jsx)(`table`,{style:{width:`100%`,borderCollapse:`collapse`},children:(0,Q.jsxs)(`tbody`,{children:[(0,Q.jsxs)(`tr`,{style:{borderBottom:`1px solid #eee`},children:[(0,Q.jsx)(`td`,{style:{padding:`0.75rem`,fontWeight:600,width:`200px`},children:`Subject (sub):`}),(0,Q.jsx)(`td`,{style:{padding:`0.75rem`,fontSize:`0.85rem`,wordBreak:`break-all`},children:a.sub})]}),(0,Q.jsxs)(`tr`,{style:{borderBottom:`1px solid #eee`},children:[(0,Q.jsx)(`td`,{style:{padding:`0.75rem`,fontWeight:600},children:`Email:`}),(0,Q.jsx)(`td`,{style:{padding:`0.75rem`},children:a.email})]}),(0,Q.jsxs)(`tr`,{style:{borderBottom:`1px solid #eee`},children:[(0,Q.jsx)(`td`,{style:{padding:`0.75rem`,fontWeight:600},children:`Issued At:`}),(0,Q.jsx)(`td`,{style:{padding:`0.75rem`},children:new Date(a.iat*1e3).toLocaleString(`vi-VN`)})]}),(0,Q.jsxs)(`tr`,{style:{borderBottom:`1px solid #eee`},children:[(0,Q.jsx)(`td`,{style:{padding:`0.75rem`,fontWeight:600},children:`Expires At:`}),(0,Q.jsx)(`td`,{style:{padding:`0.75rem`},children:new Date(a.exp*1e3).toLocaleString(`vi-VN`)})]}),(0,Q.jsxs)(`tr`,{children:[(0,Q.jsx)(`td`,{style:{padding:`0.75rem`,fontWeight:600},children:`Time Remaining:`}),(0,Q.jsxs)(`td`,{style:{padding:`0.75rem`},children:[Math.round((a.exp*1e3-Date.now())/1e3/60),` pht`]})]})]})}):(0,Q.jsx)(`p`,{children:`ang ti token info...`})]}),(0,Q.jsxs)(`section`,{style:{marginBottom:`2rem`,background:`white`,padding:`1.5rem`,borderRadius:`12px`,boxShadow:`0 2px 8px rgba(0,0,0,0.08)`},children:[(0,Q.jsx)(`h2`,{style:{fontSize:`1.25rem`,marginBottom:`1rem`,color:`#2d2d2d`},children:` Test Quyn truy cp`}),(0,Q.jsxs)(`div`,{style:{display:`flex`,flexDirection:`column`,gap:`1rem`},children:[(0,Q.jsxs)(`div`,{style:{display:`flex`,alignItems:`center`,justifyContent:`space-between`,padding:`1rem`,background:`#f6f7f9`,borderRadius:`8px`},children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`strong`,{children:`/rewards`}),` - im thng`]}),(0,Q.jsx)(`span`,{style:{color:`#20803F`,fontWeight:600},children:` C quyn`})]}),(0,Q.jsxs)(`div`,{style:{display:`flex`,alignItems:`center`,justifyContent:`space-between`,padding:`1rem`,background:`#f6f7f9`,borderRadius:`8px`},children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`strong`,{children:`/vouchers`}),` - Voucher ca ti`]}),(0,Q.jsx)(`span`,{style:{color:`#20803F`,fontWeight:600},children:` C quyn`})]}),(0,Q.jsxs)(`div`,{style:{display:`flex`,alignItems:`center`,justifyContent:`space-between`,padding:`1rem`,background:`#f6f7f9`,borderRadius:`8px`},children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`strong`,{children:`/redeem`}),` - i qu`]}),(0,Q.jsx)(`span`,{style:{color:`#20803F`,fontWeight:600},children:` C quyn`})]}),(0,Q.jsxs)(`div`,{style:{display:`flex`,alignItems:`center`,justifyContent:`space-between`,padding:`1rem`,background:`#f6f7f9`,borderRadius:`8px`},children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`strong`,{children:`/admin`}),` - Qun tr`]}),r===`admin`?(0,Q.jsx)(`span`,{style:{color:`#20803F`,fontWeight:600},children:` C quyn`}):(0,Q.jsx)(`span`,{style:{color:`#dc3545`,fontWeight:600},children:` Khng c quyn`})]})]})]}),(0,Q.jsxs)(`section`,{style:{display:`flex`,gap:`1rem`,justifyContent:`center`},children:[(0,Q.jsx)(`a`,{href:`/admin`,style:{padding:`0.75rem 1.5rem`,background:r===`admin`?`#20803F`:`#999`,color:`white`,textDecoration:`none`,borderRadius:`8px`,fontWeight:600,cursor:r===`admin`?`pointer`:`not-allowed`},children:`Th truy cp /admin`}),(0,Q.jsx)(`button`,{onClick:s,style:{padding:`0.75rem 1.5rem`,background:`#17a2b8`,color:`white`,border:`none`,borderRadius:`8px`,fontWeight:600,cursor:`pointer`},children:` Refresh Token Info`})]}),(0,Q.jsxs)(`details`,{style:{marginTop:`2rem`},children:[(0,Q.jsx)(`summary`,{style:{cursor:`pointer`,padding:`1rem`,background:`#f6f7f9`,borderRadius:`8px`,fontWeight:600},children:` View Raw JSON`}),(0,Q.jsx)(`pre`,{style:{marginTop:`1rem`,padding:`1rem`,background:`#2d2d2d`,color:`#f6f7f9`,borderRadius:`8px`,overflow:`auto`,fontSize:`0.85rem`},children:JSON.stringify({user:t,userAttributes:n,role:r,tokenInfo:a},null,2)})]})]}):(0,Q.jsxs)(`div`,{style:{padding:`2rem`,maxWidth:`800px`,margin:`0 auto`},children:[(0,Q.jsx)(`h1`,{children:` Cha ng nhp`}),(0,Q.jsxs)(`p`,{children:[`Vui lng `,(0,Q.jsx)(`a`,{href:`/login`,style:{color:`#20803F`},children:`ng nhp`}),`  xem thng tin.`]})]})}function Gm(){let{items:e,updateQuantity:t,removeFromCart:n,subtotal:r,discountAmount:i,total:a,appliedVoucher:o,applyVoucher:s,removeVoucher:c}=ef(),{claimedVouchers:l}=Mf(),[u,d]=(0,x.useState)(``),[f,p]=(0,x.useState)(``);return e.length===0?(0,Q.jsx)(`div`,{className:`page content`,style:{padding:`4rem 0`,textAlign:`center`},children:(0,Q.jsxs)(`div`,{className:`container`,children:[(0,Q.jsx)(`i`,{className:`fa-solid fa-cart-shopping`,style:{fontSize:`4rem`,color:`#cbd5e1`,marginBottom:`1.5rem`}}),(0,Q.jsx)(`h2`,{style:{marginBottom:`1rem`,color:`#334155`},children:`Gi hng trng`}),(0,Q.jsx)(`p`,{style:{marginBottom:`2rem`,color:`#64748b`},children:`Bn cha thm sn phm no vo gi hng.`}),(0,Q.jsx)(un,{to:`/products`,className:`btn primary`,children:`Tip tc mua sm`})]})}):(0,Q.jsx)(`div`,{className:`page content`,style:{background:`#f8fafc`,minHeight:`80vh`,padding:`2rem 0`},children:(0,Q.jsxs)(`div`,{className:`container`,children:[(0,Q.jsx)(`h2`,{className:`section-title`,style:{textAlign:`left`,fontSize:`2rem`,marginBottom:`2rem`},children:`Gi hng`}),(0,Q.jsxs)(`div`,{style:{display:`grid`,gridTemplateColumns:`minmax(0, 2fr) minmax(0, 1fr)`,gap:`2rem`,alignItems:`start`},children:[(0,Q.jsx)(`div`,{className:`cart-list`,style:{background:`white`,borderRadius:`16px`,padding:`1.5rem`,boxShadow:`0 4px 6px -1px rgba(0,0,0,0.05)`},children:e.map(e=>(0,Q.jsxs)(`div`,{style:{display:`flex`,gap:`1.5rem`,paddingBottom:`1.5rem`,marginBottom:`1.5rem`,borderBottom:`1px solid #f1f5f9`},children:[(0,Q.jsx)(`img`,{src:Zd(e.product.image),alt:e.product.name,style:{width:`100px`,height:`100px`,objectFit:`cover`,borderRadius:`8px`,background:`#f1f5f9`}}),(0,Q.jsxs)(`div`,{style:{flex:1},children:[(0,Q.jsxs)(`div`,{style:{display:`flex`,justifyContent:`space-between`,marginBottom:`0.5rem`},children:[(0,Q.jsx)(`h3`,{style:{fontSize:`1.1rem`,fontWeight:600,color:`#334155`},children:(0,Q.jsx)(un,{to:`/products/${e.product.slug}`,style:{textDecoration:`none`,color:`inherit`},children:e.product.name})}),(0,Q.jsx)(`button`,{onClick:()=>n(e.productId),style:{background:`none`,border:`none`,color:`#ef4444`,cursor:`pointer`},children:(0,Q.jsx)(`i`,{className:`fa-solid fa-trash`})})]}),(0,Q.jsx)(`p`,{style:{color:`#64748b`,fontSize:`0.9rem`,marginBottom:`1rem`},children:e.product.category}),(0,Q.jsxs)(`div`,{style:{display:`flex`,justifyContent:`space-between`,alignItems:`center`},children:[(0,Q.jsxs)(`div`,{style:{fontWeight:700,color:`#20803F`},children:[e.product.price.toLocaleString(),` `]}),(0,Q.jsxs)(`div`,{style:{display:`flex`,alignItems:`center`,gap:`0.5rem`,background:`#f8fafc`,padding:`4px`,borderRadius:`8px`,border:`1px solid #e2e8f0`},children:[(0,Q.jsx)(`button`,{onClick:()=>t(e.productId,e.quantity-1),style:{width:`28px`,height:`28px`,border:`none`,background:`white`,borderRadius:`6px`,cursor:`pointer`,boxShadow:`0 1px 2px rgba(0,0,0,0.05)`},children:`-`}),(0,Q.jsx)(`span`,{style:{width:`30px`,textAlign:`center`,fontSize:`0.9rem`,fontWeight:600},children:e.quantity}),(0,Q.jsx)(`button`,{onClick:()=>t(e.productId,e.quantity+1),style:{width:`28px`,height:`28px`,border:`none`,background:`white`,borderRadius:`6px`,cursor:`pointer`,boxShadow:`0 1px 2px rgba(0,0,0,0.05)`},children:`+`})]})]})]})]},e.productId))}),(0,Q.jsxs)(`div`,{className:`cart-summary`,style:{background:`white`,borderRadius:`16px`,padding:`1.5rem`,boxShadow:`0 4px 6px -1px rgba(0,0,0,0.05)`,position:`sticky`,top:`100px`},children:[(0,Q.jsx)(`h3`,{style:{fontSize:`1.25rem`,fontWeight:700,marginBottom:`1.5rem`,color:`#0f172a`},children:`Tng n hng`}),(0,Q.jsxs)(`div`,{style:{display:`flex`,justifyContent:`space-between`,marginBottom:`1rem`,color:`#64748b`},children:[(0,Q.jsx)(`span`,{children:`Tm tnh`}),(0,Q.jsxs)(`span`,{children:[r.toLocaleString(),` `]})]}),(0,Q.jsx)(`div`,{style:{marginBottom:`1.5rem`,padding:`1rem`,background:`#f8fafc`,borderRadius:`8px`,border:`1px solid #e2e8f0`},children:o?(0,Q.jsxs)(`div`,{style:{display:`flex`,justifyContent:`space-between`,alignItems:`center`},children:[(0,Q.jsxs)(`div`,{children:[(0,Q.jsxs)(`div`,{style:{fontWeight:600,color:`#20803F`,fontSize:`0.9rem`},children:[(0,Q.jsx)(`i`,{className:`fa-solid fa-ticket`}),` `,o.code]}),(0,Q.jsxs)(`div`,{style:{fontSize:`0.8rem`,color:`#64748b`},children:[`Gim `,o.discount]})]}),(0,Q.jsx)(`button`,{onClick:c,style:{border:`none`,background:`none`,color:`#ef4444`,fontSize:`0.8rem`,cursor:`pointer`,textDecoration:`underline`},children:`B`})]}):(0,Q.jsxs)(`div`,{children:[(0,Q.jsxs)(`div`,{style:{display:`flex`,gap:`0.5rem`},children:[(0,Q.jsx)(`input`,{type:`text`,placeholder:`M gim gi`,value:u,onChange:e=>d(e.target.value),style:{flex:1,padding:`0.5rem`,border:`1px solid #cbd5e1`,borderRadius:`6px`,fontSize:`0.9rem`}}),(0,Q.jsx)(`button`,{onClick:()=>{p(``);let e=l.find(e=>e.code===u&&e.status===`claimed`);e?(s(e),d(``)):p(`M voucher khng hp l hoc bn cha s hu.`)},className:`btn outline`,style:{padding:`0.5rem 1rem`,fontSize:`0.85rem`},children:`p dng`})]}),f&&(0,Q.jsx)(`div`,{style:{color:`#ef4444`,fontSize:`0.8rem`,marginTop:`0.5rem`},children:f})]})}),o&&(0,Q.jsxs)(`div`,{style:{display:`flex`,justifyContent:`space-between`,marginBottom:`1rem`,color:`#20803F`,fontWeight:600},children:[(0,Q.jsx)(`span`,{children:`Gim gi`}),(0,Q.jsxs)(`span`,{children:[`- `,i.toLocaleString(),` `]})]}),(0,Q.jsx)(`div`,{style:{borderTop:`1px solid #e2e8f0`,margin:`1rem 0`}}),(0,Q.jsxs)(`div`,{style:{display:`flex`,justifyContent:`space-between`,marginBottom:`2rem`,fontSize:`1.25rem`,fontWeight:700,color:`#0f172a`},children:[(0,Q.jsx)(`span`,{children:`Tng tin`}),(0,Q.jsxs)(`span`,{children:[a.toLocaleString(),` `]})]}),(0,Q.jsx)(`button`,{className:`btn primary`,style:{width:`100%`},onClick:()=>alert(`Chc nng thanh ton ang pht trin!`),children:`Thanh ton ngay`})]})]})]})})}var Km=e=>{try{return new Date(e).toLocaleDateString(`vi-VN`,{year:`numeric`,month:`long`,day:`numeric`,hour:`2-digit`,minute:`2-digit`})}catch{return e}};function qm(){let{history:e,claimedVouchers:t}=Mf(),n=e;return e.filter(e=>e.type===`redeem`),(0,Q.jsx)(`div`,{className:`page content`,style:{background:`#f8fafc`,padding:`3rem 0`,minHeight:`80vh`},children:(0,Q.jsxs)(`div`,{className:`container`,children:[(0,Q.jsx)(`h2`,{className:`section-title`,style:{textAlign:`left`,marginBottom:`2rem`},children:`Lch s hot ng`}),(0,Q.jsxs)(`div`,{style:{display:`grid`,gap:`3rem`},children:[(0,Q.jsxs)(`div`,{className:`card`,style:{padding:`2rem`},children:[(0,Q.jsxs)(`h3`,{style:{fontSize:`1.4rem`,color:`#1e293b`,marginBottom:`1.5rem`,display:`flex`,alignItems:`center`,gap:`0.75rem`},children:[(0,Q.jsx)(`i`,{className:`fa-solid fa-clock-rotate-left`,style:{color:`#20803F`}}),`Lch s tch & i im`]}),n.length===0?(0,Q.jsx)(`p`,{style:{color:`#64748b`,fontStyle:`italic`},children:`Cha c hot ng no.`}):(0,Q.jsx)(`div`,{className:`activity-list`,children:n.map(e=>(0,Q.jsxs)(`div`,{className:`activity-item`,children:[(0,Q.jsx)(`div`,{className:`activity-icon icon-${e.type===`donate`?`donate`:e.type===`redeem`?`redeem`:`admin`}`,children:(0,Q.jsx)(`i`,{className:`fa-solid ${e.type===`donate`?`fa-recycle`:e.type===`redeem`?`fa-ticket`:`fa-user-pen`}`})}),(0,Q.jsxs)(`div`,{className:`activity-details`,children:[(0,Q.jsxs)(`div`,{className:`activity-title`,children:[e.type===`donate`?`Quyn gp nha`:e.type===`redeem`?`i voucher`:`iu chnh t Admin`,e.kg?` (${e.kg} kg)`:``]}),(0,Q.jsx)(`div`,{className:`activity-date`,children:Km(e.createdAt)}),e.note&&(0,Q.jsxs)(`div`,{style:{fontSize:`0.85rem`,color:`#64748b`,marginTop:`0.2rem`},children:[`"`,e.note,`"`]})]}),(0,Q.jsxs)(`div`,{style:{textAlign:`right`},children:[(0,Q.jsxs)(`div`,{className:`activity-amount ${e.points>0?`amount-plus`:`amount-minus`}`,children:[e.points>0?`+`:``,e.points,` im`]}),(0,Q.jsx)(`div`,{className:`status-indicator st-${e.status||`approved`}`,children:e.status===`pending`?`ang duyt`:e.status===`rejected`?`T chi`:`Thnh cng`})]})]},e.id))})]}),(0,Q.jsxs)(`div`,{className:`card`,style:{padding:`2rem`},children:[(0,Q.jsxs)(`h3`,{style:{fontSize:`1.4rem`,color:`#1e293b`,marginBottom:`1.5rem`,display:`flex`,alignItems:`center`,gap:`0.75rem`},children:[(0,Q.jsx)(`i`,{className:`fa-solid fa-ticket`,style:{color:`#f59e0b`}}),`Lch s Voucher  i`]}),t.length===0?(0,Q.jsx)(`p`,{style:{color:`#64748b`,fontStyle:`italic`},children:`Bn cha i voucher no.`}):(0,Q.jsx)(`div`,{style:{display:`grid`,gridTemplateColumns:`repeat(auto-fill, minmax(280px, 1fr))`,gap:`1.5rem`},children:t.map(e=>(0,Q.jsxs)(`div`,{style:{border:`1px solid #e2e8f0`,borderRadius:`12px`,padding:`1.25rem`,background:`#fff`,position:`relative`,overflow:`hidden`},children:[(0,Q.jsx)(`div`,{style:{position:`absolute`,top:0,left:0,width:`4px`,height:`100%`,background:`#f59e0b`}}),(0,Q.jsx)(`div`,{style:{marginBottom:`0.5rem`,fontWeight:700,color:`#334155`},children:e.title}),(0,Q.jsxs)(`div`,{style:{display:`flex`,justifyContent:`space-between`,alignItems:`center`,marginBottom:`1rem`},children:[(0,Q.jsx)(`div`,{style:{color:`#20803F`,fontWeight:600,fontSize:`1.1rem`},children:e.discount}),(0,Q.jsxs)(`div`,{style:{fontSize:`0.85rem`,color:`#94a3b8`},children:[`HSD: `,e.expiresAt]})]}),(0,Q.jsx)(`div`,{style:{background:`#f8fafc`,padding:`0.5rem`,borderRadius:`6px`,textAlign:`center`,border:`1px dashed #cbd5e1`,fontFamily:`monospace`,fontWeight:600,color:`#0f172a`},children:e.code})]},e.id))})]})]})]})})}function Jm(){let{user:e,userAttributes:t}=Xd(),{points:n,history:r}=Mf(),i={donations:r.filter(e=>e.type===`donate`&&e.status===`approved`).length,totalKg:r.filter(e=>e.type===`donate`&&e.status===`approved`).reduce((e,t)=>e+(t.kg||0),0),vouchers:r.filter(e=>e.type===`redeem`).length};return(0,Q.jsx)(`div`,{className:`page content`,style:{background:`#f8fafc`,padding:`3rem 0`},children:(0,Q.jsx)(`div`,{className:`container`,children:(0,Q.jsxs)(`div`,{style:{maxWidth:`800px`,margin:`0 auto`},children:[(0,Q.jsxs)(`div`,{className:`card`,style:{padding:`2.5rem`,marginBottom:`2rem`,display:`flex`,alignItems:`center`,gap:`2rem`,flexDirection:`column`,textAlign:`center`},children:[(0,Q.jsx)(`div`,{style:{width:`100px`,height:`100px`,background:`#20803F`,borderRadius:`50%`,display:`flex`,alignItems:`center`,justifyContent:`center`,color:`white`,fontSize:`2.5rem`,fontWeight:700},children:t?.name?.[0]||e?.username?.[0]||`U`}),(0,Q.jsxs)(`div`,{children:[(0,Q.jsx)(`h1`,{style:{fontSize:`1.8rem`,marginBottom:`0.5rem`,color:`#1e293b`},children:t?.name||e?.username}),(0,Q.jsx)(`p`,{style:{color:`#64748b`},children:t?.email}),(0,Q.jsxs)(`div`,{style:{marginTop:`1.5rem`,display:`inline-flex`,background:`#dcfce7`,color:`#166534`,padding:`0.5rem 1rem`,borderRadius:`20px`,fontWeight:600},children:[n,` im Ecobricks`]})]})]}),(0,Q.jsxs)(`div`,{style:{display:`grid`,gridTemplateColumns:`1fr 1fr 1fr`,gap:`1.5rem`,marginBottom:`2rem`},children:[(0,Q.jsxs)(`div`,{className:`card`,style:{padding:`1.5rem`,textAlign:`center`},children:[(0,Q.jsx)(`div`,{style:{fontSize:`2rem`,fontWeight:700,color:`#20803F`,marginBottom:`0.5rem`},children:i.donations}),(0,Q.jsx)(`div`,{style:{color:`#64748b`,fontSize:`0.9rem`},children:`Ln quyn gp`})]}),(0,Q.jsxs)(`div`,{className:`card`,style:{padding:`1.5rem`,textAlign:`center`},children:[(0,Q.jsx)(`div`,{style:{fontSize:`2rem`,fontWeight:700,color:`#20803F`,marginBottom:`0.5rem`},children:i.totalKg}),(0,Q.jsx)(`div`,{style:{color:`#64748b`,fontSize:`0.9rem`},children:`Kg nha  gp`})]}),(0,Q.jsxs)(`div`,{className:`card`,style:{padding:`1.5rem`,textAlign:`center`},children:[(0,Q.jsx)(`div`,{style:{fontSize:`2rem`,fontWeight:700,color:`#f59e0b`,marginBottom:`0.5rem`},children:i.vouchers}),(0,Q.jsx)(`div`,{style:{color:`#64748b`,fontSize:`0.9rem`},children:`Voucher  i`})]})]}),(0,Q.jsxs)(`div`,{className:`card`,style:{padding:`2rem`},children:[(0,Q.jsx)(`h3`,{style:{fontSize:`1.2rem`,marginBottom:`1.5rem`,borderBottom:`1px solid #eee`,paddingBottom:`1rem`},children:`Thng tin ti khon`}),(0,Q.jsxs)(`div`,{style:{display:`grid`,gap:`1rem`},children:[(0,Q.jsxs)(`div`,{style:{display:`flex`,justifyContent:`space-between`},children:[(0,Q.jsx)(`span`,{style:{color:`#64748b`},children:`Tn ng nhp`}),(0,Q.jsx)(`span`,{style:{fontWeight:500},children:e?.username})]}),(0,Q.jsxs)(`div`,{style:{display:`flex`,justifyContent:`space-between`},children:[(0,Q.jsx)(`span`,{style:{color:`#64748b`},children:`Email`}),(0,Q.jsx)(`span`,{style:{fontWeight:500},children:t?.email})]}),(0,Q.jsxs)(`div`,{style:{display:`flex`,justifyContent:`space-between`},children:[(0,Q.jsx)(`span`,{style:{color:`#64748b`},children:`H v tn`}),(0,Q.jsx)(`span`,{style:{fontWeight:500},children:t?.name||`Cha cp nht`})]}),(0,Q.jsxs)(`div`,{style:{display:`flex`,justifyContent:`space-between`},children:[(0,Q.jsx)(`span`,{style:{color:`#64748b`},children:`Trng thi`}),(0,Q.jsx)(`span`,{style:{color:`#20803F`,fontWeight:600},children:`Active`})]})]})]})]})})})}var Ym=new Wd(new Id(eo));({configure(e,t){let n=Er(e),r=new $a({sameSite:`lax`}),i=t?.ssr?r:eo,a=t?.ssr?new Wd(new Id(r)):Ym;if(!n.Auth){Ui.configure(n,t);return}if(t?.Auth){Ui.configure(n,t);return}if(!Ui.libraryOptions.Auth){Ys.setAuthConfig(n.Auth),Ys.setKeyValueStorage(i),Ui.configure(n,{...t,Auth:{tokenProvider:Ys,credentialsProvider:a}});return}if(t){let e=Ui.libraryOptions.Auth;t.ssr!==void 0&&(Ys.setKeyValueStorage(i),e.credentialsProvider=a),Ui.configure(n,{Auth:e,...t});return}Ui.configure(n)},getConfig(){return Ui.getConfig()}}).configure({Auth:{Cognito:{userPoolId:`ap-southeast-1_SKvY5nSuC`,userPoolClientId:`4vt5k7hcgrbregji8i3q7lmp3i`,region:`ap-southeast-1`,loginWith:{oauth:{domain:`ecobrich-auth.auth.ap-southeast-1.amazoncognito.com`,scopes:[`email`,`openid`,`profile`],redirectSignIn:[`https://kokororay.github.io/EcobrickWeb/`],redirectSignOut:[`https://kokororay.github.io/EcobrickWeb/`],responseType:`code`}}}}});function Xm(){let e=Ye().pathname.startsWith(`/admin`);return(0,Q.jsx)(Yd,{children:(0,Q.jsx)(gf,{children:(0,Q.jsx)(ff,{children:(0,Q.jsx)(jf,{children:(0,Q.jsx)($d,{children:(0,Q.jsxs)(`div`,{className:`app`,children:[!e&&(0,Q.jsx)(nf,{}),(0,Q.jsx)(`main`,{className:e?``:`main`,children:(0,Q.jsxs)(wt,{children:[(0,Q.jsx)(St,{path:`/`,element:(0,Q.jsx)(cf,{})}),(0,Q.jsx)(St,{path:`/about`,element:(0,Q.jsx)(lf,{})}),(0,Q.jsx)(St,{path:`/products`,element:(0,Q.jsx)(mf,{})}),(0,Q.jsx)(St,{path:`/products/:slug`,element:(0,Q.jsx)(yf,{})}),(0,Q.jsx)(St,{path:`/process`,element:(0,Q.jsx)(xf,{})}),(0,Q.jsx)(St,{path:`/contact`,element:(0,Q.jsx)(Sf,{})}),(0,Q.jsx)(St,{path:`/how-it-works`,element:(0,Q.jsx)(Ef,{})}),(0,Q.jsx)(St,{path:`/login`,element:(0,Q.jsx)(Cf,{})}),(0,Q.jsx)(St,{path:`/register`,element:(0,Q.jsx)(wf,{})}),(0,Q.jsx)(St,{path:`/forgot-password`,element:(0,Q.jsx)(Tf,{})}),(0,Q.jsx)(St,{path:`/cart`,element:(0,Q.jsx)(Gm,{})}),(0,Q.jsx)(St,{path:`/test-role`,element:(0,Q.jsx)(af,{children:(0,Q.jsx)(Wm,{})})}),(0,Q.jsx)(St,{path:`/profile`,element:(0,Q.jsx)(af,{children:(0,Q.jsx)(Jm,{})})}),(0,Q.jsx)(St,{path:`/rewards`,element:(0,Q.jsx)(af,{children:(0,Q.jsx)(op,{})})}),(0,Q.jsx)(St,{path:`/redeem`,element:(0,Q.jsx)(af,{children:(0,Q.jsx)(sp,{})})}),(0,Q.jsx)(St,{path:`/vouchers`,element:(0,Q.jsx)(af,{children:(0,Q.jsx)(cp,{})})}),(0,Q.jsx)(St,{path:`/history`,element:(0,Q.jsx)(af,{children:(0,Q.jsx)(qm,{})})}),(0,Q.jsx)(St,{path:`/admin`,element:(0,Q.jsx)(of,{children:(0,Q.jsx)(Um,{})})})]})}),!e&&(0,Q.jsx)(rf,{})]})})})})})})}var Zm=document.getElementById(`root`);if(!Zm)throw Error(`Root element not found`);(0,qd.createRoot)(Zm).render((0,Q.jsx)(x.StrictMode,{children:(0,Q.jsx)(sn,{children:(0,Q.jsx)(Xm,{})})}));